------------------------------------------------------------------------
r4899 | dbera | 2008-12-27 12:15:07 -0500 (Sat, 27 Dec 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterArchive.cs

Do some more tmp file permission fixing - this time in FilterArchive.

------------------------------------------------------------------------
r4898 | dbera | 2008-12-26 19:25:25 -0500 (Fri, 26 Dec 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/IndexHelper/IndexHelper.cs
   M /trunk/beagrep/beagrepd/RemoteIndexer.cs

Automatically turn on debugging in IndexHelper if debugging is enabled in BeagrepDaemon.

------------------------------------------------------------------------
r4897 | dbera | 2008-12-26 18:55:22 -0500 (Fri, 26 Dec 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Indexable.cs
   M /trunk/beagrep/Util/FileSystem.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/SimpleFSLockFactory.cs
   M /trunk/beagrep/beagrepd/TextCache.cs

File.Delete requires write permission on the file! This is different than the POSIX behaviour and this bug was fixed in mono recently. As a result, with mono-2, beagrep tmpfiles could not be deleted.
Workaround this problem by using the Mono.Unix Unlink syscall.
While there, replace the hardcoded chmod permission values by the proper enum.

------------------------------------------------------------------------
r4896 | dbera | 2008-12-25 20:38:05 -0500 (Thu, 25 Dec 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs

Force re-crawling by the Files backend.

------------------------------------------------------------------------
r4895 | dbera | 2008-12-25 20:28:37 -0500 (Thu, 25 Dec 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/glue/eggaccelerators.h
   M /trunk/beagrep/glue/search-entry.h
   M /trunk/beagrep/glue/tomboykeybinder.c
   M /trunk/beagrep/glue/tomboykeybinder.h

Clean up GLib and GTK+ includes. Patch from #564460.

------------------------------------------------------------------------
r4894 | dbera | 2008-12-25 20:21:28 -0500 (Thu, 25 Dec 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/InternalUriManager.cs

Fix a long standing bug.
While beagrepd is not running, if the EA of a file gets removed (e.g. due to some editors which do not copy the EA), then during next crawling beagrep will add another document for the same file. As a result, the lucene index will have two documents for the same physical file. This will cause problems if the number of matches is more than the max-hits, fewer than max-hits matches will be returned (both the documents will match the query but both will resolve to the same physical file).
Ideally, while generating a new Id, one should check using the directory and the name if there is already an entry in the index for this file. This will slow down indexing during initial crawling but this is the right thing to do.

------------------------------------------------------------------------
r4893 | pmkovar | 2008-12-23 17:50:29 -0500 (Tue, 23 Dec 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/cs.po

2008-12-23  Petr Kovar  <pknbe@volny.cz>

	* cs.po: Updated Czech translation by Adrian Gunis
	(bug #537846).

------------------------------------------------------------------------
r4892 | dbera | 2008-12-21 13:39:52 -0500 (Sun, 21 Dec 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/ThunderbirdQueryable/ThunderbirdQueryable.cs

Prevent the thunderbird indexer from starting twice.

------------------------------------------------------------------------
r4891 | dbera | 2008-12-20 20:40:03 -0500 (Sat, 20 Dec 2008) | 2 lines
Changed paths:
   A /trunk/beagrep/Util/Debug.cs

Of course, add the new file needed for all the previous BEAGREP_DEBUG changes.

------------------------------------------------------------------------
r4890 | dbera | 2008-12-20 20:38:34 -0500 (Sat, 20 Dec 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Indexable.cs
   M /trunk/beagrep/Filters/FilterGif.cs
   M /trunk/beagrep/Filters/FilterTotem.cs
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/Util/Scheduler.cs
   M /trunk/beagrep/Util/TopScores.cs
   M /trunk/beagrep/Util/XmlFu.cs
   M /trunk/beagrep/beagrepd/FileAttributesStore.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/Filter.cs
   M /trunk/beagrep/beagrepd/FilterFactory.cs
   M /trunk/beagrep/beagrepd/LuceneBitArray.cs
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs
   M /trunk/beagrep/beagrepd/QueryResult.cs
   M /trunk/beagrep/beagrepd/Shutdown.cs
   M /trunk/beagrep/beagrepd/ThunderbirdQueryable/ThunderbirdQueryable.cs

Replace all the hardcoded Debug=true/false by a user supplied BEAGREP_DEBUG environment variable. User can set this variable to a comma-separated list of names and the internal debug for those classnames will be turned on.
* The user still needs to know which value to use for the env var - so its still meant for debugging only.
* However, now any user can turn on class specific debugging by just setting the env var - this should make debugging easier.

------------------------------------------------------------------------
r4889 | leonardof | 2008-12-06 08:19:49 -0500 (Sat, 06 Dec 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/pt_BR.po

2008-12-06  Leonardo Ferreira Fontenelle  <leonardof@gnome.org>

	* pt_BR.po: Updated Brazilian Portuguese translation.

------------------------------------------------------------------------
r4888 | lferrett | 2008-12-04 14:41:52 -0500 (Thu, 04 Dec 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/it.po

2008-12-04  Luca Ferretti  <elle.uca@libero.it>

	* it.po: Updated Italian translation by Gianvito Cavasoli.
------------------------------------------------------------------------
r4887 | dbera | 2008-11-26 23:13:41 -0500 (Wed, 26 Nov 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Scheduler.cs

Do not add duplicate tasks to the list of cancelled tasks.

------------------------------------------------------------------------
r4886 | dnylande | 2008-11-24 08:00:13 -0500 (Mon, 24 Nov 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/firefox-extension/Makefile.am
   A /trunk/beagrep/firefox-extension/chrome/locale/sv-SE
   A /trunk/beagrep/firefox-extension/chrome/locale/sv-SE/beagrep.dtd
   A /trunk/beagrep/firefox-extension/chrome/locale/sv-SE/beagrep.properties
   A /trunk/beagrep/firefox-extension/chrome/locale/sv-SE/contents.rdf
   M /trunk/beagrep/firefox-extension/chrome.manifest
   M /trunk/beagrep/thunderbird-extension/Makefile.am
   M /trunk/beagrep/thunderbird-extension/chrome.manifest
   A /trunk/beagrep/thunderbird-extension/locale/sv-SE
   A /trunk/beagrep/thunderbird-extension/locale/sv-SE/beagrep.dtd
   A /trunk/beagrep/thunderbird-extension/locale/sv-SE/contents.rdf
   A /trunk/beagrep/thunderbird-extension/locale/sv-SE/strings.properties

Adding Swedish translations for extensions


------------------------------------------------------------------------
r4885 | dnylande | 2008-11-23 11:19:31 -0500 (Sun, 23 Nov 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/sv.po

sv.po: Updated Swedish translation
------------------------------------------------------------------------
r4884 | jorgegonz | 2008-11-23 06:26:45 -0500 (Sun, 23 Nov 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r4883 | dbera | 2008-11-22 15:27:25 -0500 (Sat, 22 Nov 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterDesktop.cs

.desktop files can have empty lines before the [Desktop Entry] group. Deal with such files. Fixes #544607.
Actually, .desktop file format is pretty flexible - our parser will reject most of the uncommon but valid files. The best solution is to rewrite it using GKeyFiles.

------------------------------------------------------------------------
r4882 | dbera | 2008-11-22 14:56:59 -0500 (Sat, 22 Nov 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/UIManager.cs

Add translator-credit tab in the About dialog. Fixes #560812. Include a clumsy workaround to deal with untranslated translator-credits string.

------------------------------------------------------------------------
r4881 | dbera | 2008-11-22 14:32:31 -0500 (Sat, 22 Nov 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/beagrep-status

Path to bash was hardcoded in beagrep-status. I thought it is easier to just use "/usr/bin/env bash" that do a whole lot of sed-magic.

------------------------------------------------------------------------
r4880 | dbera | 2008-11-22 14:29:36 -0500 (Sat, 22 Nov 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/tools/beagrep-status

Use a custom while loop instead of the 'watch' command in beagrep-status. Fixes #556002. Apparently, in FreeBSD Linux's watch(1) does not exists, and FreeBSD has a watch(8) command to "snoop on another tty line".


------------------------------------------------------------------------
r4879 | dbera | 2008-11-22 14:09:32 -0500 (Sat, 22 Nov 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/Util/KdeUtils.cs
   M /trunk/beagrep/beagrepd/KopeteQueryable/KopeteQueryable.cs

Adapt to KDE4. If the environment variable KDE_SESSION_VERSION=4 at startup, always assume KDE4 is running and look in ~/.kde4. Otherwise, if ~/.kde4 exists, return it; else return ~/.kde. ~/.kde4 is checked everytime if the evn variable is not set; this is to handle cases like KDE4 is not running but some kde4 application is started while beagrep is running.

Make Kopete backend work with KDE4 also. Fixes #561429.


------------------------------------------------------------------------
r4877 | dbera | 2008-11-09 12:41:52 -0500 (Sun, 09 Nov 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search.Tiles/Application.cs
   A /trunk/beagrep/search/Beagrep.Search.exe.config
   M /trunk/beagrep/search/Makefile.am

Remove hardcoded library name from the source and move it to config file - this will make it easier to patch if the soname changes.

------------------------------------------------------------------------
r4876 | jmas | 2008-11-05 11:47:44 -0500 (Wed, 05 Nov 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ca.po

Small fixes to Catalan translation
------------------------------------------------------------------------
r4875 | jmas | 2008-11-02 07:36:27 -0500 (Sun, 02 Nov 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/ca.po

2008-10-02  Jordi Mas <jmas@softcatala.org>

	* ca.po: Updated Catalan translation.


------------------------------------------------------------------------
r4869 | kmaraas | 2008-10-07 12:02:16 -0400 (Tue, 07 Oct 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/nb.po

2008-10-07  Kjartan Maraas  <kmaraas@gnome.org>

	* nb.po: Updated Norwegian bokmål translation.

2008-10-06  Petr Kovar  <pknbe@volny.cz>
------------------------------------------------------------------------
r4868 | pmkovar | 2008-10-05 20:12:18 -0400 (Sun, 05 Oct 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/cs.po

2008-10-06  Petr Kovar  <pknbe@volny.cz>

	* cs.po: Updated Czech translation by Adrian Gunis
	(bug #537846 again).

------------------------------------------------------------------------
r4867 | ituohela | 2008-10-04 15:42:17 -0400 (Sat, 04 Oct 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/fi.po

Added Finnish translation
------------------------------------------------------------------------
r4866 | kelemeng | 2008-09-28 16:40:21 -0400 (Sun, 28 Sep 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/hu.po

2008-09-28  Gabor Kelemen  <kelemeng@gnome.hu>

	* hu.po: Translation updated.
------------------------------------------------------------------------
r4865 | chliao | 2008-09-28 09:47:45 -0400 (Sun, 28 Sep 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/zh_HK.po
   M /trunk/beagrep/po/zh_TW.po

0.3.8

------------------------------------------------------------------------
r4864 | dbera | 2008-09-27 16:48:29 -0400 (Sat, 27 Sep 2008) | 2 lines
Changed paths:
   D /trunk/beagrep/glue/inotify-syscalls.h
   D /trunk/beagrep/glue/inotify.h

From last commit, delete the removed files.

------------------------------------------------------------------------
r4863 | dbera | 2008-09-27 16:45:51 -0400 (Sat, 27 Sep 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/glue/Makefile.am
   M /trunk/beagrep/glue/inotify-glue.c
   M /trunk/beagrep/glue/inotify-syscalls.h
   M /trunk/beagrep/glue/inotify.h

Use sys/inotify.h (in glibc since 2.4) instead of our local copy. Patch from Adrian Bunk. Fixes #553159.

------------------------------------------------------------------------
r4862 | dbera | 2008-09-27 16:34:38 -0400 (Sat, 27 Sep 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/Search.cs
   M /trunk/beagrep/search/Beagrep.Search.Tray/TrayIcon.cs

Fixes #551898. Make sure hotkey changes via beagrep-settings is immediately picked up by beagrep-search.

------------------------------------------------------------------------
r4861 | dbera | 2008-09-12 17:13:01 -0400 (Fri, 12 Sep 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/QueryPart.cs

For some reason the Elements were changed to Attributes during serialization. This broke libbeagrep. Revert the change. This should hopefully fix #546871

------------------------------------------------------------------------
r4860 | dbera | 2008-09-12 16:38:54 -0400 (Fri, 12 Sep 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search.Tiles/Tile.cs

Check if there is an association application for a mimetype before using it. Should fix #549549.

------------------------------------------------------------------------
r4859 | leonardof | 2008-09-06 18:15:45 -0400 (Sat, 06 Sep 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/pt_BR.po

2008-09-06  Leonardo Ferreira Fontenelle  <leonardof@gnome.org>

	* pt_BR.po: Brazilian Portuguese translation updated by Djavan
	Fagundes.

------------------------------------------------------------------------
r4858 | ankitp | 2008-09-04 09:37:44 -0400 (Thu, 04 Sep 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/LINGUAS
   A /trunk/beagrep/po/gu.po

Added translations done by CDAC after review
------------------------------------------------------------------------
r4857 | dooteo | 2008-08-27 11:16:22 -0400 (Wed, 27 Aug 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/eu.po

2008-08-27  Inaki Larranaga Murgoitio  <dooteo@euskalgnu.org>

	* eu.po: Updated Basque translation.


------------------------------------------------------------------------
r4856 | pmkovar | 2008-08-16 17:09:36 -0400 (Sat, 16 Aug 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/cs.po

cs.po: Updated Czech translation by Adrian Gunis (bug #537846 again).
------------------------------------------------------------------------
r4855 | llipka | 2008-08-13 22:02:21 -0400 (Wed, 13 Aug 2008) | 1 line
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/GroupView.cs

NRE fixed. Bug #547641
------------------------------------------------------------------------
r4854 | tomaszd | 2008-08-13 20:53:00 -0400 (Wed, 13 Aug 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/pl.po

Updated Polish translation
------------------------------------------------------------------------
r4853 | wadimd | 2008-08-11 17:40:20 -0400 (Mon, 11 Aug 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/pl.po

2008-08-11  Wadim Dziedzic  <wdziedzic@aviary.pl>

	* pl.po: Updated Polish translation
------------------------------------------------------------------------
r4852 | yairhr | 2008-08-04 04:32:04 -0400 (Mon, 04 Aug 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/he.po

updated hebrew translation
------------------------------------------------------------------------
r4850 | djihed | 2008-07-31 06:23:24 -0400 (Thu, 31 Jul 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/ar.po

Updated Arabic Translation by Khaled Hosny. 
------------------------------------------------------------------------
r4849 | algol | 2008-07-29 17:02:01 -0400 (Tue, 29 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/it.po

Updated Italian translation.

------------------------------------------------------------------------
r4847 | dbera | 2008-07-23 11:22:53 -0400 (Wed, 23 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/firefox-extension/chrome/content/beagrepOverlay.js

Revert the special javascript:// ignoring patch in r4803; instead simply disable indexing any page which is not http[s]://.

------------------------------------------------------------------------
r4846 | jorgegonz | 2008-07-20 10:11:43 -0400 (Sun, 20 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r4845 | dbera | 2008-07-19 10:41:10 -0400 (Sat, 19 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/PropertyKeywordFu.cs
   M /trunk/beagrep/beagrepd/QueryStringParser.cs

Fixes #543635. Handle quoted queries like artist:abcd"1234 578" or even better example keyword:fixme:folder="my inbox".

------------------------------------------------------------------------
r4844 | dbera | 2008-07-18 07:38:14 -0400 (Fri, 18 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/hitresult.xsl

Add a hook to change the click handler for hit Uris. Do nothing for now. Could be used in future or by users to add custom handlers. Pass both mimetype and Uri since these two should have enough information on how to open the hit.

------------------------------------------------------------------------
r4843 | dnylande | 2008-07-15 11:50:17 -0400 (Tue, 15 Jul 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/sv.po

sv.po: Updated Swedish translation
------------------------------------------------------------------------
r4842 | dbera | 2008-07-15 11:04:04 -0400 (Tue, 15 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search.Tiles/Tile.cs

Fix a typo that was mysteriously left behind during my 2 week testing. Fix the Gnome.Vfs.MimeApplication build problem.

------------------------------------------------------------------------
r4841 | aihana | 2008-07-15 10:36:19 -0400 (Tue, 15 Jul 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/ja.po

2008-07-15  Takeshi AIHANA <takeshi.aihana@gmail.com>

        * ja.po: Updated Japanese translation.

------------------------------------------------------------------------
r4835 | dbera | 2008-07-14 20:34:59 -0400 (Mon, 14 Jul 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/ChangeLog
   M /trunk/beagrep/NEWS
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs
   M /trunk/beagrep/configure.in

Commit a change I missed in LuceneQueryingDriver (since we are calling hit_filter earlier no need to call it again before sending).
Update ChangeLog and NEWS for 0.3.8.

------------------------------------------------------------------------
r4834 | dbera | 2008-07-14 19:49:49 -0400 (Mon, 14 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/SearchWindow.cs

   Rename the environment variable BEAGREP_SCOPE to BEAGREP_SEARCH_SCOPE. Focus
   the search entry at startup.

------------------------------------------------------------------------
r4833 | dbera | 2008-07-14 17:36:38 -0400 (Mon, 14 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/conf-data/config-files/BeagrepSearch.xml
   M /trunk/beagrep/search/Beagrep.Search/Search.cs
   M /trunk/beagrep/tools/Settings.cs
   M /trunk/beagrep/tools/keygrabber.py

Fix some loose ends in the keygrabber.

------------------------------------------------------------------------
r4832 | dbera | 2008-07-14 15:52:42 -0400 (Mon, 14 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/settings.glade

Remove some technical words from beagrep-settings and make it easier to understand.

------------------------------------------------------------------------
r4831 | dbera | 2008-07-14 15:11:56 -0400 (Mon, 14 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs

Save previous seconds (.01 sec/empty backend in my VM) by not searching backends without any documents to search.

------------------------------------------------------------------------
r4830 | dbera | 2008-07-14 11:04:38 -0400 (Mon, 14 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Galago.cs

Ahh... I made the mistake of catching a runtime exception; unfortunately that code got shipped and now cannot be taken back. Cushion the mistake by printing an error message and adding a FIXME in the code. Also, do galago_init() only once instead of init() and uninit() every time the functions are called.

------------------------------------------------------------------------
r4829 | jorgegonz | 2008-07-13 15:00:00 -0400 (Sun, 13 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r4828 | dbera | 2008-07-12 01:16:25 -0400 (Sat, 12 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/RemovableIndexTool.cs

Print the details of the ResponseMessageExceptions.

------------------------------------------------------------------------
r4827 | dbera | 2008-07-11 13:16:32 -0400 (Fri, 11 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search.Pages/NoMatch.cs
   M /trunk/beagrep/search/Beagrep.Search.Pages/QuickTips.cs

Add a quick tip for extension queries and change a NoMatch tip. Translators will probably hate me now :-)

------------------------------------------------------------------------
r4826 | dbera | 2008-07-10 22:38:38 -0400 (Thu, 10 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneFileQueryable.cs
   M /trunk/beagrep/beagrepd/LuceneQueryable.cs
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs
   M /trunk/beagrep/beagrepd/StaticQueryable.cs
   M /trunk/beagrep/beagrepd/TomboyQueryable/TomboyQueryable.cs

Resolve the mysterious "Too many matches. Returned top 10 of 200 results" even when query.max-hits is 100. This happened as we applied hit_filter just before sending the results and for FSQ, the hit_filter is responsible for checking if the file actually exists. So if the number of initial matches is 200, but for some reason there are 90 bad matches among the first 100 then we would have returned only 10 hits! Fix this by removing uri-filter. Uri filter is not useful anymore since we already have a hit-filter and both uri-filter and hit-filter were applied more or less one after another. Now do all kind of hit validation in hit-filter and call it right when we were calling uri-filter i.e. creating hits.

------------------------------------------------------------------------
r4825 | dbera | 2008-07-09 17:04:19 -0400 (Wed, 09 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/keygrabber.py

keygrabber is already marked for translation so remove the dummy _(...) method.

------------------------------------------------------------------------
r4824 | dbera | 2008-07-09 15:24:42 -0400 (Wed, 09 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am

Missed this Makefile change in the last commit.

------------------------------------------------------------------------
r4823 | dbera | 2008-07-09 12:57:51 -0400 (Wed, 09 Jul 2008) | 2 lines
Changed paths:
   D /trunk/beagrep/beagrepd/beagrep-dump-index.1
   A /trunk/beagrep/beagrepd/beagrep-dump-index.8 (from /trunk/beagrep/beagrepd/beagrep-dump-index.1:4821)

beagrep-dump-index should go to man 8 (maintenance section).

------------------------------------------------------------------------
r4822 | dbera | 2008-07-09 12:31:09 -0400 (Wed, 09 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/SearchWindow.cs
   M /trunk/beagrep/search/Beagrep.Search.Tiles/File.cs

Fix a typo and keep track of the number of results that could not be shown due to unavailable tile.

------------------------------------------------------------------------
r4821 | kmaraas | 2008-07-09 10:34:50 -0400 (Wed, 09 Jul 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/nb.po

2008-07-09  Kjartan Maraas  <kmaraas@gnome.org>

	* nb.po: Updated Norwegian bokmål translation.

2008-07-06  Jorge Gonzalez  <jorgegonz@svn.gnome.org>
------------------------------------------------------------------------
r4820 | dbera | 2008-07-09 10:17:23 -0400 (Wed, 09 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/Makefile.am
   M /trunk/beagrep/tools/beagrep-config.1
   D /trunk/beagrep/tools/beagrep-index-info.1
   A /trunk/beagrep/tools/beagrep-index-info.8 (from /trunk/beagrep/tools/beagrep-index-info.1:4817)
   M /trunk/beagrep/tools/beagrep-info.1
   M /trunk/beagrep/tools/beagrep-ping.1
   M /trunk/beagrep/tools/beagrep-query.1

Update the man pages in tools/.

------------------------------------------------------------------------
r4819 | dbera | 2008-07-09 08:37:13 -0400 (Wed, 09 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/DirectoryWalker.cs
   A /trunk/beagrep/Util/FileNameMarshaler.cs
   M /trunk/beagrep/Util/Inotify.cs
   M /trunk/beagrep/Util/Makefile.am

Use a custom marshaller (based on Mono's FileNameMarshaler) to convert filenames returned by libc to UTF8 strings. If MONO_EXTERNAL_ENCODINGS is set to something not "utf8", then the platform default encoding is used instead of utf8. (It is a bit weird, if M_E_E is set, then the value of M_E_E is not used but Encoding.Default is used.) Non-UTF8 filenames should be correctly handled now.

------------------------------------------------------------------------
r4818 | dbera | 2008-07-08 23:51:15 -0400 (Tue, 08 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/KMailQueryable/KMailQueryable.cs

Support KMail-3 in KDE4. Basically look in ~/.kde4 instead of ~/.kde. Fixes #540153.

------------------------------------------------------------------------
r4817 | dbera | 2008-07-08 20:44:01 -0400 (Tue, 08 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/SearchWindow.cs
   M /trunk/beagrep/search/Beagrep.Search.Pages/NoMatch.cs

Add some more tips if no results are returned.

------------------------------------------------------------------------
r4816 | dbera | 2008-07-08 20:25:57 -0400 (Tue, 08 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/po/POTFILES.in
   M /trunk/beagrep/tools/Makefile.am

distcheck fixes.

------------------------------------------------------------------------
r4815 | dbera | 2008-07-08 19:52:06 -0400 (Tue, 08 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/COPYING
   M /trunk/beagrep/Util/Config.cs
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/conf-data/config-files/BeagrepSearch.xml
   M /trunk/beagrep/search/Beagrep.Search/Search.cs
   M /trunk/beagrep/tools/Makefile.am
   M /trunk/beagrep/tools/Settings.cs
   A /trunk/beagrep/tools/keygrabber.py
   M /trunk/beagrep/tools/settings.glade

Add a python script (from CCSM) to grab shortcut keys from user input. Use the script in beagrep-settings to get the shortcut key for beagrep-search. Store the entire binding string in config instead of separately storing ctrl, alt and the key. Note that CCSM is GPLv2+ so we are including the script as GPLv3. It is possible to create a C# program to do what the script does but I am not taking the risk yet.

------------------------------------------------------------------------
r4814 | dbera | 2008-07-08 00:29:19 -0400 (Tue, 08 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BuildIndex.cs

Fix a sloppy bug where the Uri for a non-removable source was incorrect.

------------------------------------------------------------------------
r4813 | dbera | 2008-07-07 22:11:34 -0400 (Mon, 07 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/search/Beagrep.Search.Tiles/Tile.cs
   M /trunk/beagrep/search/Makefile.am

Why was the OpenWith menu disabled even with gtk+ > 2.8. I enabled it to see how it goes. If it does not work, then there is no sense in keeping around unused code.

------------------------------------------------------------------------
r4812 | dbera | 2008-07-07 14:12:24 -0400 (Mon, 07 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/Driver.cs

I would still like to run beagrep-search inspite of Kubuntu not starting dbus-session at login.

------------------------------------------------------------------------
r4811 | dbera | 2008-07-07 10:25:39 -0400 (Mon, 07 Jul 2008) | 2 lines
Changed paths:
   D /trunk/beagrep/Filters/TagLib

Ahh... forgot to remove local copy of taglib-sharp.

------------------------------------------------------------------------
r4810 | dbera | 2008-07-06 15:59:39 -0400 (Sun, 06 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterPidginLog.cs

Catch some string parsing errors while parsing piding log files.

------------------------------------------------------------------------
r4809 | dbera | 2008-07-06 15:44:06 -0400 (Sun, 06 Jul 2008) | 2 lines
Changed paths:
   D /trunk/beagrep/Util/Battery.cs
   M /trunk/beagrep/Util/BatteryMonitor.cs

Forgot to remove unused Util/Battery.cs. And fix a typo :)

------------------------------------------------------------------------
r4808 | jorgegonz | 2008-07-06 09:40:20 -0400 (Sun, 06 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spansih translation

------------------------------------------------------------------------
r4807 | dbera | 2008-07-05 19:22:21 -0400 (Sat, 05 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/ExternalStringsHack.cs.in
   M /trunk/beagrep/Util/GnomeFu.cs
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/search/Beagrep.Search/Driver.cs
   M /trunk/beagrep/search/Beagrep.Search.Tiles/Tile.cs

Bump gtk+/# >= 2.10. Use the nice Gnome.Vfs.MimeApplication to open hits instead of our home-cooker GnomeFu. We dont really need gnome prefix since we use the Gnome# API to get what we need - this drops the build dependencies of libgnome-2.0-dev and libgnomevfs-dev.

------------------------------------------------------------------------
r4806 | dbera | 2008-07-05 11:47:15 -0400 (Sat, 05 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/SearchWindow.cs
   M /trunk/beagrep/search/Beagrep.Search/UIManager.cs
   M /trunk/beagrep/search/Beagrep.Search.Pages/StartDaemon.cs

Add a menu for beagrepd specific options. Add menu entries to start, stop beagrepd and move Index-Info to this menu option. Note that we never mention "beagrepd" in beagrep-search but always refer to it as "service".

------------------------------------------------------------------------
r4805 | jorgegonz | 2008-07-05 10:56:46 -0400 (Sat, 05 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r4804 | jorgegonz | 2008-07-05 07:27:25 -0400 (Sat, 05 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spansih translation

------------------------------------------------------------------------
r4803 | taofei | 2008-07-04 22:05:37 -0400 (Fri, 04 Jul 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/firefox-extension/chrome/content/beagrepOverlay.js

accept patch from
http://mail.gnome.org/archives/dashboard-hackers/2008-July/msg00002.html
don't index page with protocal javascript: 

------------------------------------------------------------------------
r4802 | dbera | 2008-07-04 18:46:52 -0400 (Fri, 04 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search.Tiles/ArchivedFile.cs
   M /trunk/beagrep/search/Beagrep.Search.Tiles/File.cs
   M /trunk/beagrep/search/Beagrep.Search.Tiles/TextDocument.cs

Some more cleanup of the last changes. Display the correct information for ArchivedFiles and Files. Remove the unnecessary GetTitle(hit, true) since it was redundant.

------------------------------------------------------------------------
r4801 | dbera | 2008-07-04 18:28:44 -0400 (Fri, 04 Jul 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search.Tiles/File.cs
   M /trunk/beagrep/search/Beagrep.Search.Tiles/TextDocument.cs

Slightly alter the information for hits in beagrep-search.
* For .doc, .odt, .pdf like office documents, often the document title property is incorrectly set or some autogenerated garbage. Instead of showing the title in the tile, use the filename.
* Always show the filename in the details pane; sometimes when the path is long, it is cut-off and it becomes hard to determine which file it is. Show title of the hit if it exists.

------------------------------------------------------------------------
r4800 | ymarcheg | 2008-07-03 04:08:21 -0400 (Thu, 03 Jul 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/oc.po

Updated Occitan translation
------------------------------------------------------------------------
r4799 | dbera | 2008-07-02 17:15:53 -0400 (Wed, 02 Jul 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/Settings.cs

Show an error dialog if beagrep-settings encounters an unhandled exception. This is better than silently crashing because it gives a better feedback to the user. Fixes #541134. Patch from Arun Chaganty <arunchaganty@gmail.com>.

------------------------------------------------------------------------
r4798 | ymarcheg | 2008-07-02 14:46:20 -0400 (Wed, 02 Jul 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/oc.po

Updated Occitan translation
------------------------------------------------------------------------
r4797 | dbera | 2008-06-30 14:44:03 -0400 (Mon, 30 Jun 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/configure.in

tomboykeybinder.c explicitly calls X11 functions, so explicitly use -lX11 to build libbeagrepuiglue.so. Fixes #540120.

------------------------------------------------------------------------
r4796 | dbera | 2008-06-29 22:03:01 -0400 (Sun, 29 Jun 2008) | 2 lines
Changed paths:
   A /trunk/beagrep/Util/BatteryMonitor.cs (from /trunk/beagrep/beagrepd/BatteryMonitor.cs:4787)
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/Util/Scheduler.cs
   D /trunk/beagrep/beagrepd/BatteryMonitor.cs
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/Makefile.am

* Remove duplicate code for checking Battery status (beagrepd/BatteryMonitor.cs) and use Util/BatteryMonitor.cs.
* Only initialize the system dbus for battery monitoring; we don't need session dbus for that. This will remove the unnecessary error beagrepd prints if session dbus is not enabled.
------------------------------------------------------------------------
r4795 | dbera | 2008-06-29 13:19:57 -0400 (Sun, 29 Jun 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/Driver.cs

If DBUS session bus is not found, print a helpful message and then exit instead of crashing. Distros should make beagrep-search depend on dbus-x11.

------------------------------------------------------------------------
r4794 | dbera | 2008-06-29 12:20:27 -0400 (Sun, 29 Jun 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/VersionFu.cs
   M /trunk/beagrep/po/POTFILES.in
   M /trunk/beagrep/search/Beagrep.Search/UIManager.cs

Use the VersionFu copyright also in beagrep-search (which also corrects the beagrep-search copyright). Remove TypeFilter.cs from POTFILES.

------------------------------------------------------------------------
r4793 | dbera | 2008-06-29 12:11:58 -0400 (Sun, 29 Jun 2008) | 2 lines
Changed paths:
   D /trunk/beagrep/search/Beagrep.Search/TypeFilter.cs
   M /trunk/beagrep/search/Makefile.am

Remove TypeFilter.cs.

------------------------------------------------------------------------
r4792 | dbera | 2008-06-29 12:09:33 -0400 (Sun, 29 Jun 2008) | 6 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/SearchWindow.cs
   M /trunk/beagrep/search/Beagrep.Search/UIManager.cs

An attempt to address the "too many matches" problem. Replace the oft-unnoticed/multiple-choice scope menu by a short(!) combo box displaying the common search scopes. In the earlier implementation the selected scope menu was used to filter results after a query against all data. In this implementation, use the scope option to search against only the selected type of data. Remove the use of TypeFilter.cs which was asked in the FIXME "it would be nicer to create QueryParts to do the filtering beagrepd-side".

One problem with this approach is that there are just too many categories (currently ~ 15). Ideally, only the most common categories can be put here and the rest moved to the "Custom search" dialog. Oh right, someone has to create the Custom-search/Advanced-search dialog.

To allow users to add custom scopes, use the environment variables BEAGREP_SCOPE="label1=query-string1;label2=query-string2" and the appropriate query-string is appended to the query when one of these labels are selected in the combobox.

------------------------------------------------------------------------
r4791 | dnylande | 2008-06-23 16:32:56 -0400 (Mon, 23 Jun 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/sv.po

sv.po: Updated Swedish translation
------------------------------------------------------------------------
r4790 | pmkovar | 2008-06-21 06:47:12 -0400 (Sat, 21 Jun 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/cs.po

cs.po: Updated Czech translation by Adrian Gunis (bug #537846).
------------------------------------------------------------------------
r4789 | jwendell | 2008-06-20 08:36:43 -0400 (Fri, 20 Jun 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/pt_BR.po

2008-06-20  Jonh Wendell  <jwendell@gnome.org>

	* pt_BR.po: Updated Brazilian Portuguese translation by Fábio Nogueira.

------------------------------------------------------------------------
r4788 | dbera | 2008-06-15 09:51:12 -0400 (Sun, 15 Jun 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/RemoteIndexer.cs

Last SafeProcess fix also removed the console output of IndexHelper. Fix it.

------------------------------------------------------------------------
r4787 | jorgegonz | 2008-06-15 07:32:05 -0400 (Sun, 15 Jun 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r4786 | dbera | 2008-06-14 20:47:25 -0400 (Sat, 14 Jun 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterKonqHistory.cs
   M /trunk/beagrep/Util/KonqHistoryUtil.cs
   M /trunk/beagrep/beagrepd/KonqHistoryQueryable/KonqQueryable.cs

Add support for KDE4 konqueror history.
* The cache files are now stored gzipped.
* Change of format of the gunzipped file, now the HTTP response header is also stored in the cached file.

------------------------------------------------------------------------
r4785 | dbera | 2008-06-14 16:53:17 -0400 (Sat, 14 Jun 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneCommon.cs

Fix a bug I introduced in refcounting IndexReaders. Remove the MarkClose and MarkNoClose methods and instead do it directly using the Refcount; this is easier to understand.

------------------------------------------------------------------------
r4784 | dbera | 2008-06-14 07:07:05 -0400 (Sat, 14 Jun 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/SearchWindow.cs

Explicitly inform the user if too many results were found. It would be better if somehow we could also display a suggestion to "narrow your search scope".

------------------------------------------------------------------------
r4783 | claudep | 2008-06-14 06:20:11 -0400 (Sat, 14 Jun 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/fr.po

2008-06-14  Claude Paroz  <claude@2xlibre.net>

	* fr.po: Updated French translation.
------------------------------------------------------------------------
r4782 | dbera | 2008-06-14 03:57:05 -0400 (Sat, 14 Jun 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterDocbook.cs

* FilterDocbook.cs: Extract "keyword"s as properties. Don't add the child-indexable content to the content of the parent. This _might_ break yelp since now matches in child-indexables (docbook entries) will be returned only as child indexables. yelp needs to use the ParentUri if hits have it, otherwise it should use Uri.

------------------------------------------------------------------------
r4781 | dbera | 2008-06-13 07:24:49 -0400 (Fri, 13 Jun 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterArchive.cs
   M /trunk/beagrep/Filters/FilterBibTex.cs
   M /trunk/beagrep/Filters/FilterDocbook.cs
   M /trunk/beagrep/Filters/FilterMail.cs
   M /trunk/beagrep/Filters/FilterMonodoc.cs
   M /trunk/beagrep/beagrepd/IndexHelper/IndexHelper.cs
   M /trunk/beagrep/beagrepd/IndexHelper/RemoteIndexerExecutor.cs

* Fix our child URIs for the relevant filters. See UriFu comments for our URI format.
* The above fixes #535020.
* IndexHelper.cs: Fix running the helper by hand.

------------------------------------------------------------------------
r4780 | ymarcheg | 2008-06-11 06:56:37 -0400 (Wed, 11 Jun 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/oc.po

Updated Occitan translation
------------------------------------------------------------------------
r4779 | dbera | 2008-06-11 01:22:43 -0400 (Wed, 11 Jun 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/UnixTransport.cs
   M /trunk/beagrep/Filters/FilterExternal.cs
   M /trunk/beagrep/Filters/FilterSvg.cs
   M /trunk/beagrep/Util/ArrayFu.cs
   M /trunk/beagrep/Util/StringFu.cs
   M /trunk/beagrep/beagrepd/LuceneCommon.cs
   M /trunk/beagrep/beagrepd/NetworkServicesQueryable/HttpTransport.cs
   M /trunk/beagrep/beagrepd/Server.cs

Remove our temporary implementations of Array.IndexOfTYPE methods. We now use the Array.IndexOf generics method.

------------------------------------------------------------------------
r4778 | dbera | 2008-06-10 23:15:35 -0400 (Tue, 10 Jun 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/DumpIndex.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs

Incorporate the UriFu API changes.

------------------------------------------------------------------------
r4777 | dbera | 2008-06-10 23:14:28 -0400 (Tue, 10 Jun 2008) | 8 lines
Changed paths:
   M /trunk/beagrep/Util/UriFu.cs

Cleanup our Uri handling methods.

* Uri.Fragment is treated differently than Uri.Path (based on when to escape and when to not). Make the API explicit if the fragment needs to be escaped.

* Previous UriToEscapedString (which was converted from a legacy code) did some juggling with the scheme, hostname etc. and then merely appended the path and the fragment. This worked since we always create Uris where the path and the fragment are escaped.

Now, instead of duplicating efforts, we either return the original string used to create the already escaped Uri or we use the AbsoluteUri (which is more correct than uri.ToString()). For our path Uris, we really want the string we used to create the path-uri, so that works as before. For the rest, AbsoluteUri makes sure the Uri is already escaped which is what the earlier method would have done.

------------------------------------------------------------------------
r4776 | dbera | 2008-06-07 01:33:08 -0400 (Sat, 07 Jun 2008) | 8 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/RemovableIndexControl.cs
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/FileAttributesStore.cs
   M /trunk/beagrep/beagrepd/QueryDriver.cs
   M /trunk/beagrep/beagrepd/RemoteControlExecutors.cs
   M /trunk/beagrep/beagrepd/RemovableIndexTool.cs
   M /trunk/beagrep/beagrepd/StaticQueryable.cs

Implement indexing of removable sources.
* RemovableIndexControl.cs: Change API to pass locations of both the index directory and the mount point.
* FileAttributesStore.cs: Add methods to perform IsUpToDate...() against a supplied datetime instead of the last_mtime stored for the file.
* QueryDriver.cs: Move static index loading to StaticQueryable.cs and update for the API changes.
* StaticQueryable.cs: This can now create both normal static indexes and removable static indexes (which is similar to the usual index except takes an additional mount dir). Modify GetSnippet to deal with self-cached yet removable:// uris in the textcache. Add a HitFilter hook to change hit.Uri from removable:///a/b to file:///path/to/mount/dir/a/b
* RemovableIndexTool.cs: Minor changes.
* BuildIndex.cs: Add a "--removable" option which will create a removable index. The only difference is all Uris will be relative to the mount dir (which is the first <path> directory). Use Hal and other heuristics to obtain a "volume label" for the removable source and use it as Uri.Host (this value is not used currently but could be useful later). Tweak some methods since now it is dealing with two Uris, one fake removable:/// and one real file:///...

------------------------------------------------------------------------
r4775 | dbera | 2008-06-02 19:15:10 -0400 (Mon, 02 Jun 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Snippet.cs
   M /trunk/beagrep/beagrepd/NetworkServicesQueryable/HttpTransport.cs
   M /trunk/beagrep/beagrepd/NetworkServicesQueryable/NetworkServicesQueryable.cs
   M /trunk/beagrep/beagrepd/Server.cs

Flush some pending changes with respect to snippets from remote beagrepd. But nevertheless, this whole HTTP as a substitute of UnixSocket is the gateway to disaster. The remote server sometimes just stops responding to incoming HTTP requests and even though the sender has a timeout set, the timeout never happens. Basically, the whole querying over HTTP is not gonna work. Still, retrieving snippets was the last missing piece, so the network backend is now done.

------------------------------------------------------------------------
r4774 | dbera | 2008-06-02 16:32:50 -0400 (Mon, 02 Jun 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs

Add a debughook for lucenecommon static data. This will help in finding if we are leaking Lucene IndexReaders.

------------------------------------------------------------------------
r4773 | dbera | 2008-06-02 10:12:35 -0400 (Mon, 02 Jun 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterSpreadsheet.cs
   M /trunk/beagrep/Util/SafeProcess.cs

Since gnumeric svn r15294, ssindex writes the first two diagnostic lines when run as "ssindex -i" to stderr instead of stdout. As a result, ssindex based spreadsheet filter broke in Dec-06 !!!

------------------------------------------------------------------------
r4772 | dbera | 2008-06-02 07:34:58 -0400 (Mon, 02 Jun 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/SemWeb/README.txt

Update README.txt from SemWeb.

------------------------------------------------------------------------
r4771 | dbera | 2008-06-02 07:30:11 -0400 (Mon, 02 Jun 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Makefile.am

Add SemWeb/AssemblyInfo.cs to the tarball but not build it.

------------------------------------------------------------------------
r4770 | dbera | 2008-06-02 07:28:03 -0400 (Mon, 02 Jun 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/COPYING
   M /trunk/beagrep/Util/SemWeb/AssemblyInfo.cs
   M /trunk/beagrep/Util/SemWeb/Euler.cs
   M /trunk/beagrep/Util/SemWeb/GraphMatch.cs
   M /trunk/beagrep/Util/SemWeb/Inference.cs
   M /trunk/beagrep/Util/SemWeb/Interfaces.cs
   M /trunk/beagrep/Util/SemWeb/N3Reader.cs
   M /trunk/beagrep/Util/SemWeb/N3Writer.cs
   M /trunk/beagrep/Util/SemWeb/Query.cs
   D /trunk/beagrep/Util/SemWeb/README
   A /trunk/beagrep/Util/SemWeb/README.txt (from /trunk/beagrep/Util/SemWeb/README:4763)
   M /trunk/beagrep/Util/SemWeb/RdfReader.cs
   M /trunk/beagrep/Util/SemWeb/RdfXmlReader.cs
   M /trunk/beagrep/Util/SemWeb/Resource.cs
   M /trunk/beagrep/Util/SemWeb/SQLStore.cs
   M /trunk/beagrep/Util/SemWeb/SparqlClient.cs
   M /trunk/beagrep/Util/SemWeb/SpecialRelations.cs
   M /trunk/beagrep/Util/SemWeb/Store.cs
   M /trunk/beagrep/Util/SemWeb/UriMap.cs
   M /trunk/beagrep/Util/SemWeb/Util.cs
   D /trunk/beagrep/Util/SemWeb/upstream-change-01.diff
   D /trunk/beagrep/Util/SemWeb/upstream-change-02.diff
   A /trunk/beagrep/Util/SemWeb/upstream-change.diff

Update SemWeb. Make a note that we are incorporating SemWeb under the GPLv3 license. Merge the upstream changes into a single file.

------------------------------------------------------------------------
r4769 | dbera | 2008-06-01 17:10:32 -0400 (Sun, 01 Jun 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/configure.in

Instead of checking for sqlite3.pc, which we don't really need, look for the library libsqlite3 which is what we actually need. One less dependency!

------------------------------------------------------------------------
r4768 | dbera | 2008-06-01 16:36:18 -0400 (Sun, 01 Jun 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/Filters/Makefile.am
   M /trunk/beagrep/configure.in

Hard dependency added: taglib-sharp-2.x.
 - Every (major?) distribution now has packages for taglib-sharp. Save some trouble by not including it anymore.

------------------------------------------------------------------------
r4767 | dbera | 2008-06-01 10:37:19 -0400 (Sun, 01 Jun 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/conf-data/Makefile.am
   A /trunk/beagrep/conf-data/crawl-rules/crawl-executables
   M /trunk/beagrep/tools/beagrep-crawl-system.in

Add a crawl-executables for indexing the file names, extensions of /usr/bin, /usr/local/bin etc., keep it disabled by default.
Allow users to list the system indexes by /etc/beagrep-crawl-system --list.
Allow users to update only a particular index by /etc/beagrep-crawl-system crawl-monodoc

------------------------------------------------------------------------
r4766 | dbera | 2008-05-31 23:28:24 -0400 (Sat, 31 May 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneCommon.cs
   M /trunk/beagrep/beagrepd/StaticQueryable.cs

r2417 had partly negated the performance boost added in r2215 by allowing the search methods to call ReleaseReader. This essentially led to the creation of a new IndexReader almost everytime. Now we ensure that we have 1 IndexReader open at all times. Add a special method to even remove that 1 always-open IndexReader and use that from StaticQueryable to unload removable indexes.

------------------------------------------------------------------------
r4765 | dbera | 2008-05-31 19:25:07 -0400 (Sat, 31 May 2008) | 10 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/AssemblyInfo.cs
   M /trunk/beagrep/BeagrepClient/Makefile.am
   A /trunk/beagrep/BeagrepClient/RemovableIndexControl.cs
   M /trunk/beagrep/beagrepd/AssemblyInfo.cs
   M /trunk/beagrep/beagrepd/FileAttributesStore.cs
   M /trunk/beagrep/beagrepd/FileAttributesStore_ExtendedAttribute.cs
   M /trunk/beagrep/beagrepd/FileAttributesStore_Mixed.cs
   M /trunk/beagrep/beagrepd/FileAttributesStore_Sqlite.cs
   M /trunk/beagrep/beagrepd/IFileAttributesStore.cs
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/QueryDriver.cs
   M /trunk/beagrep/beagrepd/RemoteControlExecutors.cs
   A /trunk/beagrep/beagrepd/RemovableIndexTool.cs
   M /trunk/beagrep/beagrepd/StaticQueryable.cs
   M /trunk/beagrep/beagrepd/TextCache.cs

Initial support for removable index:
* Add infrastructure for unloading a staticqueryable. Unloading a static queryable means
 1. Remove it from QueryDriver's list
 2. Close text-cache connection, fileattributestore_sqlite connection
 3. Close lucene.net.store.{primary, secondary}directory
* Add BeagrepClient API to mount/unmount a removable index by giving its path
* Add a simple tool beagrep-removable-index with --mount/--unmount <path>

TODO: Create a wrapper around BuildIndex which will support storing paths relative to the mount point and storing indexes in a different location (e.g. to build a catalogue of all CDs).

------------------------------------------------------------------------
r4764 | dbera | 2008-05-25 12:41:30 -0400 (Sun, 25 May 2008) | 6 lines
Changed paths:
   M /trunk/beagrep/Util/Scheduler.cs

* Scheduler.cs: Punish misbehaving tasks. Frustrated by the numerous large-log-file complains, allow at most 200 exceptions before a task is automatically cancelled. One part of my brain wants to disallow even a single exception, but ... to keep with existing behaviour I am allowing a large number of exceptions for long running generator tasks. Ration your exceptions.

Show the list of cancelled tasks in beagrep-status.

Also deal with task cancellation correctly i.e. DoTaskReal might itself cancel a task so take that into consideration, do not schedule a cancelled task and some other such things.

------------------------------------------------------------------------
r4763 | dbera | 2008-05-19 22:17:37 -0400 (Mon, 19 May 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/RDFAdapter/Makefile.am

Add RdfQueryTool.exe to Makefile; generate wrapper beagrep-rdf-query. This is a testing tool so it is not installed.

------------------------------------------------------------------------
r4762 | dbera | 2008-05-19 08:32:05 -0400 (Mon, 19 May 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/firefox-extension/chrome/content/beagrepOverlay.js

Do not show an alert in the firefox extension if .beagrep is not found. Instead show the message in the tooltip of the extension icon.
Fixes debian #463922 (the extension will _not_ create the directory if it does not exist, so this is as far as the extension will go if the directory is not found), bnc #385513.

------------------------------------------------------------------------
r4761 | dbera | 2008-05-18 13:12:18 -0400 (Sun, 18 May 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/OperaHistory.cs

Fix #533529. Fix parsing of the opera cache file according to the format at http://www.opera.com/docs/fileformats/. Two major fixes - most integers are uint32 and stored in Big-Endian format and in case of parsing error, be conservative and skip records to avoid any kind of looping.

------------------------------------------------------------------------
r4760 | dbera | 2008-05-18 10:06:20 -0400 (Sun, 18 May 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterArchive.cs

Add a property archive:type to denote if the child indexable is from a zip/targz/tarbz2/tar/gzip/bz2 archive. Most flag properties (like fixme:inside_archive=true) will be replaced during Property Hack Week by checking if a mandatory property exists (e.g. archive:type).

------------------------------------------------------------------------
r4759 | dbera | 2008-05-18 02:09:11 -0400 (Sun, 18 May 2008) | 2 lines
Changed paths:
   A /trunk/beagrep/RDFAdapter/RdfQueryTool.cs (from /trunk/beagrep/tools/RdfQueryTool.cs:4754)
   D /trunk/beagrep/tools/RdfQueryTool.cs

Move the RdfQueryTool to RDFAdapter/ and add instructions for building it and running it.

------------------------------------------------------------------------
r4758 | dbera | 2008-05-18 02:04:15 -0400 (Sun, 18 May 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterBibTex.cs

Extract links from bibtex files.

------------------------------------------------------------------------
r4757 | dbera | 2008-05-18 01:54:29 -0400 (Sun, 18 May 2008) | 9 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneCommon.cs
   M /trunk/beagrep/beagrepd/LuceneQueryable.cs
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs
   M /trunk/beagrep/beagrepd/StaticQueryable.cs
   M /trunk/beagrep/beagrepd/TextCache.cs

Finish the remaining work wrt extracted-links for rdf. Specifically,
* Add an unstored field "TextLinks" in the primary-index which is a whitespace separated list of all extracted links.
* Store the actual links in the textcache.
* The reason for not storing the links in the index itself is, the links are extracted when the "Text" field is getting added to the index. Lucene makes it impossible to add a stored field whose content is dynamic.
* This textcache-index shuffling requires us to use the text-cache when dealing with "TextLinks" predicate. So expose the TextCache in LuceneQueryable and pass it to the rdf query function. This is because static queryables handle their own textcache.
* Rest is a continuation of creating virtual TextLinks properties for a Hit as and when needed. This is expensive and adds a necessary but costly step to rdf overlaying.

In short, if you are asking for all properties for all documents, watch out for smoke coming out of your computer.

------------------------------------------------------------------------
r4756 | dbera | 2008-05-18 01:43:41 -0400 (Sun, 18 May 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterBibTex.cs

Print a simple message instead of an elaborate exception is bibparse is not found. Ideally, this check should only be done if some bibtex file is going to be indexed; for the time being check always resulting in a warning at the beginning of beagrep-extract-content :(.

------------------------------------------------------------------------
r4755 | dbera | 2008-05-17 22:46:42 -0400 (Sat, 17 May 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Indexable.cs
   M /trunk/beagrep/Filters/FilterHtml.cs
   M /trunk/beagrep/Filters/FilterMail.cs
   M /trunk/beagrep/beagrepd/ExtractContent.cs
   M /trunk/beagrep/beagrepd/Filter.cs
   M /trunk/beagrep/beagrepd/FilterFactory.cs
   M /trunk/beagrep/beagrepd/LuceneCommon.cs
   M /trunk/beagrep/beagrepd/LuceneIndexingDriver.cs
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/NoiseFilter.cs
   M /trunk/beagrep/beagrepd/TextCache.cs
   M /trunk/beagrep/configure.in

Merge the links-extraction feature from the rdf branch. Builds with and without ENABLE_RDF_ADAPTER. TODO for the links feature:
- store the links in the index (do we need to ?)
- create virtual RDF property for the links metadata

------------------------------------------------------------------------
r4754 | dbera | 2008-05-13 19:57:30 -0400 (Tue, 13 May 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Config.cs

Catch exceptions due to corrupt config files. Fixes #532308.

------------------------------------------------------------------------
r4753 | lferrett | 2008-05-12 16:52:54 -0400 (Mon, 12 May 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/it.po

2008-05-12  Luca Ferretti  <elle.uca@libero.it>

	* it.po: Updated Italian translation by Gianvito Cavasoli.
------------------------------------------------------------------------
r4752 | dbera | 2008-05-10 21:50:48 -0400 (Sat, 10 May 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/AssemblyInfo.cs
   A /trunk/beagrep/Filters/FilterBibTex.cs
   M /trunk/beagrep/Filters/Makefile.am

Add a BibTex filter based on the command line program 'bibparse' from the btparse package. Most distributions I checked ship this program.

------------------------------------------------------------------------
r4751 | dbera | 2008-05-10 21:49:31 -0400 (Sat, 10 May 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/ExtractContent.cs

Fix extract-content to work with the fixed FilterFactory.FilterIndexable.

------------------------------------------------------------------------
r4750 | dbera | 2008-05-10 12:44:17 -0400 (Sat, 10 May 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/camel.cs

* Util/camel.cs: Throw IOException if camel believes end of file is reached. Later if IOException is caught, then stop further parsing of the summary file. For other exceptions, as before parsing continues for the next header. If end of file is reached (due to currupted file or whatever), then there is no point in trying to parse the summary for next headers.

------------------------------------------------------------------------
r4749 | kelemeng | 2008-05-09 08:30:44 -0400 (Fri, 09 May 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/hu.po

2008-05-09  Gabor Kelemen  <kelemeng@gnome.org>

	* hu.po: Translation updated.
------------------------------------------------------------------------
r4748 | dbera | 2008-05-06 11:42:43 -0400 (Tue, 06 May 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/EvolutionDataServerQueryable/CalContainer.cs

Use the correct protocol for evolution-tasks "task:///...". Fixes #530624.
NOTE: evolution on this machine does not open tasks from command line unless it is already opened in the tasks component. It works for calendar items. This is an evolution bug.

------------------------------------------------------------------------
r4746 | dbera | 2008-05-05 21:04:42 -0400 (Mon, 05 May 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/xemail-net/README

Add pointer to xemail-net homepage and mention the license in the README. Make meebay somewhat happy.

------------------------------------------------------------------------
r4745 | dbera | 2008-05-04 17:01:42 -0400 (Sun, 04 May 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/Util/SemWeb/Store.cs
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs

* BeagrepDaemon.cs: Add --mono-debug to beagrepd --help options.
* Store.cs: Fix building without --enable-rdf-adapter

------------------------------------------------------------------------
r4744 | dbera | 2008-05-02 20:15:27 -0400 (Fri, 02 May 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/beagrepd/GoogleBackends/GMailSearchDriver.cs
   M /trunk/beagrep/beagrepd/LocateQueryable/LocateDriver.cs
   M /trunk/beagrep/beagrepd/Makefile.am

RDF Adapter merge #4: Fix build with --enable-rdf-adapter.

------------------------------------------------------------------------
r4743 | dbera | 2008-05-02 20:02:00 -0400 (Fri, 02 May 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/AssemblyInfo.cs
   M /trunk/beagrep/BeagrepClient/Property.cs
   M /trunk/beagrep/BeagrepClient/Query.cs
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/beagrepd/AssemblyInfo.cs
   M /trunk/beagrep/beagrepd/DumpIndex.cs
   M /trunk/beagrep/beagrepd/ExternalMetadataQueryable.cs
   M /trunk/beagrep/beagrepd/IQueryable.cs
   M /trunk/beagrep/beagrepd/LuceneCommon.cs
   M /trunk/beagrep/beagrepd/LuceneQueryable.cs
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs
   M /trunk/beagrep/beagrepd/NetworkServicesQueryable/NetworkServicesQueryable.cs
   M /trunk/beagrep/beagrepd/QueryDriver.cs
   M /trunk/beagrep/beagrepd/QueryExecutor.cs
   M /trunk/beagrep/beagrepd/Queryable.cs

RDF Adapter merge #3: Merge the final changes from the RDF branch (except the extract-links patch).

------------------------------------------------------------------------
r4742 | dbera | 2008-05-02 19:24:30 -0400 (Fri, 02 May 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/AUTHORS
   M /trunk/beagrep/COPYING
   M /trunk/beagrep/Makefile.am
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/Util/SemWeb/Algos.cs
   M /trunk/beagrep/Util/SemWeb/AssemblyInfo.cs
   A /trunk/beagrep/Util/SemWeb/Euler.cs (from /branches/beagrep-rdf/Util/SemWeb/Euler.cs:4591)
   A /trunk/beagrep/Util/SemWeb/GraphMatch.cs (from /branches/beagrep-rdf/Util/SemWeb/GraphMatch.cs:4591)
   M /trunk/beagrep/Util/SemWeb/Inference.cs
   A /trunk/beagrep/Util/SemWeb/Interfaces.cs (from /branches/beagrep-rdf/Util/SemWeb/Interfaces.cs:4591)
   M /trunk/beagrep/Util/SemWeb/LiteralFilters.cs
   M /trunk/beagrep/Util/SemWeb/MemoryStore.cs
   M /trunk/beagrep/Util/SemWeb/N3Reader.cs
   M /trunk/beagrep/Util/SemWeb/N3Writer.cs
   M /trunk/beagrep/Util/SemWeb/NamespaceManager.cs
   M /trunk/beagrep/Util/SemWeb/Query.cs
   M /trunk/beagrep/Util/SemWeb/RDFS.cs
   D /trunk/beagrep/Util/SemWeb/RSquary.cs
   M /trunk/beagrep/Util/SemWeb/RdfReader.cs
   M /trunk/beagrep/Util/SemWeb/RdfWriter.cs
   M /trunk/beagrep/Util/SemWeb/RdfXmlReader.cs
   M /trunk/beagrep/Util/SemWeb/RdfXmlWriter.cs
   D /trunk/beagrep/Util/SemWeb/Remote.cs
   M /trunk/beagrep/Util/SemWeb/Resource.cs
   M /trunk/beagrep/Util/SemWeb/SQLStore.cs
   A /trunk/beagrep/Util/SemWeb/SparqlClient.cs (from /branches/beagrep-rdf/Util/SemWeb/SparqlClient.cs:4591)
   A /trunk/beagrep/Util/SemWeb/SpecialRelations.cs (from /branches/beagrep-rdf/Util/SemWeb/SpecialRelations.cs:4591)
   M /trunk/beagrep/Util/SemWeb/Statement.cs
   M /trunk/beagrep/Util/SemWeb/Store.cs
   M /trunk/beagrep/Util/SemWeb/Util.cs
   A /trunk/beagrep/Util/SemWeb/upstream-change-02.diff
   M /trunk/beagrep/configure.in
   A /trunk/beagrep/tools/RdfQueryTool.cs (from /branches/beagrep-rdf/tools/RdfQueryTool.cs:4585)

RDF Adapter merge #2: Merge new files, add updates to SemWeb and build switches.
RDF Adapter can be enabled with ./configure --enable-rdf-adapter, by default disabled. --enable-rdf-adapter does not quite build yet, some more changes have to be merged.

------------------------------------------------------------------------
r4741 | dbera | 2008-05-02 18:12:55 -0400 (Fri, 02 May 2008) | 2 lines
Changed paths:
   A /trunk/beagrep/RDFAdapter (from /branches/beagrep-rdf/RDFAdapter:4740)

Begin merging of RDF branch. Merge beagrep/RDFAdapter directory.

------------------------------------------------------------------------
r4740 | dbera | 2008-04-30 21:11:53 -0400 (Wed, 30 Apr 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/Util/KdeUtils.cs
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/tools/Makefile.am
   M /trunk/beagrep/tools/SettingsQt.cs
   M /trunk/beagrep/tools/beagrep-settings-qt.ui

Add the google backend related options to beagrep-settings-qt.
* KdeUtils.cs: Fix a bug during storing passwords in kdewallet.
* beagrep/tools/beagrep-settings-qt.ui, beagrep/tools/SettingsQt.cs, beagrep/tools/Makefile.am: Add google backend specific options. Disable the whole tab when build without google backend support.
* configure.in: Some distributions do not ship qyoto.pc; fallback on checking presence of qt-dotnet.dll. This should cover most of the mainline distros.

------------------------------------------------------------------------
r4739 | nirbheekc | 2008-04-29 20:19:16 -0400 (Tue, 29 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/help.html

Update webinterface help to include help on opening search results in epiphany.

------------------------------------------------------------------------
r4738 | dbera | 2008-04-28 13:03:37 -0400 (Mon, 28 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/EvolutionMailQueryable/EvolutionMailIndexableGenerator.cs
   M /trunk/beagrep/beagrepd/EvolutionMailQueryable/EvolutionMailQueryable.cs

Update Evolution backend for the new Evolution-Sharp API. Fixes bgo #526685.

------------------------------------------------------------------------
r4737 | jorgegonz | 2008-04-27 15:10:17 -0400 (Sun, 27 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r4736 | kelemeng | 2008-04-26 15:05:26 -0400 (Sat, 26 Apr 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/hu.po

2008-04-26  Gabor Kelemen  <kelemeng@gnome.org>

	* hu.po: Translation updated.
------------------------------------------------------------------------
r4735 | dbera | 2008-04-26 12:48:53 -0400 (Sat, 26 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/SearchWindow.cs
   M /trunk/beagrep/search/Beagrep.Search/UIManager.cs

Fix regression. Default query domain is local + system. QueryDomain.System got removed when I enabled the query domain menu in beagrep-search.

------------------------------------------------------------------------
r4734 | dbera | 2008-04-25 19:37:15 -0400 (Fri, 25 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/SearchWindow.cs

Focus the search entry is there are no results initially. Fixes #529540.

------------------------------------------------------------------------
r4731 | dbera | 2008-04-24 12:11:45 -0400 (Thu, 24 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/ChangeLog
   M /trunk/beagrep/NEWS
   M /trunk/beagrep/configure.in

Urgent release - 0.3.7 - fixing the beagrepd hang.

------------------------------------------------------------------------
r4730 | dbera | 2008-04-22 17:38:25 -0400 (Tue, 22 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/IndexHelper/IndexHelper.cs
   M /trunk/beagrep/beagrepd/Shutdown.cs

Workaround for bnc #381928 and bgo #529262 (beagrepd unkillable after crash part). Remove mono's sigabrt handler if not run with --mono-debug. Users loose pretty(!) stacktrace when beagrepd crashes in some native library but beagrepd is guaranteed to die in such cases and not remain an Resident-Evil zombie.

------------------------------------------------------------------------
r4729 | dbera | 2008-04-20 17:26:12 -0400 (Sun, 20 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/VersionFu.cs

We all own beagrep ;-).

------------------------------------------------------------------------
r4728 | dbera | 2008-04-20 12:20:54 -0400 (Sun, 20 Apr 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/Filters/Makefile.am
   M /trunk/beagrep/configure.in

Add taglib-sharp files to extra-dist.
Bump version to 0.3.6.1.

------------------------------------------------------------------------
r4727 | aihana | 2008-04-19 22:19:10 -0400 (Sat, 19 Apr 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/ja.po

2008-04-20  Takeshi AIHANA <takeshi.aihana@gmail.com>

        * ja.po: Updated Japanese translation.

------------------------------------------------------------------------
r4724 | dbera | 2008-04-19 16:40:49 -0400 (Sat, 19 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/ChangeLog
   M /trunk/beagrep/NEWS
   M /trunk/beagrep/configure.in

Update for 0.3.6

------------------------------------------------------------------------
r4723 | jorgegonz | 2008-04-19 05:39:28 -0400 (Sat, 19 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r4723 | jorgegonz | 2008-04-19 05:39:28 -0400 (Sat, 19 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r4722 | dbera | 2008-04-18 17:52:23 -0400 (Fri, 18 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/SearchWindow.cs

Replace a Hashtable by an enum ... right, such magic can only be seen @dBera.

------------------------------------------------------------------------
r4721 | dbera | 2008-04-18 17:51:37 -0400 (Fri, 18 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/conf-data/config-files/Daemon.xml
   M /trunk/beagrep/configure.in

Enable googlebackends by default during building but disable the backend by default in the conf-file.

------------------------------------------------------------------------
r4720 | dbera | 2008-04-18 17:40:02 -0400 (Fri, 18 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/conf-data/Makefile.am
   A /trunk/beagrep/conf-data/blocate.conf
   M /trunk/beagrep/tools/Makefile.am
   A /trunk/beagrep/tools/blocate

Add 'blocate' - beagrep powered locate, a wrapper over beagrep-static-query. From Nirbheek Chauhan. It uses a global config file /etc/beagrep/blocate.conf overriden by the users ~/.beagrep/config/blocate.conf

------------------------------------------------------------------------
r4719 | dbera | 2008-04-18 14:41:32 -0400 (Fri, 18 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Galago.cs

Catch Debian packaging bug of libgalago1.0-cil (they need to package the galago.dll.config file - its open for more than a year now).

------------------------------------------------------------------------
r4718 | dbera | 2008-04-18 12:50:56 -0400 (Fri, 18 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Makefile.am

Fix make distcheck.

------------------------------------------------------------------------
r4717 | dbera | 2008-04-18 12:48:58 -0400 (Fri, 18 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/SearchWindow.cs
   M /trunk/beagrep/search/Beagrep.Search/UIManager.cs

Show the search-domain menu always (and not only when EnableAvahi is set). Implement domain selection (ugly, needs work) in beagrep-search.

------------------------------------------------------------------------
r4716 | dbera | 2008-04-18 12:47:23 -0400 (Fri, 18 Apr 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/NetworkServicesQueryable/HttpTransport.cs
   M /trunk/beagrep/beagrepd/NetworkServicesQueryable/NetworkServicesQueryable.cs

* HttpTransport.cs: Fix a bug in SendAsyncBlocking (check 0xff for end-of-message byte). Add an ENABLE_XML_DUMP debug block to HttpTransport.
* NetworkServicesQueryable.cs: Redo the querying remote beagrepd part using SendAsyncBlocking; the earlier way was at best hackish and led to all sorts of deadlocks.

------------------------------------------------------------------------
r4715 | dbera | 2008-04-18 11:41:47 -0400 (Fri, 18 Apr 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/tools/Settings.cs

Rescue the networkservice options from the clutches of ENABLE_AVAHI. Only the Avahi specific settings should be disabled if avahi is not enabled at build time.
Also disable the networkservices password fields since they are currently not used and will only cause misconception.

------------------------------------------------------------------------
r4714 | dbera | 2008-04-18 11:05:17 -0400 (Fri, 18 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LocateQueryable/LocateDriver.cs

Fix an earlier logic error: correctly determine if the query has only one text querypart since that is what locate wants.

------------------------------------------------------------------------
r4713 | dnylande | 2008-04-15 16:43:00 -0400 (Tue, 15 Apr 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/sv.po

Updated Swedish translation
------------------------------------------------------------------------
r4711 | dbera | 2008-04-13 19:20:26 -0400 (Sun, 13 Apr 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/Util/Makefile.am
   A /trunk/beagrep/Util/Util.dll.config (from /trunk/beagrep/Util/Util.dll.config.in:4694)
   D /trunk/beagrep/Util/Util.dll.config.in
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/firefox-extension/Makefile.am
   M /trunk/beagrep/po/POTFILES.skip

* Remove libexif from our dependency. So we also do not need to generate Util.dll.config from the .in file any more.
* Add the new F-Spot files to POTFILE.skip.
* Add a missing file to extra-dist in firefox-extension.

------------------------------------------------------------------------
r4710 | dbera | 2008-04-13 18:44:56 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterJpeg.cs

Catch more exceptions for photos with bad datetime values.

------------------------------------------------------------------------
r4709 | dbera | 2008-04-13 18:38:00 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterJpeg.cs

Add a new Jpeg Filter based on the managed Tiff parser in F-Spot (yes yes, we bypassed libexif). The filter passes the test for the images in the testsuite/files directory but more testing would be nice (hint hint ;-).

------------------------------------------------------------------------
r4708 | dbera | 2008-04-13 16:36:36 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterBmp.cs
   M /trunk/beagrep/Filters/FilterGif.cs
   M /trunk/beagrep/Filters/FilterImage.cs
   M /trunk/beagrep/Filters/FilterJpeg.cs
   M /trunk/beagrep/Filters/FilterPdf.cs
   M /trunk/beagrep/Filters/FilterPng.cs
   M /trunk/beagrep/Filters/FilterTiff.cs

Update the namespace and other minor changes wrt the new F-Spot code.

------------------------------------------------------------------------
r4707 | dbera | 2008-04-13 16:34:58 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/F-Spot/MetadataStore.cs
   A /trunk/beagrep/Util/F-Spot/upstream-changes/11-add-cc-namespace.diff

Merge svn r3993.

------------------------------------------------------------------------
r4706 | dbera | 2008-04-13 16:22:47 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/F-Spot/Imaging/Exif.cs
   A /trunk/beagrep/Util/F-Spot/upstream-changes/10-exitutil-public.diff

Add another patch needed for our filters.

------------------------------------------------------------------------
r4705 | dbera | 2008-04-13 16:18:13 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/F-Spot/Imaging/JpegHeader.cs
   A /trunk/beagrep/Util/F-Spot/upstream-changes/09-jfif.diff

Add old 03-jfif.diff

------------------------------------------------------------------------
r4704 | dbera | 2008-04-13 16:01:31 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/F-Spot/Imaging/Exif.cs
   A /trunk/beagrep/Util/F-Spot/upstream-changes/08-exif-timestamp-local.diff

Import old 08-exif-timestamp-local.diff

------------------------------------------------------------------------
r4703 | dbera | 2008-04-13 15:59:10 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/F-Spot/Imaging/Bim.cs
   M /trunk/beagrep/Util/F-Spot/Imaging/Ciff.cs
   M /trunk/beagrep/Util/F-Spot/Imaging/DCRawFile.cs
   M /trunk/beagrep/Util/F-Spot/Imaging/Exif.cs
   M /trunk/beagrep/Util/F-Spot/Imaging/ImageFile.cs
   M /trunk/beagrep/Util/F-Spot/Imaging/JpegFile.cs
   M /trunk/beagrep/Util/F-Spot/Imaging/JpegHeader.cs
   M /trunk/beagrep/Util/F-Spot/Imaging/MrwFile.cs
   M /trunk/beagrep/Util/F-Spot/Imaging/PngFile.cs
   M /trunk/beagrep/Util/F-Spot/Imaging/PnmFile.cs
   M /trunk/beagrep/Util/F-Spot/Imaging/RafFile.cs
   M /trunk/beagrep/Util/F-Spot/Imaging/SvgFile.cs
   M /trunk/beagrep/Util/F-Spot/Imaging/Tiff.cs
   M /trunk/beagrep/Util/F-Spot/Imaging/XmpFile.cs
   A /trunk/beagrep/Util/F-Spot/upstream-changes/07-debug-message.diff

Remove debug messages and redirect some error messages to beagrep logger.

------------------------------------------------------------------------
r4702 | dbera | 2008-04-13 15:46:22 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/F-Spot/Imaging/Exif.cs
   M /trunk/beagrep/Util/F-Spot/Imaging/JpegHeader.cs
   A /trunk/beagrep/Util/F-Spot/upstream-changes/06-bad-jpeg.diff

Import old 06-bad-jpeg.diff

------------------------------------------------------------------------
r4701 | dbera | 2008-04-13 15:42:45 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/F-Spot/Imaging/JpegHeader.cs
   A /trunk/beagrep/Util/F-Spot/upstream-changes/05-bim-PHUT.diff

Import old 05-bim-PHUT.diff 

------------------------------------------------------------------------
r4700 | dbera | 2008-04-13 15:40:21 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/F-Spot/Imaging/JpegHeader.cs
   A /trunk/beagrep/Util/F-Spot/upstream-changes/04-iptc-crasher-fix.diff

Import old 04-iptc-crasher-fix.diff

------------------------------------------------------------------------
r4699 | dbera | 2008-04-13 15:35:26 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/F-Spot/Imaging/IptcFile.cs
   M /trunk/beagrep/Util/F-Spot/Imaging/JpegHeader.cs
   A /trunk/beagrep/Util/F-Spot/upstream-changes/03-iptc.diff

Import 02-iptc.diff.

------------------------------------------------------------------------
r4698 | dbera | 2008-04-13 15:29:23 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/F-Spot/Imaging/JpegHeader.cs
   A /trunk/beagrep/Util/F-Spot/upstream-changes/02-license.diff

License change as requested by Novell.

------------------------------------------------------------------------
r4697 | dbera | 2008-04-13 15:27:49 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/F-Spot/upstream-changes/01-initial-diff-r3823.diff

Oops. Diff was generated in the reverse direction. Generate the right diff.

------------------------------------------------------------------------
r4696 | dbera | 2008-04-13 15:18:35 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   A /trunk/beagrep/Util/F-Spot
   A /trunk/beagrep/Util/F-Spot/BitConverter.cs
   A /trunk/beagrep/Util/F-Spot/Imaging
   A /trunk/beagrep/Util/F-Spot/Imaging/Bim.cs
   A /trunk/beagrep/Util/F-Spot/Imaging/Ciff.cs
   A /trunk/beagrep/Util/F-Spot/Imaging/DCRawFile.cs
   A /trunk/beagrep/Util/F-Spot/Imaging/Exif.cs
   A /trunk/beagrep/Util/F-Spot/Imaging/ImageFile.cs
   A /trunk/beagrep/Util/F-Spot/Imaging/IptcFile.cs
   A /trunk/beagrep/Util/F-Spot/Imaging/JpegFile.cs
   A /trunk/beagrep/Util/F-Spot/Imaging/JpegHeader.cs
   A /trunk/beagrep/Util/F-Spot/Imaging/JpegUtils.cs
   A /trunk/beagrep/Util/F-Spot/Imaging/MrwFile.cs
   A /trunk/beagrep/Util/F-Spot/Imaging/OrderedWriter.cs
   A /trunk/beagrep/Util/F-Spot/Imaging/PngFile.cs
   A /trunk/beagrep/Util/F-Spot/Imaging/PnmFile.cs
   A /trunk/beagrep/Util/F-Spot/Imaging/RafFile.cs
   A /trunk/beagrep/Util/F-Spot/Imaging/SvgFile.cs
   A /trunk/beagrep/Util/F-Spot/Imaging/Tiff.cs
   A /trunk/beagrep/Util/F-Spot/Imaging/X3fFile.cs
   A /trunk/beagrep/Util/F-Spot/Imaging/XmpFile.cs
   A /trunk/beagrep/Util/F-Spot/MetadataStore.cs
   A /trunk/beagrep/Util/F-Spot/PixbufUtils.cs
   A /trunk/beagrep/Util/F-Spot/README
   A /trunk/beagrep/Util/F-Spot/upstream-changes
   A /trunk/beagrep/Util/F-Spot/upstream-changes/01-initial-diff-r3823.diff

Import F-Spot files from r3823.

------------------------------------------------------------------------
r4695 | dbera | 2008-04-13 15:17:11 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   D /trunk/beagrep/Util/F-Spot
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/Util/OperaHistory.cs

Remove old F-Spot files. These are more than 2 years old. New ones are coming.

------------------------------------------------------------------------
r4694 | dbera | 2008-04-13 10:53:48 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/KdeUtils.cs

Add utility method to save gmail-backend password to KDE Wallet. This will be used by beagrep-settings[-qt].

------------------------------------------------------------------------
r4693 | dbera | 2008-04-13 10:42:50 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/Settings.cs

Mark the backend descriptions in the backend chooser for translation.

------------------------------------------------------------------------
r4692 | dbera | 2008-04-13 10:21:34 -0400 (Sun, 13 Apr 2008) | 9 lines
Changed paths:
   M /trunk/beagrep/beagrepd/AssemblyInfo.cs
   A /trunk/beagrep/beagrepd/LocateQueryable
   A /trunk/beagrep/beagrepd/LocateQueryable/LocateDriver.cs
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/conf-data/config-files/Daemon.xml
   M /trunk/beagrep/tools/Settings.cs

Users are treating beagrep as a replacement to locate, which is not how I see it. Nevertheless, to not disappoint anybody here is a locate based backend.
* Disabled by default (obviously, since I dont support this idea). Enable using beagrep-config/beagrep-settings.
* Does not support searching for multiple words (because locate does not support our AND style queries).
* Results are not sorted by date.
* locate freaks out if asked to return results from non-hidden paths; so we prune them later. As a result, if the first 200 (double of MaxHits) paths returned are from a hidden path, no result is returned. Go and buy a book on locate, shell and regular expressions in that case :)
* Its a supplementary backend i.e. will return results in _addition_ to the FileSystem backend. If you really really really want to use this backend without the FSQ, set FSQ to not index anything and pass --indexing-delay -1 to beagrepd (i.e. keep the FSQ backend enabled, but not let it return anything).

All of the above are hints that you should use only one of beagrep or locate. Peace!

------------------------------------------------------------------------
r4691 | dbera | 2008-04-13 08:00:00 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/QueryDriver.cs

Also list the parent backend for dependent backends.

------------------------------------------------------------------------
r4690 | dbera | 2008-04-13 07:37:50 -0400 (Sun, 13 Apr 2008) | 2 lines
Changed paths:
   D /trunk/beagrep/beagrepd/GMailSearchDriver.cs
   A /trunk/beagrep/beagrepd/GoogleBackends
   A /trunk/beagrep/beagrepd/GoogleBackends/GMailSearchDriver.cs (from /trunk/beagrep/beagrepd/GMailSearchDriver.cs:4687)
   M /trunk/beagrep/beagrepd/Makefile.am

Move GMailSearchDriver to a GoogleBackends directory. This directory is getting too cluttered!

------------------------------------------------------------------------
r4687 | nirbheekc | 2008-04-12 19:08:46 -0400 (Sat, 12 Apr 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/tools/Settings.cs

r4685 broke the command line args in beagrep-settings since Settings.cs:ParseArgs was directly referencing the Page number.

Fix the page number, and also add a command line argument for --backends


------------------------------------------------------------------------
r4686 | dbera | 2008-04-12 18:41:01 -0400 (Sat, 12 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/INSTALL
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/search/Beagrep.Search/Driver.cs
   M /trunk/beagrep/search/Beagrep.Search.Tiles/Note.cs
   M /trunk/beagrep/search/Makefile.am
   A /trunk/beagrep/search/icons
   A /trunk/beagrep/search/icons/Makefile.am
   A /trunk/beagrep/search/icons/hicolor_apps_16x16_tomboy.png
   A /trunk/beagrep/search/icons/hicolor_apps_16x16_tomboy.xcf.bz2
   A /trunk/beagrep/search/icons/hicolor_apps_22x22_tomboy.png
   A /trunk/beagrep/search/icons/hicolor_apps_22x22_tomboy.xcf.bz2
   A /trunk/beagrep/search/icons/hicolor_apps_24x24_tomboy.png
   A /trunk/beagrep/search/icons/hicolor_apps_32x32_tomboy.png
   A /trunk/beagrep/search/icons/hicolor_apps_48x48_tomboy.png
   A /trunk/beagrep/search/icons/hicolor_apps_scalable_tomboy.svg

Add a custom icon for note (stolen from Tomboy, yet again ... thanks Tomboy).

------------------------------------------------------------------------
r4685 | nirbheekc | 2008-04-12 18:23:48 -0400 (Sat, 12 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/settings.glade

beagrep-settings: Interchange the positions of the "Backends" and "Networking" tabs, moving the "Networking" tab to the end

------------------------------------------------------------------------
r4684 | leonardof | 2008-04-12 17:38:01 -0400 (Sat, 12 Apr 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/pt_BR.po

2008-04-12  Leonardo Ferreira Fontenelle  <leonardof@svn.gnome.org>

	* pt_BR.po: Updated Brazilian Portuguese translation by Igor Pires
	Soares.

------------------------------------------------------------------------
r4683 | dbera | 2008-04-11 15:41:09 -0400 (Fri, 11 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/firefox-extension/Makefile.am
   M /trunk/beagrep/firefox-extension/README
   D /trunk/beagrep/firefox-extension/install.rdf
   A /trunk/beagrep/firefox-extension/install.rdf.in (from /trunk/beagrep/firefox-extension/install.rdf:4682)

Update the extension version and add a sed rule to generate the install.rdf using the right version. The same need to be done if we decide to use an update URL later.

------------------------------------------------------------------------
r4682 | dbera | 2008-04-10 11:35:43 -0400 (Thu, 10 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/GMailSearchDriver.cs
   M /trunk/beagrep/conf-data/config-files/GoogleBackends.xml

Add support for Google Apps gmail account. Use config option GoogleAppDomainName to set your domain name and off you go!

------------------------------------------------------------------------
r4681 | dbera | 2008-04-10 09:58:39 -0400 (Thu, 10 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/firefox-extension/chrome/content/beagrepOverlay.xul
   M /trunk/beagrep/firefox-extension/install.rdf

Treat these xml files as text files and provide diff options.

------------------------------------------------------------------------
r4680 | taofei | 2008-04-10 09:36:28 -0400 (Thu, 10 Apr 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/firefox-extension/Makefile.am
   M /trunk/beagrep/firefox-extension/chrome/content/beagrepOverlay.js
   M /trunk/beagrep/firefox-extension/chrome/content/beagrepOverlay.xul
   M /trunk/beagrep/firefox-extension/chrome/content/indexBookmark3.js
   M /trunk/beagrep/firefox-extension/install.rdf

Load differen't script for different firefox version (indexBookmark.js and indexBookmark3.js)
It should work for both firefox 2 and firefox 3

------------------------------------------------------------------------
r4679 | taofei | 2008-04-10 09:01:42 -0400 (Thu, 10 Apr 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/firefox-extension/chrome/content/indexBookmark3.js

It works for firefox 3 
Need to find a way to make it work for both firefox 2 and firefox 3

------------------------------------------------------------------------
r4678 | dbera | 2008-04-09 22:20:09 -0400 (Wed, 09 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/UIManager.cs

Do not search in global querydomain by default. Opt-in is the policy for searches to go out of this computer.

------------------------------------------------------------------------
r4677 | taofei | 2008-04-09 09:28:40 -0400 (Wed, 09 Apr 2008) | 4 lines
Changed paths:
   A /trunk/beagrep/firefox-extension/chrome/content/indexBookmark3.js

add indexBookmark3.js 
It is for bookmark index in firefox 3.
NOT ENOUGH TEST YET

------------------------------------------------------------------------
r4673 | dbera | 2008-04-07 20:22:20 -0400 (Mon, 07 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/GMailSearchDriver.cs

Use the https:// url to open gmail hits.

------------------------------------------------------------------------
r4672 | dbera | 2008-04-07 19:50:42 -0400 (Mon, 07 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Config.cs

Remove irritating debug message.

------------------------------------------------------------------------
r4671 | dbera | 2008-04-07 19:49:35 -0400 (Mon, 07 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/GMailSearchDriver.cs
   M /trunk/beagrep/conf-data/config-files/GoogleBackends.xml

Remove the GMailSearchEnabled config option. GMailSearch is a backends and the usual process to enable/disable backends should be followed.

------------------------------------------------------------------------
r4670 | dbera | 2008-04-07 19:38:47 -0400 (Mon, 07 Apr 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Query.cs
   M /trunk/beagrep/tools/Query.cs

* Add a QueryDomain.All as a shortcut for all the QueryDomains.
* Replace beagrep-query option "--network yes|no" with a proper "--domain ..." with full choice to specify domains.


------------------------------------------------------------------------
r4669 | jorgegonz | 2008-04-07 16:54:02 -0400 (Mon, 07 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r4664 | dbera | 2008-04-06 21:39:35 -0400 (Sun, 06 Apr 2008) | 2 lines
Changed paths:
   A /trunk/beagrep/Util/SemWeb/upstream-change-01.diff

Missed this one earlier too.

------------------------------------------------------------------------
r4663 | dbera | 2008-04-06 21:35:06 -0400 (Sun, 06 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/COPYING
   A /trunk/beagrep/beagrepd/xemail-net
   A /trunk/beagrep/beagrepd/xemail-net/README
   A /trunk/beagrep/beagrepd/xemail-net/src
   A /trunk/beagrep/beagrepd/xemail-net/src/AssemblyInfo.cs.in
   A /trunk/beagrep/beagrepd/xemail-net/src/Attachment.cs
   A /trunk/beagrep/beagrepd/xemail-net/src/AttachmentCollections.cs
   A /trunk/beagrep/beagrepd/xemail-net/src/Flag.cs
   A /trunk/beagrep/beagrepd/xemail-net/src/FlagCollection.cs
   A /trunk/beagrep/beagrepd/xemail-net/src/HMACMD5.cs
   A /trunk/beagrep/beagrepd/xemail-net/src/ImapClient.cs
   A /trunk/beagrep/beagrepd/xemail-net/src/Mail.cs
   A /trunk/beagrep/beagrepd/xemail-net/src/MailCollection.cs
   A /trunk/beagrep/beagrepd/xemail-net/src/Mailbox.cs
   A /trunk/beagrep/beagrepd/xemail-net/src/MailboxCollection.cs
   A /trunk/beagrep/beagrepd/xemail-net/src/Makefile.am
   A /trunk/beagrep/beagrepd/xemail-net/src/MessageSet.cs
   A /trunk/beagrep/beagrepd/xemail-net/src/Namespace.cs
   A /trunk/beagrep/beagrepd/xemail-net/src/Quota.cs
   A /trunk/beagrep/beagrepd/xemail-net/src/xemail.snk
   A /trunk/beagrep/beagrepd/xemail-net/upstream-patches
   A /trunk/beagrep/beagrepd/xemail-net/upstream-patches/01.patch

Forgot to add the xemail files needed for the GMail backend.

------------------------------------------------------------------------
r4662 | dbera | 2008-04-06 20:12:37 -0400 (Sun, 06 Apr 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/GMailSearchDriver.cs
   M /trunk/beagrep/search/Beagrep.Search/SearchWindow.cs
   M /trunk/beagrep/search/Beagrep.Search/UIManager.cs
   M /trunk/beagrep/search/Makefile.am

Show the query domain menu in beagrep-search if built with GoogleBackends enabled (GMailDriver works in QueryDomain.Global).
Email tiles use fixme:date for message date instead of timestamp, so set a fixme:date property for GMail hits.

------------------------------------------------------------------------
r4660 | dbera | 2008-04-06 11:51:30 -0400 (Sun, 06 Apr 2008) | 8 lines
Changed paths:
   M /trunk/beagrep/Util/KdeUtils.cs
   A /trunk/beagrep/beagrepd/GMailSearchDriver.cs
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/conf-data/Makefile.am
   A /trunk/beagrep/conf-data/config-files/GoogleBackends.xml
   M /trunk/beagrep/configure.in

Add a GMail live search backend
* very simple, uses IMAP search protocol
* account information is stored in the config files ($ beagrep-config GoogleBackends)
* password can be stored as plaintext in the config-file or in KDE keyring as "Password" in a folder called "beagrep" (gnome-keyring not yet supported since we dont want to depend on Gnome or X)
* KdeUtils.cs: Add a mathod to get password from KDE Wallet; this could be useful in the future too when we deal with other protected resources
* These are plugins so GoogleBackends.dll and GoogleBackends.xml can be packaged separately and just dropped in the right places.
* Fully backward compatible till 0.3.0 (except the KDE wallet feature, which needs the current Util.dll)

------------------------------------------------------------------------
r4658 | nirbheekc | 2008-04-05 10:21:23 -0400 (Sat, 05 Apr 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search.Tiles/Note.cs

The current icon used in beagrep-search for Tomboy notes (tomboy-note) doesn't work, and there's no standard icon for notes specified in the Freedesktop Icon Naming Spec. 
So we'll use "emblem-note" instead which is fairly common among icon themes.

------------------------------------------------------------------------
r4656 | dbera | 2008-04-04 19:49:49 -0400 (Fri, 04 Apr 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FilterFactory.cs
   M /trunk/beagrep/beagrepd/LuceneIndexingDriver.cs

Fix a bug uncovered by r4609 - if Indexable.AlreadyFiltered is set, then indexing should continue.
Cleanup the relevant code a bit. NoContent is now only set in LuceneIndexingDriver. FilterFactory merely decides whether the content needs a filter or not.

------------------------------------------------------------------------
r4654 | aihana | 2008-04-04 10:55:03 -0400 (Fri, 04 Apr 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/ja.po

2008-04-04  Takeshi AIHANA <takeshi.aihana@gmail.com>

        * ja.po: Updated Japanese translation.

------------------------------------------------------------------------
r4651 | dbera | 2008-04-01 14:56:39 -0400 (Tue, 01 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/NEWS
   M /trunk/beagrep/configure.in

Okkkayy... 0.3.5 it is.

------------------------------------------------------------------------
r4650 | dbera | 2008-04-01 14:25:24 -0400 (Tue, 01 Apr 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/ChangeLog
   M /trunk/beagrep/configure.in

Up version to 0.3.4.1 and update changelog.

------------------------------------------------------------------------
r4649 | dbera | 2008-04-01 14:06:11 -0400 (Tue, 01 Apr 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/Search.cs
   M /trunk/beagrep/search/Beagrep.Search/SearchWindow.cs

* SearchWindow.cs: Set RetVal = true in the DeleteEvent handler so that the window is not "closed" (just hidden). This fixes the grey window on f12 that some people are seeing.
* Search.cs: Make XKeybinder an instance variable so that it does not slip from beneath us. It should have a lifetime same as the application. Otherwise you would see crashes as in (debian #473285, gentoo #201093-comment-48).

------------------------------------------------------------------------
r4648 | arunsr | 2008-03-31 08:57:49 -0400 (Mon, 31 Mar 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/configure.in

Add a reminder in configure.in about the use of the Epiphany version string
during generation of the extension

------------------------------------------------------------------------
r4647 | arunsr | 2008-03-31 05:21:07 -0400 (Mon, 31 Mar 2008) | 6 lines
Changed paths:
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/epiphany-extension/Makefile.am
   D /trunk/beagrep/epiphany-extension/beagrep-2.22.py.in
   M /trunk/beagrep/epiphany-extension/beagrep.py.in

Merge the pre-Epiphany-2.22 and Epiphany-2.22+ extensions.

This cleans up the previous fugly commit, since most of the code was the same.
We get the Epiphany version at "configure" time, not runtime, which is
suboptimal, but there doesn't seem to be a runtime way to do it.

------------------------------------------------------------------------
r4646 | arunsr | 2008-03-27 11:09:43 -0400 (Thu, 27 Mar 2008) | 8 lines
Changed paths:
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/epiphany-extension/Makefile.am
   A /trunk/beagrep/epiphany-extension/beagrep-2.22.py.in

Add support for Epiphany 2.22

The API has changed in the new Epiphany python bindings, so we have another
version of the plugin and we use that for the new version.

The main API change is that the "tab" object has been removed so we get a
direct handle to the EphyEmbed object with window.get_active_child().

------------------------------------------------------------------------
r4645 | arunsr | 2008-03-27 08:58:46 -0400 (Thu, 27 Mar 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/epiphany-extension/Makefile.am

Removed some tabs Makefile.am which prevented extension* variables from being
set (=> nothing in epiphany-extension/ was being built)

------------------------------------------------------------------------
r4644 | dbera | 2008-03-27 08:40:13 -0400 (Thu, 27 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/Util/SemWeb/RdfReader.cs
   M /trunk/beagrep/Util/SemWeb/Store.cs

Remove some unneeded dependencies; I specially hate System.Web (to know why run "monop2 -r:System.Web --refs".

------------------------------------------------------------------------
r4643 | dbera | 2008-03-25 21:16:10 -0400 (Tue, 25 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Log.cs

Notify the user if beagrepd is started in the background mode. Otherwise, naive users can get confused if beagrepd silently returns the prompt.

------------------------------------------------------------------------
r4641 | arunsr | 2008-03-24 01:52:28 -0400 (Mon, 24 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/Driver.cs

Use the old Bus.Register() method for compatibility with ndesk-dbus-0.4

------------------------------------------------------------------------
r4639 | dbera | 2008-03-23 17:44:52 -0400 (Sun, 23 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/ChangeLog
   M /trunk/beagrep/NEWS
   M /trunk/beagrep/configure.in

Update NEWS, ChangeLog and up version to 0.3.4

------------------------------------------------------------------------
r4633 | dbera | 2008-03-22 11:33:52 -0400 (Sat, 22 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/Query.cs

Accidentally committed testing code.

------------------------------------------------------------------------
r4632 | dbera | 2008-03-22 11:30:20 -0400 (Sat, 22 Mar 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Makefile.am
   M /trunk/beagrep/BeagrepClient/Transport.cs
   D /trunk/beagrep/BeagrepClient/generated
   M /trunk/beagrep/Util/Makefile.am
   D /trunk/beagrep/Util/sgen.cs
   M /trunk/beagrep/beagrepd/RemoteIndexer.cs
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/search/Makefile.am
   M /trunk/beagrep/tools/Query.cs

Revert the sgen changes (4620-4627). After lots of testing, MONO_XMLSERIALIZER_THS is a better        alternative suitable to the organization of our classes and does not requrie a whole lot of hack      while delivering the same results.
Some other minor fixes (comments, whitespace changes, better messages).

------------------------------------------------------------------------
r4630 | dbera | 2008-03-21 20:46:25 -0400 (Fri, 21 Mar 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneQueryable.cs
   M /trunk/beagrep/beagrepd/QueryDriver.cs
   M /trunk/beagrep/beagrepd/SnippetFu.cs

* Really start in a query-only mode (no optimization task etc.) with --indexing-delay -1
* Fix a bug in the context length API recently added
* Lowercase the stemmed terms returned from a query and also lower case the words when comparing with the stemmed term. Our lucene matches words in a case insensitive way, why should snippets be case sensitive.

------------------------------------------------------------------------
r4628 | dbera | 2008-03-21 00:36:02 -0400 (Fri, 21 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Snippet.cs
   M /trunk/beagrep/beagrepd/ExternalMetadataQueryable.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/IQueryable.cs
   M /trunk/beagrep/beagrepd/KonversationQueryable/KonversationQueryable.cs
   M /trunk/beagrep/beagrepd/KopeteQueryable/KopeteQueryable.cs
   M /trunk/beagrep/beagrepd/LuceneQueryable.cs
   M /trunk/beagrep/beagrepd/NetworkServicesQueryable/NetworkServicesQueryable.cs
   M /trunk/beagrep/beagrepd/PidginQueryable/PidginQueryable.cs
   M /trunk/beagrep/beagrepd/Queryable.cs
   M /trunk/beagrep/beagrepd/SnippetExecutor.cs
   M /trunk/beagrep/beagrepd/SnippetFu.cs
   M /trunk/beagrep/beagrepd/SnippetTest.cs
   M /trunk/beagrep/beagrepd/StaticQueryable.cs
   M /trunk/beagrep/tools/StaticQuery.cs

Add API for controlling the max snippet length and the number of words before and after a match.

------------------------------------------------------------------------
r4627 | dbera | 2008-03-20 22:09:13 -0400 (Thu, 20 Mar 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Transport.cs
   M /trunk/beagrep/BeagrepClient/generated/Makefile
   M /trunk/beagrep/beagrepd/RemoteIndexer.cs

Add a method to Transport to tell it to use old style serializers. This can be used by 'clients' that send/recv messages not defined in BeagrepClient e.g. RemoteIndexer.cs
Add a few more types to the list of generated serializers.

------------------------------------------------------------------------
r4626 | dbera | 2008-03-20 21:07:24 -0400 (Thu, 20 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Makefile.am
   M /trunk/beagrep/BeagrepClient/generated/Makefile

Explicitly add the types that need to be serialized.

------------------------------------------------------------------------
r4625 | dbera | 2008-03-20 20:03:10 -0400 (Thu, 20 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/configure.in

Today's sgen changes do not work with 1.2.4. Sorry Gutsy users, you need 1.2.6 now.

------------------------------------------------------------------------
r4624 | dbera | 2008-03-20 17:47:32 -0400 (Thu, 20 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Server.cs

Set the buffer size of unix socket to 4K

------------------------------------------------------------------------
r4623 | dbera | 2008-03-20 17:46:52 -0400 (Thu, 20 Mar 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Transport.cs
   M /trunk/beagrep/BeagrepClient/UnixTransport.cs

Use the pre-generated serializers.
Set the buffer size of the unix sockets to 4K.

------------------------------------------------------------------------
r4622 | dbera | 2008-03-20 17:43:52 -0400 (Thu, 20 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Makefile.am

Oops - missed this.

------------------------------------------------------------------------
r4621 | dbera | 2008-03-20 17:43:14 -0400 (Thu, 20 Mar 2008) | 9 lines
Changed paths:
   A /trunk/beagrep/BeagrepClient/generated
   A /trunk/beagrep/BeagrepClient/generated/Makefile

Use sgen to create xml serializers for the BeagrepClient classes. Decreases deserialization time to a third.
Due to the extremely clumsy way sgen works, here is how we do it:
- "ifdef false" the part of the code which call the generated serializer class
- generate a dummy assembly
- run sgen on this and ask it to keep its source files (we would really like to access System.Xml.Serialization/SerializationCodeGenerator.cs but mono does give us that)
- now build the actual Beagrep.dll by including the generated source file

Oh ... and the generated source file has a bug and also it does not look like end-user-usable so we have to change it namespace to something else (otherwise, when mono internally generates serializers in runtime, the generated types will conflict).

------------------------------------------------------------------------
r4620 | dbera | 2008-03-20 17:36:39 -0400 (Thu, 20 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Makefile.am
   A /trunk/beagrep/Util/sgen.cs

Add sgen.cs from mono trunk. This will be used to pre-generate serializers. But the upstream copy has a bug (https://bugzilla.novell.com/show_bug.cgi?id=372780). This will be removed when upstream is fixed.

------------------------------------------------------------------------
r4619 | dbera | 2008-03-20 01:48:36 -0400 (Thu, 20 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Snippet.cs

Do not send empty fragments, that completely confuses libbeagrep's xml handler.

------------------------------------------------------------------------
r4618 | dbera | 2008-03-18 18:01:50 -0400 (Tue, 18 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/configure.in

Check for msgfmt when building with gui enabled. Our autogen.sh checks for gettext and family but there is no check for them in configure.in for those who use tarball to build beagrep.

------------------------------------------------------------------------
r4617 | dbera | 2008-03-18 16:21:41 -0400 (Tue, 18 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/PidginQueryable/PidginQueryable.cs

Check for the existence of the log dir in pidgin backend to determine whether to start indexing or wait.

------------------------------------------------------------------------
r4615 | dbera | 2008-03-18 14:34:16 -0400 (Tue, 18 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Makefile.am
   M /trunk/beagrep/configure.in

bludgeon cleanup.

------------------------------------------------------------------------
r4613 | dbera | 2008-03-18 14:30:00 -0400 (Tue, 18 Mar 2008) | 2 lines
Changed paths:
   D /trunk/beagrep/bludgeon

Move bludgeon to testsuite/

------------------------------------------------------------------------
r4612 | dbera | 2008-03-17 23:02:29 -0400 (Mon, 17 Mar 2008) | 1 line
Changed paths:
   M /trunk/beagrep/Util/ExceptionHandlingThread.cs
   M /trunk/beagrep/beagrepd/Server.cs

Fix a deadlock diagnosed using bludgeon: UnixConnectionHandler:Close was not thread-safe but could be called from an async handler which runs in a thread. Also Network.BeginRead() could throw errors itself if the connection is already terminated; catch those exceptions.
------------------------------------------------------------------------
r4611 | dbera | 2008-03-17 21:11:52 -0400 (Mon, 17 Mar 2008) | 7 lines
Changed paths:
   M /trunk/beagrep/bludgeon/Bludgeon.cs
   M /trunk/beagrep/bludgeon/Bzip2FileObject.cs
   M /trunk/beagrep/bludgeon/Daemon.cs
   M /trunk/beagrep/bludgeon/DirectoryObject.cs
   M /trunk/beagrep/bludgeon/FileSystemObject.cs
   M /trunk/beagrep/bludgeon/GzipFileObject.cs
   M /trunk/beagrep/bludgeon/SanityCheck.cs
   M /trunk/beagrep/bludgeon/TarFileObject.cs
   M /trunk/beagrep/bludgeon/TextFileObject.cs
   M /trunk/beagrep/bludgeon/ZipFileObject.cs

Give bludgeon long-overdue love.
* Fix parameters passed to beagrepd
* Use our crazy Uri and Uri escape methods instead of dealing with Uris
itself.
* Passes non-archive tests. Archives do not pass the test yet, due to
some more Uri weirdness.

------------------------------------------------------------------------
r4610 | kelemeng | 2008-03-15 21:18:03 -0400 (Sat, 15 Mar 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/hu.po

2008-03-16  Gabor Kelemen  <kelemeng@gnome.hu>

	* hu.po: Translation updated


------------------------------------------------------------------------
r4609 | dbera | 2008-03-13 15:26:47 -0400 (Thu, 13 Mar 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FilterFactory.cs
   M /trunk/beagrep/beagrepd/LuceneIndexingDriver.cs
   M /trunk/beagrep/conf-data/query-mapping.xml

* Typo in query mapping.
* If no filter is able to index the indexable, set no content true
correctly so that Lucene does not ask for content from this indexable.

------------------------------------------------------------------------
r4608 | dbera | 2008-03-12 22:56:55 -0400 (Wed, 12 Mar 2008) | 12 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileCrawlTask.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/InternalUriManager.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/TreeCrawlTask.cs
   M /trunk/beagrep/beagrepd/LuceneBitArray.cs
   M /trunk/beagrep/beagrepd/LuceneQueryable.cs
   M /trunk/beagrep/beagrepd/QueryDriver.cs

* Use FieldSelector in LuceneBitArray and LuceneNameResolver. If
nothing, at least a bunch of useless allocations will be saved. Also FSQ
startup should be faster.
* Add a debugging hook in beagrepd with SIGUSR2 (similar to the one in
IndexHelper). Sending a SIGUSR2 to beagrepd should print some internal
state information. Currently FSQ is the only one using it. The state
information should point out if we are leaking anything (e.g. the
directory counts should match when you add/remove directories).
* FSQ was not dropping the fileattributes for directories when they were
removed. Would not have caused any trouble but still its good to delete
the fastore information once the directory is removed.

------------------------------------------------------------------------
r4607 | dbera | 2008-03-12 19:25:46 -0400 (Wed, 12 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/conf-data/crawl-rules/crawl-manpages

Add /usr/share/info to crawl-manpages rule.

------------------------------------------------------------------------
r4606 | dbera | 2008-03-12 19:25:08 -0400 (Wed, 12 Mar 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/Filters/AssemblyInfo.cs
   A /trunk/beagrep/Filters/FilterInfo.cs
   M /trunk/beagrep/Filters/FilterTexi.cs
   M /trunk/beagrep/Filters/Makefile.am

Revert the earlier changes to FilterTexi. I stupidly thought that TeXinfo is the format for the 'info' files. They are not.
Add a simple 'info' filter. As usual, can also extract from compressed info files.

------------------------------------------------------------------------
r4604 | dbera | 2008-03-10 16:00:22 -0400 (Mon, 10 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/AssemblyInfo.cs
   M /trunk/beagrep/Filters/FilterTexi.cs
   M /trunk/beagrep/Filters/Makefile.am

Texinfo filter was included but not used. Enable it and make it work with compressed info pages. It still needs quite a bit of work though, it is really primitive.

------------------------------------------------------------------------
r4603 | dbera | 2008-03-10 13:36:28 -0400 (Mon, 10 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/conf-data/query-mapping.xml

Add a query mapping for filename and remove duplicate mappings.

------------------------------------------------------------------------
r4602 | dbera | 2008-03-09 23:57:48 -0400 (Sun, 09 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneCommon.cs

Forgot to up lucene index version after merging lucene.net-2.1

------------------------------------------------------------------------
r4601 | dbera | 2008-03-09 22:53:11 -0400 (Sun, 09 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/configure.in

Fix building with mono-1.9

------------------------------------------------------------------------
r4600 | dbera | 2008-03-09 22:52:26 -0400 (Sun, 09 Mar 2008) | 7 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/IndexHelper/IndexHelper.cs
   M /trunk/beagrep/beagrepd/LuceneIndexingDriver.cs
   M /trunk/beagrep/beagrepd/Shutdown.cs

Cleanup signal handling code. Move the common methods to Shutdown and
let classes register their specific handlers with shutdown's signal
handler thread. Remove SIGHUP hack. Remove the 5sec forceful termination
feature (if anything hangs, generally it hangs beyond the ability of the
5 sec termination).
Fix a crash in LuceneIndexingDriver.

------------------------------------------------------------------------
r4597 | pwithnall | 2008-03-09 13:34:49 -0400 (Sun, 09 Mar 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/en_GB.po

2008-03-09  Philip Withnall  <pwithnall@svn.gnome.org>

	* en_GB.po: Updated British English translation.


------------------------------------------------------------------------
r4596 | dbera | 2008-03-09 12:33:09 -0400 (Sun, 09 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/IndexHelper/IndexHelper.cs
   M /trunk/beagrep/configure.in

Add new signal handler based on mono-1.9 UnixSignal. Enable this code if mono-1.9 is detected during configure. Then we dont need to enforce mono-1.9 on the users.

------------------------------------------------------------------------
r4590 | dbera | 2008-03-08 09:53:17 -0500 (Sat, 08 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Hits.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/IndexSearcher.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/MultiSearcher.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Searcher.cs
   A /trunk/beagrep/beagrepd/Lucene.Net/upstream-changes/17_more-fieldselector.patch

Merge from beagrep-rdf branch. Just some more field-selector applications.

------------------------------------------------------------------------
r4588 | dbera | 2008-03-08 09:47:09 -0500 (Sat, 08 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/UriFu.cs
   M /trunk/beagrep/beagrepd/DumpIndex.cs
   M /trunk/beagrep/beagrepd/QueryStringParser.cs

Add a UriFu method to take a user supplied unescaped uri and change it to beagrep specific uri (path and fragment escaped). Use this to suitably set the correct uri in DumpIndex and QueryParser (the two places where we take uri as a string from the user).

------------------------------------------------------------------------
r4586 | dbera | 2008-03-06 22:07:55 -0500 (Thu, 06 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneIndexingDriver.cs

Currently LuceneIndexingDriver pauses during indexing generated indexables, asks the daemon and then continues. If shutdown is initiated during the pause then the tmpfiles for the generated indexables were left behind. Make sure to clean them up in that case.

------------------------------------------------------------------------
r4581 | stephaner | 2008-03-05 15:06:21 -0500 (Wed, 05 Mar 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/fr.po

2008-03-05  Stéphane Raimbault  <stephane.raimbault@gmail.com>

	* fr.po: Updated French translation.

------------------------------------------------------------------------
r4580 | arunsr | 2008-03-05 14:10:38 -0500 (Wed, 05 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterHtml.cs

When translating <meta> tags into properties, convert them to lower-case for consistency.

------------------------------------------------------------------------
r4577 | dbera | 2008-03-03 17:03:27 -0500 (Mon, 03 Mar 2008) | 2 lines
Changed paths:
   M /trunk/beagrep
   M /trunk/beagrep/Util/PullingReader.cs
   M /trunk/beagrep/Util/StringFu.cs
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   R /trunk/beagrep/beagrepd/Lucene.Net (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/ABOUT.txt (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/ABOUT.txt:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Analyzer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/Analyzer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/CharTokenizer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/CharTokenizer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/ISOLatin1AccentFilter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/ISOLatin1AccentFilter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/KeywordAnalyzer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/KeywordAnalyzer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/KeywordTokenizer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/KeywordTokenizer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/LengthFilter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/LengthFilter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/LetterTokenizer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/LetterTokenizer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/LowerCaseFilter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/LowerCaseFilter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/LowerCaseTokenizer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/LowerCaseTokenizer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/PerFieldAnalyzerWrapper.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/PerFieldAnalyzerWrapper.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/PorterStemFilter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/PorterStemFilter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/PorterStemmer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/PorterStemmer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/SimpleAnalyzer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/SimpleAnalyzer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/Standard:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/StandardAnalyzer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/Standard/StandardAnalyzer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/StandardFilter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/Standard/StandardFilter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/StandardTokenizer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/Standard/StandardTokenizer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/StopAnalyzer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/StopAnalyzer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/StopFilter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/StopFilter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Token.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/Token.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/TokenFilter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/TokenFilter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/TokenStream.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/TokenStream.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Tokenizer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/Tokenizer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/WhitespaceAnalyzer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/WhitespaceAnalyzer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/WhitespaceTokenizer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/WhitespaceTokenizer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Analysis/WordlistLoader.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Analysis/WordlistLoader.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/AssemblyInfo.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/AssemblyInfo.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Document (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Document:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Document/DateField.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Document/DateField.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Document/DateTools.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Document/DateTools.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Document/Document.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Document/Document.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Document/Field.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Document/Field.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Document/NumberTools.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Document/NumberTools.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/HISTORY.txt (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/HISTORY.txt:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/CompoundFileReader.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/CompoundFileReader.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/CompoundFileWriter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/CompoundFileWriter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/DocumentWriter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/DocumentWriter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/FieldInfo.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/FieldInfo.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/FieldInfos.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/FieldInfos.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/FieldsReader.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/FieldsReader.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/FieldsWriter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/FieldsWriter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/FilterIndexReader.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/FilterIndexReader.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/IndexFileNameFilter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/IndexFileNameFilter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/IndexFileNames.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/IndexFileNames.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/IndexModifier.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/IndexModifier.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/IndexReader.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/IndexReader.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/IndexWriter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/IndexWriter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/MultiReader.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/MultiReader.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/MultipleTermPositions.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/MultipleTermPositions.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/ParallelReader.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/ParallelReader.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentInfo.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/SegmentInfo.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentInfos.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/SegmentInfos.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentMergeInfo.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/SegmentMergeInfo.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentMergeQueue.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/SegmentMergeQueue.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentMerger.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/SegmentMerger.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentReader.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/SegmentReader.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentTermDocs.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/SegmentTermDocs.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentTermEnum.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/SegmentTermEnum.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentTermPositionVector.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/SegmentTermPositionVector.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentTermPositions.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/SegmentTermPositions.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentTermVector.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/SegmentTermVector.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/Term.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/Term.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/TermBuffer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/TermBuffer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/TermDocs.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/TermDocs.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/TermEnum.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/TermEnum.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/TermFreqVector.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/TermFreqVector.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/TermInfo.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/TermInfo.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/TermInfosReader.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/TermInfosReader.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/TermInfosWriter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/TermInfosWriter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/TermPositionVector.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/TermPositionVector.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/TermPositions.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/TermPositions.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/TermVectorOffsetInfo.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/TermVectorOffsetInfo.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/TermVectorsReader.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/TermVectorsReader.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Index/TermVectorsWriter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Index/TermVectorsWriter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/LICENSE.txt (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/LICENSE.txt:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/LucenePackage.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/LucenePackage.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/QueryParser (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/QueryParser:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/CharStream.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/QueryParser/CharStream.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/FastCharStream.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/QueryParser/FastCharStream.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/MultiFieldQueryParser.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/QueryParser/MultiFieldQueryParser.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/ParseException.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/QueryParser/ParseException.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/QueryParser.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/QueryParser/QueryParser.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/QueryParserConstants.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/QueryParser/QueryParserConstants.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/QueryParserTokenManager.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/QueryParser/QueryParserTokenManager.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/Token.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/QueryParser/Token.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/TokenMgrError.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/QueryParser/TokenMgrError.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/BooleanClause.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/BooleanClause.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/BooleanQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/BooleanQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/BooleanScorer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/BooleanScorer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/BooleanScorer2.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/BooleanScorer2.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/CachingWrapperFilter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/CachingWrapperFilter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/ConjunctionScorer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/ConjunctionScorer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/ConstantScoreQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/ConstantScoreQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/ConstantScoreRangeQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/ConstantScoreRangeQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/DefaultSimilarity.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/DefaultSimilarity.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/DisjunctionMaxQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/DisjunctionMaxQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/DisjunctionMaxScorer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/DisjunctionMaxScorer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/DisjunctionSumScorer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/DisjunctionSumScorer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/ExactPhraseScorer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/ExactPhraseScorer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Explanation.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Explanation.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/FieldCache.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/FieldCache.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/FieldCacheImpl.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/FieldCacheImpl.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/FieldDoc.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/FieldDoc.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/FieldDocSortedHitQueue.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/FieldDocSortedHitQueue.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/FieldSortedHitQueue.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/FieldSortedHitQueue.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Filter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Filter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/FilteredQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/FilteredQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/FilteredTermEnum.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/FilteredTermEnum.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/FuzzyQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/FuzzyQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/FuzzyTermEnum.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/FuzzyTermEnum.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Hit.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Hit.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/HitCollector.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/HitCollector.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/HitIterator.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/HitIterator.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/HitQueue.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/HitQueue.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Hits.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Hits.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/IndexSearcher.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/IndexSearcher.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/MatchAllDocsQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/MatchAllDocsQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/MultiPhraseQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/MultiPhraseQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/MultiSearcher.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/MultiSearcher.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/MultiTermQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/MultiTermQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/NonMatchingScorer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/NonMatchingScorer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/ParallelMultiSearcher.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/ParallelMultiSearcher.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/PhrasePositions.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/PhrasePositions.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/PhraseQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/PhraseQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/PhraseQueue.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/PhraseQueue.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/PhraseScorer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/PhraseScorer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/PrefixQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/PrefixQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Query.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Query.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/QueryFilter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/QueryFilter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/QueryTermVector.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/QueryTermVector.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/RangeFilter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/RangeFilter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/RangeQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/RangeQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/RemoteSearchable.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/RemoteSearchable.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/ReqExclScorer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/ReqExclScorer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/ReqOptSumScorer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/ReqOptSumScorer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/ScoreDoc.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/ScoreDoc.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/ScoreDocComparator.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/ScoreDocComparator.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Scorer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Scorer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Searchable.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Searchable.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Searcher.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Searcher.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Similarity.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Similarity.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/SimilarityDelegator.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/SimilarityDelegator.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/SloppyPhraseScorer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/SloppyPhraseScorer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Sort.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Sort.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/SortComparator.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/SortComparator.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/SortComparatorSource.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/SortComparatorSource.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/SortField.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/SortField.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Spans:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/NearSpans.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Spans/NearSpans.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanFirstQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Spans/SpanFirstQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanNearQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Spans/SpanNearQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanNotQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Spans/SpanNotQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanOrQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Spans/SpanOrQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Spans/SpanQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanScorer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Spans/SpanScorer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanTermQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Spans/SpanTermQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanWeight.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Spans/SpanWeight.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/Spans.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Spans/Spans.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/TermQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/TermQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/TermScorer.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/TermScorer.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/TopDocCollector.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/TopDocCollector.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/TopDocs.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/TopDocs.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/TopFieldDocCollector.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/TopFieldDocCollector.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/TopFieldDocs.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/TopFieldDocs.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/Weight.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/Weight.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/WildcardQuery.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/WildcardQuery.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Search/WildcardTermEnum.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Search/WildcardTermEnum.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/SharpZipLibAdapter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/SharpZipLibAdapter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Store (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Store:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Store/BufferedIndexInput.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Store/BufferedIndexInput.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Store/BufferedIndexOutput.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Store/BufferedIndexOutput.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Store/Directory.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Store/Directory.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Store/FSDirectory.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Store/FSDirectory.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Store/IndexInput.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Store/IndexInput.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Store/IndexOutput.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Store/IndexOutput.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Store/Lock.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Store/Lock.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Store/MMapDirectory.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Store/MMapDirectory.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Store/RAMDirectory.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Store/RAMDirectory.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Store/RAMFile.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Store/RAMFile.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Store/RAMInputStream.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Store/RAMInputStream.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Store/RAMOutputStream.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Store/RAMOutputStream.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/SupportClass.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/SupportClass.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Util (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Util:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Util/BitVector.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Util/BitVector.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Util/Constants.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Util/Constants.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Util/Parameter.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Util/Parameter.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Util/PriorityQueue.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Util/PriorityQueue.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Util/SmallFloat.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Util/SmallFloat.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Util/StringHelper.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Util/StringHelper.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/Util/ToStringUtils.cs (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/Util/ToStringUtils.cs:4574)
   R /trunk/beagrep/beagrepd/Lucene.Net/upstream-changes (from /branches/beagrep-lucene2_1/beagrepd/Lucene.Net/upstream-changes:4574)
   M /trunk/beagrep/beagrepd/LuceneCommon.cs
   M /trunk/beagrep/beagrepd/LuceneIndexingDriver.cs
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/NoiseFilter.cs
   M /trunk/beagrep/beagrepd/Snowball.Net/Lucene.Net/Analysis/Snowball/SnowballFilter.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/upstream-changes (from /branches/beagrep-lucene2_1/beagrepd/Snowball.Net/upstream-changes:4574)

Merge beagrep-lucene2_1 branch to trunk. In other words, we are switching to lucene-2.1. Thanks Nirbheek for testing. The branch looks stable and has lots of optimizations on top of lucene-2.1 which itself brings better performance (lock-less commits, faster, in-build field-selector). Further testing should be done with trunk and fixes will directly go here.

------------------------------------------------------------------------
r4570 | dbera | 2008-02-29 21:25:00 -0500 (Fri, 29 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterEbuild.cs
   M /trunk/beagrep/Filters/FilterXslt.cs

Use Compiled Regex whereever possible. And fix some streamreader leaks in the Ebuild filter.

------------------------------------------------------------------------
r4569 | dbera | 2008-02-29 20:37:30 -0500 (Fri, 29 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Flavor.cs

Fix our filter matching code to deal with multiple filters matching a file. Now we give more priority to a Uri match, then to an extension match. Also, fix the flavor IComparer to never 0 (i.e. the flavors are same) if they are not the same. This would prevent different flavors but with same weight from removing one another from the sortedlist.

------------------------------------------------------------------------
r4567 | dbera | 2008-02-29 08:00:02 -0500 (Fri, 29 Feb 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/Util/SafeProcess.cs
   M /trunk/beagrep/beagrepd/EvolutionMailQueryable/EvolutionMailQueryable.cs

* SafeProcess.cs: Fix serious typo.
* EvolutionMailQueryable.cs: The generator list could change during computation of status, so lock it. The generator list is not a heavily used resource so this should be fine.

------------------------------------------------------------------------
r4566 | dooteo | 2008-02-29 07:08:04 -0500 (Fri, 29 Feb 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/eu.po

2008-02-29  Inaki Larranaga Murgoitio  <dooteo@euskalgnu.org>

	* eu.po: Updated Basque translation.


------------------------------------------------------------------------
r4565 | jorgegonz | 2008-02-29 06:48:29 -0500 (Fri, 29 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r4564 | gforcada | 2008-02-29 06:40:22 -0500 (Fri, 29 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/ca.po

Updated Catalan translation
------------------------------------------------------------------------
r4543 | llipka | 2008-02-27 19:57:09 -0500 (Wed, 27 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search.Tiles/File.cs

Only display the emblem if the base icon is at least twice its size in one direction.
------------------------------------------------------------------------
r4542 | dbera | 2008-02-27 19:02:46 -0500 (Wed, 27 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Hit.cs
   M /trunk/beagrep/beagrepd/LuceneIndexingDriver.cs

Property changes (renames, nautilus emblems) were broken since 0.3. Secondary docs were added but not removed. Fix it. Fix a small mistake in Hit.cs.

------------------------------------------------------------------------
r4541 | llipka | 2008-02-27 17:35:05 -0500 (Wed, 27 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/Util/SystemInformation.cs
   M /trunk/beagrep/tools

Update SystemInformation-SetProcessName for 64-bit architectures and BSD-like OS.
------------------------------------------------------------------------
r4540 | llipka | 2008-02-27 17:08:12 -0500 (Wed, 27 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/Driver.cs
   M /trunk/beagrep/search/Beagrep.Search/ISearch.cs
   M /trunk/beagrep/search/Beagrep.Search/Search.cs
   M /trunk/beagrep/search/Beagrep.Search/SearchWindow.cs
   M /trunk/beagrep/search/Beagrep.Search/UIManager.cs
   M /trunk/beagrep/search/Beagrep.Search.Tiles/File.cs

Get all previous functionality along with instance managment working. Fix a crasher for nautilus emblems on file tiles.
------------------------------------------------------------------------
r4539 | jwendell | 2008-02-27 11:37:03 -0500 (Wed, 27 Feb 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/pt_BR.po

2008-02-27  Jonh Wendell  <jwendell@gnome.org>

	* pt_BR.po: Brazilian Portuguese translation updated by Igor Soares.

------------------------------------------------------------------------
r4538 | llipka | 2008-02-25 03:43:26 -0500 (Mon, 25 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search.Tiles/Tile.cs

Fix the focus line padding.
------------------------------------------------------------------------
r4535 | dbera | 2008-02-24 10:41:13 -0500 (Sun, 24 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/StaticQuery.cs

Prevent a crash during retrieving snippets in static-query.

------------------------------------------------------------------------
r4534 | dbera | 2008-02-23 23:34:09 -0500 (Sat, 23 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/StaticQuery.cs

Add snippet support to beagrep-static-query.

------------------------------------------------------------------------
r4533 | dbera | 2008-02-23 22:26:27 -0500 (Sat, 23 Feb 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/tools/Makefile.am
   M /trunk/beagrep/tools/Query.cs
   A /trunk/beagrep/tools/StaticQuery.cs

Add a tool to query beagrep indexes without the daemon (like 'locate'). Meant to be used with static indexes but could be used to any indexes in principle.
$ beagrep-static-query query-terms
$ beagrep-static-query --backend [+-] <backend-name> query-terms
$ beagrep-static-query --add-static-backend <static-backend-name> --backend none query-terms

------------------------------------------------------------------------
r4532 | kkubasik | 2008-02-23 15:59:27 -0500 (Sat, 23 Feb 2008) | 6 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Hit.cs
   M /trunk/beagrep/BeagrepClient/Property.cs
   M /trunk/beagrep/BeagrepClient/Query.cs
   M /trunk/beagrep/BeagrepClient/Snippet.cs
   M /trunk/beagrep/ChangeLog
   M /trunk/beagrep/Util/StringFu.cs
   M /trunk/beagrep/Util/SystemInformation.cs
   M /trunk/beagrep/beagrepd/Filter.cs

* beagrep/Util/SystemInformation.cs, beagrep/Util/StringFu.cs,
  beagrep/beagrepd/Filter.cs, beagrep/BeagrepClient/Snippet.cs,
  beagrep/BeagrepClient/Property.cs, beagrep/BeagrepClient/Hit.cs,
  beagrep/BeagrepClient/Query.cs: Taking existing desciptive comments,
  cleaning them up, and putting them in the proper monodoc tags. This
  allows Monodevelop to display some useful inline documentation. 
------------------------------------------------------------------------
r4528 | llipka | 2008-02-23 09:09:10 -0500 (Sat, 23 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/UIManager.cs

Namespace Gtk.Action because it conflicts with System.Action (#518220)
------------------------------------------------------------------------
r4511 | dnylande | 2008-02-21 17:53:09 -0500 (Thu, 21 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/sv.po

sv.po: Updated Swedish translation
------------------------------------------------------------------------
r4502 | dbera | 2008-02-20 08:55:25 -0500 (Wed, 20 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Indexable.cs
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/Filter.cs
   M /trunk/beagrep/beagrepd/FilterFactory.cs
   M /trunk/beagrep/beagrepd/KMailQueryable/KMailIndexer.cs
   M /trunk/beagrep/beagrepd/KonqHistoryQueryable/KonqQueryable.cs
   M /trunk/beagrep/beagrepd/ThunderbirdQueryable/ThunderbirdQueryable.cs

Rename Indexable.Crawled to Indexable.FlushBufferCache because that is what it actually is.

------------------------------------------------------------------------
r4501 | ymarcheg | 2008-02-19 18:05:41 -0500 (Tue, 19 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/oc.po

Updated Occitan translation
------------------------------------------------------------------------
r4500 | jmas | 2008-02-19 15:38:19 -0500 (Tue, 19 Feb 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/ca.po

2008-02-19  Jordi Mas <jmas@softcatala.org>

	* ca.po: Updated Catalan translation.


------------------------------------------------------------------------
r4499 | nirbheekc | 2008-02-19 01:26:08 -0500 (Tue, 19 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/WebServer.cs

Remove stale file mapping
------------------------------------------------------------------------
r4498 | nirbheekc | 2008-02-19 01:24:27 -0500 (Tue, 19 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/WebServer.cs
   M /trunk/beagrep/beagrepd/webinterface/index.xsl
   A /trunk/beagrep/beagrepd/webinterface/opensearch.xml

Beagrep Open Search plugin, made by Jaikumar (a.k.a. flukebox -- http://home.iitk.ac.in/~jaiks/) as a part of the Beagrep Hackfest during FOSSKriti
------------------------------------------------------------------------
r4497 | ituohela | 2008-02-19 00:22:23 -0500 (Tue, 19 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/fi.po

Updated Finnish translation
------------------------------------------------------------------------
r4496 | kmaraas | 2008-02-18 12:42:45 -0500 (Mon, 18 Feb 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/POTFILES.in
   M /trunk/beagrep/po/nb.po

2008-02-18  Kjartan Maraas  <kmaraas@gnome.org>

	* POTFILES.in: Add missing file.
	* nb.po: Updated Norwegian bokmål translation.
------------------------------------------------------------------------
r4492 | aihana | 2008-02-16 09:04:07 -0500 (Sat, 16 Feb 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ja.po

2008-02-16  Takeshi AIHANA <takeshi.aihana@gmail.com>

	* ja.po: Updated Japanese translation.

------------------------------------------------------------------------
r4490 | llipka | 2008-02-15 09:21:49 -0500 (Fri, 15 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/Driver.cs
   M /trunk/beagrep/search/Beagrep.Search/ISearch.cs
   M /trunk/beagrep/search/Beagrep.Search/Search.cs
   A /trunk/beagrep/search/Beagrep.Search/SearchWindow.cs (from /trunk/beagrep/search/Beagrep.Search/Search.cs:4479)
   M /trunk/beagrep/search/Beagrep.Search/UIManager.cs
   M /trunk/beagrep/search/Beagrep.Search.Tiles/Tile.cs
   M /trunk/beagrep/search/Makefile.am

A very basic implementation of instance management.
------------------------------------------------------------------------
r4487 | dbera | 2008-02-14 19:24:30 -0500 (Thu, 14 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/AssemblyInfo.cs
   M /trunk/beagrep/BeagrepClient/Query.cs
   M /trunk/beagrep/BeagrepClient/QueryResponses.cs
   M /trunk/beagrep/beagrepd/AssemblyInfo.cs
   M /trunk/beagrep/beagrepd/ExternalMetadataQueryable.cs
   M /trunk/beagrep/beagrepd/IQueryable.cs
   M /trunk/beagrep/beagrepd/LuceneQueryable.cs
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs
   M /trunk/beagrep/beagrepd/NetworkServicesQueryable/NetworkServicesQueryable.cs
   M /trunk/beagrep/beagrepd/QueryDriver.cs
   M /trunk/beagrep/beagrepd/QueryExecutor.cs
   M /trunk/beagrep/beagrepd/Queryable.cs

Add API to quickly get the number of matches for a query. Can be used to provide google-suggest like suggestions, or generate interesting statistics (e.g. histograms).

------------------------------------------------------------------------
r4486 | dbera | 2008-02-14 19:22:24 -0500 (Thu, 14 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs

More cleanup. Move large code to separate methods.

------------------------------------------------------------------------
r4485 | dbera | 2008-02-14 18:26:15 -0500 (Thu, 14 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs

Move out code to assemble queries to a separate method. This will help in writing other query executors.

------------------------------------------------------------------------
r4484 | dbera | 2008-02-14 18:07:05 -0500 (Thu, 14 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/beagrepd-index-helper.in

Minor corrections to the index-helper script.

------------------------------------------------------------------------
r4482 | llipka | 2008-02-14 17:44:03 -0500 (Thu, 14 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search.Tiles/Tile.cs

Last one, I promise --- give the user a visual clue if the tile has focus
------------------------------------------------------------------------
r4481 | llipka | 2008-02-14 17:35:28 -0500 (Thu, 14 Feb 2008) | 1 line
Changed paths:
   A /trunk/beagrep/search/Beagrep.Search/CairoFu.cs
   M /trunk/beagrep/search/Beagrep.Search.Tiles/Tile.cs
   M /trunk/beagrep/search/Makefile.am

Because I love you guys, you will get the delicious cairo rounded corners on selections.
------------------------------------------------------------------------
r4480 | llipka | 2008-02-14 17:15:10 -0500 (Thu, 14 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/Driver.cs
   M /trunk/beagrep/search/Beagrep.Search/ISearch.cs

Expose a simple Hide/Show DBus interface for beagrep-search. I'm done for the day, more hacking tomorrow.
------------------------------------------------------------------------
r4479 | llipka | 2008-02-14 17:02:21 -0500 (Thu, 14 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/search/Beagrep.Search/Search.cs

Four liner to get command line searches working --- yeah, I knew you would complain.
------------------------------------------------------------------------
r4478 | llipka | 2008-02-14 16:58:39 -0500 (Thu, 14 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/search/Makefile.am

Missed this.
------------------------------------------------------------------------
r4477 | llipka | 2008-02-14 16:56:03 -0500 (Thu, 14 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/conf-data
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/po/POTFILES.in
   M /trunk/beagrep/search/Beagrep.Search/Driver.cs
   M /trunk/beagrep/search/Beagrep.Search/Search.cs
   M /trunk/beagrep/search/Makefile.am
   M /trunk/beagrep/search/beagrep-search.in

Update potfiles, svn ignore, makefiles and wrappers.
------------------------------------------------------------------------
r4476 | llipka | 2008-02-14 16:38:52 -0500 (Thu, 14 Feb 2008) | 1 line
Changed paths:
   A /trunk/beagrep/search/AssemblyInfo.cs (from /trunk/beagrep/search/Beagrep.Search.Tiles/AssemblyInfo.cs:4475)
   A /trunk/beagrep/search/Beagrep.Search/Category.cs (from /trunk/beagrep/search/Category.cs:4474)
   A /trunk/beagrep/search/Beagrep.Search/DetailsPane.cs (from /trunk/beagrep/search/DetailsPane.cs:4474)
   A /trunk/beagrep/search/Beagrep.Search/Driver.cs (from /trunk/beagrep/search/Driver.cs:4474)
   A /trunk/beagrep/search/Beagrep.Search/Entry.cs (from /trunk/beagrep/search/Entry.cs:4474)
   A /trunk/beagrep/search/Beagrep.Search/GroupView.cs (from /trunk/beagrep/search/GroupView.cs:4474)
   A /trunk/beagrep/search/Beagrep.Search/ISearch.cs (from /trunk/beagrep/search/ISearch.cs:4474)
   A /trunk/beagrep/search/Beagrep.Search/ListCategory.cs (from /trunk/beagrep/search/ListCategory.cs:4474)
   A /trunk/beagrep/search/Beagrep.Search/NotificationArea.cs (from /trunk/beagrep/search/NotificationArea.cs:4474)
   A /trunk/beagrep/search/Beagrep.Search/Panes.cs (from /trunk/beagrep/search/Panes.cs:4474)
   A /trunk/beagrep/search/Beagrep.Search/Search.cs (from /trunk/beagrep/search/Search.cs:4474)
   A /trunk/beagrep/search/Beagrep.Search/SortedTileList.cs (from /trunk/beagrep/search/SortedTileList.cs:4474)
   A /trunk/beagrep/search/Beagrep.Search/Spinner.cs (from /trunk/beagrep/search/Spinner.cs:4474)
   A /trunk/beagrep/search/Beagrep.Search/TileCategory.cs (from /trunk/beagrep/search/TileCategory.cs:4474)
   A /trunk/beagrep/search/Beagrep.Search/TypeFilter.cs (from /trunk/beagrep/search/TypeFilter.cs:4474)
   A /trunk/beagrep/search/Beagrep.Search/UIManager.cs (from /trunk/beagrep/search/UIManager.cs:4474)
   A /trunk/beagrep/search/Beagrep.Search/WidgetFu.cs (from /trunk/beagrep/search/WidgetFu.cs:4474)
   D /trunk/beagrep/search/Beagrep.Search.Tiles/AssemblyInfo.cs
   D /trunk/beagrep/search/Category.cs
   D /trunk/beagrep/search/DetailsPane.cs
   D /trunk/beagrep/search/Driver.cs
   D /trunk/beagrep/search/Entry.cs
   D /trunk/beagrep/search/GroupView.cs
   D /trunk/beagrep/search/ISearch.cs
   D /trunk/beagrep/search/ListCategory.cs
   M /trunk/beagrep/search/Makefile.am
   D /trunk/beagrep/search/NotificationArea.cs
   D /trunk/beagrep/search/Panes.cs
   D /trunk/beagrep/search/Search.cs
   D /trunk/beagrep/search/SortedTileList.cs
   D /trunk/beagrep/search/Spinner.cs
   D /trunk/beagrep/search/TileCategory.cs
   D /trunk/beagrep/search/TypeFilter.cs
   D /trunk/beagrep/search/UIManager.cs
   D /trunk/beagrep/search/WidgetFu.cs

We will also in the end fix the keybindings stuff with this refactoring and make Bera happy. Actually make him happy happy :-)
------------------------------------------------------------------------
r4475 | llipka | 2008-02-14 16:20:00 -0500 (Thu, 14 Feb 2008) | 1 line
Changed paths:
   A /trunk/beagrep/search/Beagrep.Search
   A /trunk/beagrep/search/Beagrep.Search.Pages (from /trunk/beagrep/search/Pages:4473)
   R /trunk/beagrep/search/Beagrep.Search.Pages/Base.cs (from /trunk/beagrep/search/Pages/Base.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Pages/IndexInfo.cs (from /trunk/beagrep/search/Pages/IndexInfo.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Pages/NoMatch.cs (from /trunk/beagrep/search/Pages/NoMatch.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Pages/QuickTips.cs (from /trunk/beagrep/search/Pages/QuickTips.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Pages/RootUser.cs (from /trunk/beagrep/search/Pages/RootUser.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Pages/StartDaemon.cs (from /trunk/beagrep/search/Pages/StartDaemon.cs:4474)
   A /trunk/beagrep/search/Beagrep.Search.Tiles (from /trunk/beagrep/search/Tiles:4473)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/ActionMenuItem.cs (from /trunk/beagrep/search/Tiles/ActionMenuItem.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/Application.cs (from /trunk/beagrep/search/Tiles/Application.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/ArchivedFile.cs (from /trunk/beagrep/search/Tiles/ArchivedFile.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/AssemblyInfo.cs (from /trunk/beagrep/search/Tiles/AssemblyInfo.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/Audio.cs (from /trunk/beagrep/search/Tiles/Audio.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/CApplet.cs (from /trunk/beagrep/search/Tiles/CApplet.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/Calendar.cs (from /trunk/beagrep/search/Tiles/Calendar.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/Contact.cs (from /trunk/beagrep/search/Tiles/Contact.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/Docbook.cs (from /trunk/beagrep/search/Tiles/Docbook.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/File.cs (from /trunk/beagrep/search/Tiles/File.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/Folder.cs (from /trunk/beagrep/search/Tiles/Folder.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/HitFlavor.cs (from /trunk/beagrep/search/Tiles/HitFlavor.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/IMLog.cs (from /trunk/beagrep/search/Tiles/IMLog.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/Image.cs (from /trunk/beagrep/search/Tiles/Image.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/MailAttachment.cs (from /trunk/beagrep/search/Tiles/MailAttachment.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/MailMessage.cs (from /trunk/beagrep/search/Tiles/MailMessage.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/Manpage.cs (from /trunk/beagrep/search/Tiles/Manpage.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/Note.cs (from /trunk/beagrep/search/Tiles/Note.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/OpenWithMenu.cs (from /trunk/beagrep/search/Tiles/OpenWithMenu.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/Presentation.cs (from /trunk/beagrep/search/Tiles/Presentation.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/RSSFeed.cs (from /trunk/beagrep/search/Tiles/RSSFeed.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/Spreadsheet.cs (from /trunk/beagrep/search/Tiles/Spreadsheet.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/Task.cs (from /trunk/beagrep/search/Tiles/Task.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/TextDocument.cs (from /trunk/beagrep/search/Tiles/TextDocument.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/ThumbnailFactory.cs (from /trunk/beagrep/search/Tiles/ThumbnailFactory.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/Tile.cs (from /trunk/beagrep/search/Tiles/Tile.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/TileAction.cs (from /trunk/beagrep/search/Tiles/TileAction.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/TileActivator.cs (from /trunk/beagrep/search/Tiles/TileActivator.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/TileFlat.cs (from /trunk/beagrep/search/Tiles/TileFlat.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/TileGroup.cs (from /trunk/beagrep/search/Tiles/TileGroup.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/TileTemplate.cs (from /trunk/beagrep/search/Tiles/TileTemplate.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/Utils.cs (from /trunk/beagrep/search/Tiles/Utils.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/Video.cs (from /trunk/beagrep/search/Tiles/Video.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tiles/WebHistory.cs (from /trunk/beagrep/search/Tiles/WebHistory.cs:4474)
   A /trunk/beagrep/search/Beagrep.Search.Tray (from /trunk/beagrep/search/Tray:4473)
   R /trunk/beagrep/search/Beagrep.Search.Tray/NotificationArea.cs (from /trunk/beagrep/search/Tray/NotificationArea.cs:4474)
   R /trunk/beagrep/search/Beagrep.Search.Tray/TrayIcon.cs (from /trunk/beagrep/search/Tray/TrayIcon.cs:4474)
   D /trunk/beagrep/search/Pages
   D /trunk/beagrep/search/Tiles
   D /trunk/beagrep/search/Tray

Move files around
------------------------------------------------------------------------
r4474 | llipka | 2008-02-14 16:07:53 -0500 (Thu, 14 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/search/Category.cs
   M /trunk/beagrep/search/DetailsPane.cs
   A /trunk/beagrep/search/Driver.cs (from /trunk/beagrep/search/Search.cs:4473)
   M /trunk/beagrep/search/Entry.cs
   M /trunk/beagrep/search/GroupView.cs
   A /trunk/beagrep/search/ISearch.cs
   M /trunk/beagrep/search/ListCategory.cs
   M /trunk/beagrep/search/Makefile.am
   M /trunk/beagrep/search/NotificationArea.cs
   M /trunk/beagrep/search/Pages/Base.cs
   M /trunk/beagrep/search/Pages/IndexInfo.cs
   M /trunk/beagrep/search/Pages/NoMatch.cs
   M /trunk/beagrep/search/Pages/QuickTips.cs
   M /trunk/beagrep/search/Pages/RootUser.cs
   M /trunk/beagrep/search/Pages/StartDaemon.cs
   M /trunk/beagrep/search/Panes.cs
   M /trunk/beagrep/search/Search.cs
   M /trunk/beagrep/search/SortedTileList.cs
   M /trunk/beagrep/search/Spinner.cs
   M /trunk/beagrep/search/TileCategory.cs
   M /trunk/beagrep/search/Tiles/ActionMenuItem.cs
   M /trunk/beagrep/search/Tiles/Application.cs
   M /trunk/beagrep/search/Tiles/ArchivedFile.cs
   M /trunk/beagrep/search/Tiles/AssemblyInfo.cs
   M /trunk/beagrep/search/Tiles/Audio.cs
   M /trunk/beagrep/search/Tiles/CApplet.cs
   M /trunk/beagrep/search/Tiles/Calendar.cs
   M /trunk/beagrep/search/Tiles/Contact.cs
   M /trunk/beagrep/search/Tiles/Docbook.cs
   M /trunk/beagrep/search/Tiles/File.cs
   M /trunk/beagrep/search/Tiles/Folder.cs
   M /trunk/beagrep/search/Tiles/HitFlavor.cs
   M /trunk/beagrep/search/Tiles/IMLog.cs
   M /trunk/beagrep/search/Tiles/Image.cs
   M /trunk/beagrep/search/Tiles/MailAttachment.cs
   M /trunk/beagrep/search/Tiles/MailMessage.cs
   M /trunk/beagrep/search/Tiles/Manpage.cs
   M /trunk/beagrep/search/Tiles/Note.cs
   M /trunk/beagrep/search/Tiles/OpenWithMenu.cs
   M /trunk/beagrep/search/Tiles/Presentation.cs
   M /trunk/beagrep/search/Tiles/RSSFeed.cs
   M /trunk/beagrep/search/Tiles/Spreadsheet.cs
   M /trunk/beagrep/search/Tiles/Task.cs
   M /trunk/beagrep/search/Tiles/TextDocument.cs
   M /trunk/beagrep/search/Tiles/ThumbnailFactory.cs
   M /trunk/beagrep/search/Tiles/Tile.cs
   M /trunk/beagrep/search/Tiles/TileAction.cs
   M /trunk/beagrep/search/Tiles/TileActivator.cs
   M /trunk/beagrep/search/Tiles/TileFlat.cs
   M /trunk/beagrep/search/Tiles/TileGroup.cs
   M /trunk/beagrep/search/Tiles/TileTemplate.cs
   M /trunk/beagrep/search/Tiles/Utils.cs
   M /trunk/beagrep/search/Tiles/Video.cs
   M /trunk/beagrep/search/Tiles/WebHistory.cs
   M /trunk/beagrep/search/Tray/NotificationArea.cs
   M /trunk/beagrep/search/Tray/TrayIcon.cs
   M /trunk/beagrep/search/TypeFilter.cs
   M /trunk/beagrep/search/UIManager.cs
   M /trunk/beagrep/search/WidgetFu.cs

beagrep-search refactoring which will in the end lead us to our DBus instance management implementation. Still needs work.
------------------------------------------------------------------------
r4471 | dbera | 2008-02-10 16:16:38 -0500 (Sun, 10 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterDOC.cs
   M /trunk/beagrep/Filters/FilterDeb.cs
   M /trunk/beagrep/Filters/FilterExternal.cs
   M /trunk/beagrep/Filters/FilterMPlayerVideo.cs
   M /trunk/beagrep/Filters/FilterPdf.cs
   M /trunk/beagrep/Filters/FilterRPM.cs
   M /trunk/beagrep/Filters/FilterSpreadsheet.cs
   M /trunk/beagrep/Filters/FilterTotem.cs
   M /trunk/beagrep/Util/SafeProcess.cs
   M /trunk/beagrep/glue/spawn-glue.c

Use LANG=C for external programs used in filters. Fixes 509487.

------------------------------------------------------------------------
r4470 | dbera | 2008-02-09 14:29:26 -0500 (Sat, 09 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/configure.in

Fix #514252. Add explicit dependency of glib-sharp to evo-backends.

------------------------------------------------------------------------
r4469 | dbera | 2008-02-09 14:28:44 -0500 (Sat, 09 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/doc/api/BeagrepClient/Beagrep/EmptyResponse.xml
   M /trunk/beagrep/doc/api/BeagrepClient/Beagrep/Hit.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/ISnippetReader.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/PropertyList.xml
   M /trunk/beagrep/doc/api/BeagrepClient/Beagrep/Query.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessageAttribute.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessageExecutor+AsyncResponse.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessageExecutor.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessageExecutorTypesAttribute.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessageTypesAttribute.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestWrapper.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/ResponseMessageTypesAttribute.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/ResponseWrapper.xml
   M /trunk/beagrep/doc/api/BeagrepClient/Beagrep/SnippetList.xml
   M /trunk/beagrep/doc/api/BeagrepClient/Beagrep/Transport.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/Versioned.xml
   M /trunk/beagrep/doc/api/BeagrepClient/index.xml

Update BeagrepClient docs.

------------------------------------------------------------------------
r4468 | lferrett | 2008-02-08 16:18:24 -0500 (Fri, 08 Feb 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/it.po

2008-02-08  Luca Ferretti  <elle.uca@libero.it>

	* it.po: Updated Italian translation by Gianvito Cavasoli.


------------------------------------------------------------------------
r4467 | dooteo | 2008-02-08 11:14:07 -0500 (Fri, 08 Feb 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/eu.po

2008-02-08  Inaki Larranaga Murgoitio  <dooteo@euskalgnu.org>

	* eu.po: Updated Basque translation.


------------------------------------------------------------------------
r4466 | aflinta | 2008-02-07 15:37:04 -0500 (Thu, 07 Feb 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/pl.po

2008-02-07  Artur Flinta  <aflinta@svn.gnome.org>

	* pl.po: Updated Polish translation by GNOME PL Team.


------------------------------------------------------------------------
r4465 | jorgegonz | 2008-02-06 16:46:15 -0500 (Wed, 06 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r4464 | taofei | 2008-02-06 01:00:37 -0500 (Wed, 06 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/firefox-extension/chrome/locale/en-US/beagrep.properties

fix a typo

------------------------------------------------------------------------
r4463 | taofei | 2008-02-06 00:58:37 -0500 (Wed, 06 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/firefox-extension/chrome/content/beagrepOverlay.js
   M /trunk/beagrep/firefox-extension/chrome/locale/en-US/beagrep.properties
   M /trunk/beagrep/firefox-extension/chrome/locale/zh-CN/beagrep.properties

change the error msg for beagrep.storage.directory not found for a better understanding 

------------------------------------------------------------------------
r4461 | dbera | 2008-02-04 21:58:25 -0500 (Mon, 04 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/firefox-extension/Makefile.am
   M /trunk/beagrep/firefox-extension/README

Major goofup! Forgot to add the new sidebar files to Makefile.

------------------------------------------------------------------------
r4459 | dbera | 2008-02-03 13:55:42 -0500 (Sun, 03 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/PropertyKeywordFu.cs
   M /trunk/beagrep/conf-data/Makefile.am
   D /trunk/beagrep/conf-data/keyword-mapping.xml
   A /trunk/beagrep/conf-data/query-mapping.xml (from /trunk/beagrep/conf-data/keyword-mapping.xml:4454)

Rename keyword-mapping.xml to query-mapping.xml since the previous name was confusing when you consider that some of the mappings are for keywords. The word "keyword" was being used in different meaning in different context.

------------------------------------------------------------------------
r4458 | dbera | 2008-02-03 13:51:14 -0500 (Sun, 03 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/PropertyKeywordFu.cs
   M /trunk/beagrep/beagrepd/QueryDriver.cs
   M /trunk/beagrep/beagrepd/QueryStringParser.cs

Remove a whole lot of code now redundant due to the keyword-mapping.xml changes. Move all the logic in PropertyKeywordFu. Remove some of the unnecessary classes in PropertyKeywordFu and remove the mappings hardcoded in the code; they are now in the external mappings file.
------------------------------------------------------------------------
r4457 | dbera | 2008-02-03 13:48:02 -0500 (Sun, 03 Feb 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Property.cs
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/IndexingServiceQueryable/IndexingServiceQueryable.cs
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/NautilusMetadataQueryable/NautilusMetadataQueryable.cs
   M /trunk/beagrep/beagrepd/StaticQueryable.cs
   M /trunk/beagrep/beagrepd/TomboyQueryable/TomboyQueryable.cs
   M /trunk/beagrep/beagrepd/beagrepd.in
   M /trunk/beagrep/beagrepd/wrapper.in

* Remove spurious whitespace.
* Adapt BeagrepDaemon.cs and BuildIndex.cs to PathFinder changes.
* Remove System.Data from the required assemblies since we dont use it anymore.
* Change wrapper scripts to set the env variable to conf-data.
------------------------------------------------------------------------
r4456 | dbera | 2008-02-03 13:44:28 -0500 (Sun, 03 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Config.cs
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/Util/PathFinder.cs
   D /trunk/beagrep/Util/PropertyKeywordAttribute.cs
   A /trunk/beagrep/Util/QueryKeywordMapping.cs (from /trunk/beagrep/Util/PropertyKeywordAttribute.cs:4452)

Fix PathFinder to deal with the data files from conf-data and BEAGREP_CONF_DATA env variable.
No need for PropertyKeyword attribute since Filters and Backends wont have the mapping specified in their attributes any more. Instead, rename it to QueryKeywordMapping and change it suitably to store the mapping information.
------------------------------------------------------------------------
r4455 | dbera | 2008-02-03 13:42:01 -0500 (Sun, 03 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/Filters/FilterArchive.cs
   M /trunk/beagrep/Filters/FilterAudio.cs
   M /trunk/beagrep/Filters/FilterDeb.cs
   M /trunk/beagrep/Filters/FilterEmpathyLog.cs
   M /trunk/beagrep/Filters/FilterExternal.cs
   M /trunk/beagrep/Filters/FilterKAddressBook.cs
   M /trunk/beagrep/Filters/FilterKopeteLog.cs
   M /trunk/beagrep/Filters/FilterMail.cs
   M /trunk/beagrep/Filters/FilterPidginLog.cs
   M /trunk/beagrep/Filters/Makefile.am
   D /trunk/beagrep/Filters/external-filters.xml.sample
   D /trunk/beagrep/Filters/keyword-mapping.xml

Remove spurious whitespace and move external-filters.xml.sample and keyword-mapping.xml to conf-data.
------------------------------------------------------------------------
r4454 | dbera | 2008-02-03 13:40:58 -0500 (Sun, 03 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Makefile.am
   A /trunk/beagrep/conf-data
   A /trunk/beagrep/conf-data/Makefile.am
   A /trunk/beagrep/conf-data/config-files (from /trunk/beagrep/tools/config-files:4450)
   A /trunk/beagrep/conf-data/crawl-rules (from /trunk/beagrep/tools/crawl-rules:4450)
   A /trunk/beagrep/conf-data/external-filters.xml.sample (from /trunk/beagrep/Filters/external-filters.xml.sample:4452)
   A /trunk/beagrep/conf-data/keyword-mapping.xml (from /trunk/beagrep/Filters/keyword-mapping.xml:4452)
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/tools/Makefile.am
   M /trunk/beagrep/tools/beagrep-crawl-system.in
   D /trunk/beagrep/tools/config-files
   D /trunk/beagrep/tools/crawl-rules
   M /trunk/beagrep/tools/wrapper.in

Move all the config data to its own directory beagrep/conf-data. Set BEAGREP_CONF_DIR to point the local conf-data directory when running uninstalled.
Install the crawl-rules in /etc/beagrep/crawl-rules/ directory.
------------------------------------------------------------------------
r4453 | dbera | 2008-02-03 13:38:42 -0500 (Sun, 03 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/tools/Query.cs

Remove code to read keyword mappings from backends.
------------------------------------------------------------------------
r4452 | kkubasik | 2008-02-03 04:59:02 -0500 (Sun, 03 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/BeagrepClient/Property.cs
   M /trunk/beagrep/Filters/Makefile.am
   A /trunk/beagrep/Filters/keyword-mapping.xml
   M /trunk/beagrep/Util/Config.cs
   M /trunk/beagrep/beagrepd/PropertyKeywordFu.cs
   M /trunk/beagrep/beagrepd/QueryDriver.cs
   M /trunk/beagrep/tools/Query.cs

cleaning up the extraction of keyword mapping. Easier to read file format and more configurable
------------------------------------------------------------------------
r4451 | kkubasik | 2008-02-03 00:21:25 -0500 (Sun, 03 Feb 2008) | 1 line
Changed paths:
   M /trunk/beagrep/Filters/FilterArchive.cs
   M /trunk/beagrep/Filters/FilterAudio.cs
   M /trunk/beagrep/Filters/FilterDeb.cs
   M /trunk/beagrep/Filters/FilterEmpathyLog.cs
   M /trunk/beagrep/Filters/FilterJpeg.cs
   M /trunk/beagrep/Filters/FilterKAddressBook.cs
   M /trunk/beagrep/Filters/FilterKopeteLog.cs
   M /trunk/beagrep/Filters/FilterMail.cs
   M /trunk/beagrep/Filters/FilterPidginLog.cs
   M /trunk/beagrep/Util/Config.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/IndexingServiceQueryable/IndexingServiceQueryable.cs
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/NautilusMetadataQueryable/NautilusMetadataQueryable.cs
   M /trunk/beagrep/beagrepd/PropertyKeywordFu.cs
   M /trunk/beagrep/beagrepd/QueryDriver.cs
   M /trunk/beagrep/beagrepd/StaticQueryable.cs
   M /trunk/beagrep/beagrepd/TomboyQueryable/TomboyQueryable.cs
   M /trunk/beagrep/tools/Makefile.am
   M /trunk/beagrep/tools/Query.cs

Move keyword maps into a separate XML file, still needs some testing to see how new installs go. Known issues: 1) File placement 2) inital data is currently a big string literal in Conf.cs, should be moved to a separate file
------------------------------------------------------------------------
r4446 | dbera | 2008-02-02 21:07:18 -0500 (Sat, 02 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/ChangeLog

Update changelog.

------------------------------------------------------------------------
r4445 | dbera | 2008-02-02 20:46:44 -0500 (Sat, 02 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/configure.in

Require ndesk-dbus >= 0.5.2 (the first thread safe version).

------------------------------------------------------------------------
r4444 | dbera | 2008-02-02 20:00:55 -0500 (Sat, 02 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FileAttributesStore_Sqlite.cs
   M /trunk/beagrep/beagrepd/TextCache.cs

Recent sqlite changes uncovered a bug in our Sqlite code where the reader was not always closed after reading. Make sure all our Sqlite readers are properly closed.

------------------------------------------------------------------------
r4443 | dbera | 2008-02-02 17:03:11 -0500 (Sat, 02 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/ChangeLog
   M /trunk/beagrep/NEWS
   M /trunk/beagrep/configure.in

Bump version, update NEWS and Changelog.

------------------------------------------------------------------------
r4442 | dbera | 2008-02-02 16:55:15 -0500 (Sat, 02 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/COPYING

Use the LZMA code under the LGPL license and not the special license which is not exactly in the right spirit of open source.

------------------------------------------------------------------------
r4441 | dbera | 2008-02-02 16:13:15 -0500 (Sat, 02 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/POTFILES.in

Add new files to translation list.

------------------------------------------------------------------------
r4440 | dbera | 2008-02-02 11:25:03 -0500 (Sat, 02 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/IndexingServiceQueryable/IndexingServiceQueryable.cs
   M /trunk/beagrep/firefox-extension/chrome/content/beagrepOverlay.js
   M /trunk/beagrep/firefox-extension/install.rdf

Make the firefox extension also store a tokenized form of the URL. Make the IndexingService backend treat any text property with the name beagrep:inuri for inuri: queries. Up the firefox extension version.

------------------------------------------------------------------------
r4439 | dbera | 2008-02-02 10:30:25 -0500 (Sat, 02 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/KonqHistoryQueryable/KonqQueryable.cs

Bump the version of KonqHistory backend since now URIs are stored in the right format.

------------------------------------------------------------------------
r4438 | llipka | 2008-02-02 10:02:29 -0500 (Sat, 02 Feb 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/search/Makefile.am
   M /trunk/beagrep/search/Tiles/AssemblyInfo.cs
   A /trunk/beagrep/search/Tiles/Docbook.cs
   D /trunk/beagrep/search/Tiles/Documentation.cs
   A /trunk/beagrep/search/Tiles/Manpage.cs (from /trunk/beagrep/search/Tiles/Documentation.cs:4429)

Add a docbook tile and move the manpage tile. Searching documentation is still disabled by default and can be enabled by passing --search-docs option to beagrep-search.


------------------------------------------------------------------------
r4437 | dbera | 2008-02-01 18:01:11 -0500 (Fri, 01 Feb 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/EvolutionDataServerQueryable/SourcesHandler.cs

Varadhan informed me that the leak in EDS is about to be fixed and will be available in the next point release. So, re-enable webcal indexing.

------------------------------------------------------------------------
r4436 | lferrett | 2008-02-01 03:25:23 -0500 (Fri, 01 Feb 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/it.po

2008-02-01  Luca Ferretti  <elle.uca@libero.it>

	* it.po: Updated Italian translation by Gianvito Cavasoli.


------------------------------------------------------------------------
r4435 | djihed | 2008-01-29 03:15:26 -0500 (Tue, 29 Jan 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/ar.po

Updated Arabic Translation by Khaled Hosny. 
------------------------------------------------------------------------
r4434 | dbera | 2008-01-29 00:20:51 -0500 (Tue, 29 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/crawl-rules/crawl-manpages

Index lzma manpages in the system wide manpage index.

------------------------------------------------------------------------
r4433 | dbera | 2008-01-28 23:30:15 -0500 (Mon, 28 Jan 2008) | 2 lines
Changed paths:
   A /trunk/beagrep/Filters/7zip/COPYING
   A /trunk/beagrep/Filters/7zip/Compress/LzmaAlone
   A /trunk/beagrep/Filters/7zip/Compress/LzmaAlone/LzmaAlone.cs
   A /trunk/beagrep/Filters/7zip/Compress/LzmaAlone/LzmaAlone.csproj
   A /trunk/beagrep/Filters/7zip/Compress/LzmaAlone/LzmaAlone.sln
   A /trunk/beagrep/Filters/7zip/Compress/LzmaAlone/LzmaBench.cs
   A /trunk/beagrep/Filters/7zip/Compress/LzmaAlone/Properties
   A /trunk/beagrep/Filters/7zip/Compress/LzmaAlone/Properties/AssemblyInfo.cs
   A /trunk/beagrep/Filters/7zip/Compress/LzmaAlone/Properties/Resources.cs
   A /trunk/beagrep/Filters/7zip/Compress/LzmaAlone/Properties/Settings.cs

Add these extra files useful for reference. Also add a COPYING file for the special license under which LZMA SDK is used (unmodified).

------------------------------------------------------------------------
r4432 | dbera | 2008-01-28 23:08:08 -0500 (Mon, 28 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/COPYING
   A /trunk/beagrep/Filters/7zip
   A /trunk/beagrep/Filters/7zip/7zip.sources
   A /trunk/beagrep/Filters/7zip/Common
   A /trunk/beagrep/Filters/7zip/Common/CRC.cs
   A /trunk/beagrep/Filters/7zip/Common/CommandLineParser.cs
   A /trunk/beagrep/Filters/7zip/Common/InBuffer.cs
   A /trunk/beagrep/Filters/7zip/Common/OutBuffer.cs
   A /trunk/beagrep/Filters/7zip/Compress
   A /trunk/beagrep/Filters/7zip/Compress/LZ
   A /trunk/beagrep/Filters/7zip/Compress/LZ/IMatchFinder.cs
   A /trunk/beagrep/Filters/7zip/Compress/LZ/LzBinTree.cs
   A /trunk/beagrep/Filters/7zip/Compress/LZ/LzInWindow.cs
   A /trunk/beagrep/Filters/7zip/Compress/LZ/LzOutWindow.cs
   A /trunk/beagrep/Filters/7zip/Compress/LZMA
   A /trunk/beagrep/Filters/7zip/Compress/LZMA/LzmaBase.cs
   A /trunk/beagrep/Filters/7zip/Compress/LZMA/LzmaDecoder.cs
   A /trunk/beagrep/Filters/7zip/Compress/LZMA/LzmaEncoder.cs
   A /trunk/beagrep/Filters/7zip/Compress/RangeCoder
   A /trunk/beagrep/Filters/7zip/Compress/RangeCoder/RangeCoder.cs
   A /trunk/beagrep/Filters/7zip/Compress/RangeCoder/RangeCoderBit.cs
   A /trunk/beagrep/Filters/7zip/Compress/RangeCoder/RangeCoderBitTree.cs
   A /trunk/beagrep/Filters/7zip/ICoder.cs
   M /trunk/beagrep/Filters/FilterMan.cs
   M /trunk/beagrep/Filters/Makefile.am

Add LZMA (7zip) based lzma-compressed man page indexer. Useful for mandriva users.

------------------------------------------------------------------------
r4431 | dbera | 2008-01-28 21:17:16 -0500 (Mon, 28 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/crawl-rules/crawl-applications
   M /trunk/beagrep/tools/crawl-rules/crawl-windows

Disable building static indexes when on battery. We already do this for most static indexes.

------------------------------------------------------------------------
r4430 | dbera | 2008-01-28 21:14:19 -0500 (Mon, 28 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/EvolutionMailQueryable/EvolutionMailIndexableGenerator.cs

Remove an obsolete and incorrect type-casting.

------------------------------------------------------------------------
r4429 | llipka | 2008-01-28 07:17:40 -0500 (Mon, 28 Jan 2008) | 1 line
Changed paths:
   M /trunk/beagrep/Filters/FilterMan.cs
   M /trunk/beagrep/search/Tiles/Documentation.cs

More fixes to the man filter and tile.
------------------------------------------------------------------------
r4428 | dbera | 2008-01-27 20:11:53 -0500 (Sun, 27 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/firefox-extension/README
   M /trunk/beagrep/firefox-extension/chrome/content/beagrepOverlay.xul
   A /trunk/beagrep/firefox-extension/chrome/content/beagrepSearch.js
   A /trunk/beagrep/firefox-extension/chrome/content/sidebar.xul
   M /trunk/beagrep/firefox-extension/chrome/locale/en-US/beagrep.dtd
   A /trunk/beagrep/firefox-extension/chrome/skin/classic/sidebar.css

It does not make sense if apps can only submit data for indexing but cannot search in the submitted data. Add a simple sidebar to search the indexed webpages and bookmarks. libbeagrep requires a glib mainloop to run and I am not sure firefox allows another mainloop right now, so instead use the webinterface. As a side-effect, if you enable NetworkService backend then you can search your webhistory and bookmarks from anywhere in the internet (this is kind of scary, I have to remember to disable indexing certain pages from now on).

------------------------------------------------------------------------
r4427 | dbera | 2008-01-27 18:55:07 -0500 (Sun, 27 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/firefox-extension/chrome/content/beagrepOverlay.xul
   M /trunk/beagrep/firefox-extension/chrome/content/beagrepPrefs.xul

Silence Jslib.

------------------------------------------------------------------------
r4426 | dbera | 2008-01-27 11:21:21 -0500 (Sun, 27 Jan 2008) | 2 lines
Changed paths:
   D /trunk/beagrep/Util/CommandLineFu.cs
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/beagrepd/QueryDriver.cs
   A /trunk/beagrep/bludgeon/CommandLineFu.cs (from /trunk/beagrep/Util/CommandLineFu.cs:4412)
   M /trunk/beagrep/bludgeon/Makefile.am

Remove redundant variable from QueryDriver and move CommandLineFu to bludgeon since no one else uses  it. We should start using NDesk.Options or some generic command line parsing library, all our tools   have separate, different and hacked up command line parsing.

------------------------------------------------------------------------
r4425 | jorgegonz | 2008-01-27 11:19:02 -0500 (Sun, 27 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r4424 | dbera | 2008-01-27 10:40:11 -0500 (Sun, 27 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Config.cs

Remove obsolete code.

------------------------------------------------------------------------
r4420 | dbera | 2008-01-26 17:18:10 -0500 (Sat, 26 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/crawl-rules/crawl-manpages

Enable system wide manpage index.

------------------------------------------------------------------------
r4419 | dbera | 2008-01-26 17:16:05 -0500 (Sat, 26 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/POTFILES.in

Add IndexInfo page to potfiles.

------------------------------------------------------------------------
r4418 | joeshaw | 2008-01-26 14:53:42 -0500 (Sat, 26 Jan 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Server.cs

Move code which handles ThreadAbortException into its own named method
from an anonymous method, so that you get meaningful names in the
logs if it needs to join that thread.
------------------------------------------------------------------------
r4417 | joeshaw | 2008-01-26 14:28:29 -0500 (Sat, 26 Jan 2008) | 6 lines
Changed paths:
   M /trunk/beagrep/tools/Settings.cs

Re-enable setting of Hidden=true in the user's local autostart file,
since it looks like the gnome-session bug was fixed in 2.19.2.
However, make a note of it in a comment in the file.  This will fix
disabling of autostart in KDE, keep it working for GNOME >= 2.19.2,
and break it for older versions of GNOME.  Sigh.  Discussed a bit in
bgo #507786
------------------------------------------------------------------------
r4416 | joeshaw | 2008-01-26 13:41:44 -0500 (Sat, 26 Jan 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/search/beagrep-search-autostart.desktop

Remove erroneous X-GNOME-Autostart-enabled=false line from
beagrep-search-autostart.desktop.  We in fact want it to be autostarted by
default, like beagrepd is.  Fixes bgo #507786
------------------------------------------------------------------------
r4415 | dbera | 2008-01-25 21:36:25 -0500 (Fri, 25 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/F-Spot/JpegHeader.cs
   A /trunk/beagrep/Util/F-Spot/beagrep-changes/09-license.diff

Change license as requested by Novell.

------------------------------------------------------------------------
r4414 | dnylande | 2008-01-25 12:36:25 -0500 (Fri, 25 Jan 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/sv.po

sv.po: Updated Swedish translation
------------------------------------------------------------------------
r4413 | dbera | 2008-01-24 18:34:13 -0500 (Thu, 24 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/glue/xdgmime/README
   M /trunk/beagrep/glue/xdgmime/xdgmimecache.c

xdgmimecache.c contains a fix for bugs.freedesktop.org #12512 which is not present in the GTK+ copy. I accidentally removed it while syncing with the GTK+ trunk. Revert the change. Also mention about it in the README.

------------------------------------------------------------------------
r4412 | dbera | 2008-01-24 18:25:49 -0500 (Thu, 24 Jan 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/Util/KonqHistoryUtil.cs
   M /trunk/beagrep/beagrepd/KMailQueryable/KMailIndexableGenerator.cs
   M /trunk/beagrep/beagrepd/KonqHistoryQueryable/KonqQueryable.cs

Fix the URIs of konqueror hits. Dont decode them before storing since that will change "&" to " " and change some other characters making it unusable. Also, set the crawlmode to true for files during crawling.
Remove some debug messages too.

------------------------------------------------------------------------
r4411 | dbera | 2008-01-24 18:23:32 -0500 (Thu, 24 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/POTFILES.in
   M /trunk/beagrep/po/POTFILES.skip

Remove the F-Spot files from the translatable files since in beagrep these files need not be translated.

------------------------------------------------------------------------
r4410 | dbera | 2008-01-21 19:29:37 -0500 (Mon, 21 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/tools/Makefile.am
   A /trunk/beagrep/tools/SettingsQt.cs
   A /trunk/beagrep/tools/beagrep-settings-qt.ui
   A /trunk/beagrep/tools/kerry.png

Add a Qt port of beagrep-settings, using Qyoto (Qt C# binding). Its absolutely trivial to create UI using qt-designer and C# makes it zero-effort to write the few lines of code.

------------------------------------------------------------------------
r4409 | dbera | 2008-01-21 19:22:23 -0500 (Mon, 21 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/VersionFu.cs

Allow assemblies to have a non-Novell copyright information.

------------------------------------------------------------------------
r4407 | nirbheekc | 2008-01-19 12:46:34 -0500 (Sat, 19 Jan 2008) | 1 line
Changed paths:
   M /trunk/beagrep/configure.in

\'Hoops, innocent typo
------------------------------------------------------------------------
r4406 | nirbheekc | 2008-01-19 12:39:30 -0500 (Sat, 19 Jan 2008) | 8 lines
Changed paths:
   M /trunk/beagrep/configure.in

Add flexibility for enabling/disabling the internal taglib-sharp. The current scenario uses too much magic (use external if possible, else internal with no flags to control it), not letting the maintainer decide which one to use. 
This is especially problematic on Gentoo, since if the maintainer wishes to use the internal taglib-sharp for Beagrep, configure will automagically link with an external taglib-sharp if it is present. This will break Beagrep when the taglib-sharp disappears.

- If --enable-internal-taglib is passed, always use the internal taglib
- If --disable-internal-taglib is passed, use an external taglib, and error out if it isn't installed.
- If nothing is specified, auto detect in the same way as before.

This does not change "expected behaviour" as in the old way (magical auto-detection), and adds the ability to select which one the maintainer wants to use.
------------------------------------------------------------------------
r4405 | kkubasik | 2008-01-19 02:27:34 -0500 (Sat, 19 Jan 2008) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/TextCache.cs

Fix method naming, sorry again for this, too many coding styles in my headsvn diff  ./beagrepd/TextCache.cs 
------------------------------------------------------------------------
r4404 | kkubasik | 2008-01-19 02:23:37 -0500 (Sat, 19 Jan 2008) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/FileAttributesStore_Sqlite.cs
   M /trunk/beagrep/beagrepd/SqliteUtils.cs
   M /trunk/beagrep/beagrepd/TextCache.cs

Formatting fixes for last Sqlite commit
------------------------------------------------------------------------
r4403 | kkubasik | 2008-01-18 20:28:45 -0500 (Fri, 18 Jan 2008) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/FileAttributesStore_Sqlite.cs
   M /trunk/beagrep/beagrepd/SqliteUtils.cs
   M /trunk/beagrep/beagrepd/TextCache.cs

Do some SqliteCommand caching so that commands will be prepared to increase performance. NEEDS LOTS OF TESTING as this might have some threading issues, or just not handle transactions 100%
------------------------------------------------------------------------
r4399 | dbera | 2008-01-18 18:42:41 -0500 (Fri, 18 Jan 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/Util/Log.cs

Some improvements to the "repeated" feature of the logger. Patch from  
Enrico Minack.

------------------------------------------------------------------------
r4398 | gforcada | 2008-01-18 16:00:11 -0500 (Fri, 18 Jan 2008) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/tr.po

Updated Turkish translation to pass msgfmt -cv
------------------------------------------------------------------------
r4397 | dbera | 2008-01-17 17:44:04 -0500 (Thu, 17 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Log.cs

Keep a buffer of last 4 messages with exception (effectively all multiline messages) and if the same message is repeated, just print the first line with a "(Repeated)" at the beginning. This will reduce same exceptions showing up repeatedly in the log files and output.

------------------------------------------------------------------------
r4396 | dbera | 2008-01-17 15:58:21 -0500 (Thu, 17 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Makefile.am
   M /trunk/beagrep/configure.in
   A /trunk/beagrep/po/LINGUAS
   M /trunk/beagrep/po/ca.po

Port beagrep to LINGUAS. Fixes #510172.

------------------------------------------------------------------------
r4394 | kkubasik | 2008-01-17 12:19:02 -0500 (Thu, 17 Jan 2008) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Analyzer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/CharTokenizer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/ISOLatin1AccentFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/KeywordAnalyzer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/KeywordTokenizer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/LengthFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/LetterTokenizer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/LowerCaseFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/LowerCaseTokenizer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/PorterStemFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/PorterStemmer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/SimpleAnalyzer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/CharStream.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/FastCharStream.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/ParseException.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/StandardAnalyzer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/StandardFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/StandardTokenizer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/StandardTokenizer.jj
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/StandardTokenizerConstants.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/StandardTokenizerTokenManager.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/Token.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/TokenMgrError.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/StopAnalyzer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/StopFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Token.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/TokenFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/TokenStream.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Tokenizer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/WhitespaceAnalyzer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/WhitespaceTokenizer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/WordlistLoader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/AssemblyInfo.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Document/DateField.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Document/DateTools.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Document/Document.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Document/Field.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Document/NumberTools.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/CompoundFileReader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/CompoundFileWriter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/DocumentWriter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/FieldInfo.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/FieldInfos.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/FieldsReader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/FieldsWriter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/FilterIndexReader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/IndexFileNameFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/IndexFileNames.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/IndexModifier.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/IndexReader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/IndexWriter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/MultiReader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/MultipleTermPositions.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/ParallelReader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentInfo.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentInfos.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentMergeInfo.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentMergeQueue.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentMerger.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentReader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentTermDocs.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentTermEnum.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentTermPositionVector.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentTermPositions.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentTermVector.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/Term.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermBuffer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermDocs.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermEnum.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermFreqVector.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermInfo.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermInfosReader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermInfosWriter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermPositionVector.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermPositions.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermVectorOffsetInfo.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermVectorsReader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermVectorsWriter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/LucenePackage.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Makefile.am
   M /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/CharStream.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/FastCharStream.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/MultiFieldQueryParser.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/ParseException.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/QueryParser.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/QueryParserConstants.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/QueryParserTokenManager.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/Token.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/TokenMgrError.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/BooleanClause.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/BooleanQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/BooleanScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/BooleanScorer2.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/CachingWrapperFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/ConjunctionScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/ConstantScoreQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/ConstantScoreRangeQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/DefaultSimilarity.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/DisjunctionMaxQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/DisjunctionMaxScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/DisjunctionSumScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/ExactPhraseScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Explanation.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/FieldCache.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/FieldCacheImpl.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/FieldDoc.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/FieldDocSortedHitQueue.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/FieldSortedHitQueue.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Filter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/FilteredQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/FilteredTermEnum.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/FuzzyQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/FuzzyTermEnum.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Hit.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/HitCollector.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/HitIterator.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/HitQueue.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Hits.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/IndexSearcher.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/MatchAllDocsQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/MultiPhraseQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/MultiSearcher.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/MultiTermQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/NonMatchingScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/ParallelMultiSearcher.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/PhrasePositions.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/PhraseQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/PhraseQueue.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/PhraseScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/PrefixQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Query.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/QueryFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/QueryTermVector.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/RangeFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/RangeQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/RemoteSearchable.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/ReqExclScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/ReqOptSumScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/ScoreDoc.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/ScoreDocComparator.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Scorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Searchable.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Searcher.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Similarity.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/SimilarityDelegator.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/SloppyPhraseScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Sort.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/SortComparator.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/SortComparatorSource.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/SortField.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/NearSpans.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanFirstQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanNearQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanNotQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanOrQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanTermQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanWeight.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/Spans.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/TermQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/TermScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/TopDocs.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/TopFieldDocs.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Weight.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/WildcardQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/WildcardTermEnum.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/SharpZipLibAdapter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/BufferedIndexInput.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/BufferedIndexOutput.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/Directory.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/FSDirectory.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/IndexInput.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/IndexOutput.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/MMapDirectory.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/RAMDirectory.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/RAMFile.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/RAMInputStream.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/RAMOutputStream.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/SupportClass.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Util/BitVector.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Util/Constants.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Util/Parameter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Util/PriorityQueue.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Util/SmallFloat.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Util/StringHelper.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Util/ToStringUtils.cs
   M /trunk/beagrep/beagrepd/LuceneIndexingDriver.cs
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs
   M /trunk/beagrep/beagrepd/Makefile.am

Reverting changes made against trunk
------------------------------------------------------------------------
r4392 | kkubasik | 2008-01-17 09:38:34 -0500 (Thu, 17 Jan 2008) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Analyzer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/CharTokenizer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/ISOLatin1AccentFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/KeywordAnalyzer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/KeywordTokenizer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/LengthFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/LetterTokenizer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/LowerCaseFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/LowerCaseTokenizer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/PorterStemFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/PorterStemmer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/SimpleAnalyzer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/CharStream.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/FastCharStream.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/ParseException.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/StandardAnalyzer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/StandardFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/StandardTokenizer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/StandardTokenizer.jj
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/StandardTokenizerConstants.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/StandardTokenizerTokenManager.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/Token.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Standard/TokenMgrError.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/StopAnalyzer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/StopFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Token.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/TokenFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/TokenStream.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/Tokenizer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/WhitespaceAnalyzer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/WhitespaceTokenizer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Analysis/WordlistLoader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/AssemblyInfo.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Document/DateField.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Document/DateTools.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Document/Document.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Document/Field.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Document/NumberTools.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/CompoundFileReader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/CompoundFileWriter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/DocumentWriter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/FieldInfo.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/FieldInfos.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/FieldsReader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/FieldsWriter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/FilterIndexReader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/IndexFileNameFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/IndexFileNames.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/IndexModifier.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/IndexReader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/IndexWriter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/MultiReader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/MultipleTermPositions.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/ParallelReader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentInfo.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentInfos.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentMergeInfo.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentMergeQueue.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentMerger.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentReader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentTermDocs.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentTermEnum.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentTermPositionVector.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentTermPositions.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentTermVector.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/Term.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermBuffer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermDocs.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermEnum.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermFreqVector.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermInfo.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermInfosReader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermInfosWriter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermPositionVector.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermPositions.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermVectorOffsetInfo.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermVectorsReader.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/TermVectorsWriter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/LucenePackage.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Makefile.am
   M /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/CharStream.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/FastCharStream.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/MultiFieldQueryParser.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/ParseException.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/QueryParser.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/QueryParserConstants.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/QueryParserTokenManager.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/Token.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/QueryParser/TokenMgrError.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/BooleanClause.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/BooleanQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/BooleanScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/BooleanScorer2.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/CachingWrapperFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/ConjunctionScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/ConstantScoreQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/ConstantScoreRangeQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/DefaultSimilarity.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/DisjunctionMaxQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/DisjunctionMaxScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/DisjunctionSumScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/ExactPhraseScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Explanation.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/FieldCache.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/FieldCacheImpl.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/FieldDoc.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/FieldDocSortedHitQueue.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/FieldSortedHitQueue.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Filter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/FilteredQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/FilteredTermEnum.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/FuzzyQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/FuzzyTermEnum.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Hit.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/HitCollector.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/HitIterator.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/HitQueue.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Hits.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/IndexSearcher.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/MatchAllDocsQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/MultiPhraseQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/MultiSearcher.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/MultiTermQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/NonMatchingScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/ParallelMultiSearcher.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/PhrasePositions.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/PhraseQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/PhraseQueue.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/PhraseScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/PrefixQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Query.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/QueryFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/QueryTermVector.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/RangeFilter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/RangeQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/RemoteSearchable.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/ReqExclScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/ReqOptSumScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/ScoreDoc.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/ScoreDocComparator.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Scorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Searchable.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Searcher.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Similarity.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/SimilarityDelegator.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/SloppyPhraseScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Sort.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/SortComparator.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/SortComparatorSource.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/SortField.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/NearSpans.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanFirstQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanNearQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanNotQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanOrQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanScorer.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanTermQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/SpanWeight.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Spans/Spans.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/TermQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/TermScorer.cs
   A /trunk/beagrep/beagrepd/Lucene.Net/Search/TopDocCollector.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/TopDocs.cs
   A /trunk/beagrep/beagrepd/Lucene.Net/Search/TopFieldDocCollector.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/TopFieldDocs.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/Weight.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/WildcardQuery.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Search/WildcardTermEnum.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/SharpZipLibAdapter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/BufferedIndexInput.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/BufferedIndexOutput.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/Directory.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/FSDirectory.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/IndexInput.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/IndexOutput.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/MMapDirectory.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/RAMDirectory.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/RAMFile.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/RAMInputStream.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/RAMOutputStream.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/SupportClass.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Util/BitVector.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Util/Constants.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Util/Parameter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Util/PriorityQueue.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Util/SmallFloat.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Util/StringHelper.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Util/ToStringUtils.cs
   M /trunk/beagrep/beagrepd/LuceneIndexingDriver.cs
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs
   M /trunk/beagrep/beagrepd/Makefile.am

An inital checkin of my work merging the latest release of Lucene.Net. Still needs some heavy testing, but It does compile. I will start merging the upstream java changes later this week.
------------------------------------------------------------------------
r4390 | llipka | 2008-01-14 19:04:02 -0500 (Mon, 14 Jan 2008) | 1 line
Changed paths:
   M /trunk/beagrep/ImLogViewer/ImLogWindow.cs

Fix a null ref exception when no buddy alias is set.
------------------------------------------------------------------------
r4389 | dbera | 2008-01-13 19:24:53 -0500 (Sun, 13 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Server.cs

Mark Server as running before trying to start the webinterface.

------------------------------------------------------------------------
r4388 | dbera | 2008-01-13 19:20:16 -0500 (Sun, 13 Jan 2008) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/EvolutionDataServerQueryable/SourcesHandler.cs

* Fix a potential crash if new group is added when beagrep is indexing (CalContainer constructor needs to be called in the right form).
* Temporarily disable indexing of webcal data, till the mystery behind the leak is resolved.

------------------------------------------------------------------------
r4387 | aihana | 2008-01-13 04:06:20 -0500 (Sun, 13 Jan 2008) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/ja.po

2008-01-13  Takeshi AIHANA <takeshi.aihana@gmail.com>

        * ja.po: Updated Japanese translation.

------------------------------------------------------------------------
r4386 | jorgegonz | 2008-01-12 15:39:59 -0500 (Sat, 12 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r4385 | dbera | 2008-01-12 01:29:00 -0500 (Sat, 12 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/Config.cs

Minor fixes.

------------------------------------------------------------------------
r4384 | dbera | 2008-01-11 20:37:41 -0500 (Fri, 11 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/SystemInformation.cs

Also display the collection count in the debug-memory message. Helps to read the mind of the GC.

------------------------------------------------------------------------
r4383 | dbera | 2008-01-11 20:36:21 -0500 (Fri, 11 Jan 2008) | 5 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Server.cs

Add an environment variable BEAGREP_FORCE_GC to do a forceful collection after any client exits. There are two caveats in allowing GC do the collection on its own:
- If most of the threads are blocked (as would happen if initial indexing is over), then there is no thread to run the GC.
- If there is a sudden load and GC is forced to allocate more memory, letting it run on its own will take a long time for that extra memory to be returned.
Locking horns with the GC is bad, but based on the current allocation pattern of beagrepd, BEAGREP_FORCE_GC takes a proactive approach and when a client disconnects, wait 1 min and then do a forceful GC. Based on experiments, one collect is not enough, for the time being run 5 collection at 1 min interval. If there are more clients in the interval, then push back the collection appropriately.

------------------------------------------------------------------------
r4379 | dbera | 2008-01-09 13:29:36 -0500 (Wed, 09 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterIgnore.cs
   M /trunk/beagrep/Filters/FilterMPlayerVideo.cs
   M /trunk/beagrep/Filters/FilterTotem.cs

Use FileInfo.FullName instead of Indexable.Uri in Filters, since Indexable.Uri could be internal uri. Add patch files to FilterIgnore. We will never index them.

------------------------------------------------------------------------
r4378 | dbera | 2008-01-09 11:35:40 -0500 (Wed, 09 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterAudio.cs
   M /trunk/beagrep/Filters/FilterMPlayerVideo.cs
   M /trunk/beagrep/Filters/FilterTotem.cs

Directly read the priorities from the corresponding Filters instead of hardcoding them. Reduce chances of error in the future when priorities are changed.

------------------------------------------------------------------------
r4377 | dbera | 2008-01-09 11:28:13 -0500 (Wed, 09 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterAudio.cs

AudioFilter's priority should have been increased after the priority reshuffling of MPlayerVideoFilter and TotemFilter.

------------------------------------------------------------------------
r4376 | yairhr | 2008-01-07 08:43:12 -0500 (Mon, 07 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/he.po

updated hebrew translation

------------------------------------------------------------------------
r4375 | llipka | 2008-01-07 04:48:55 -0500 (Mon, 07 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Makefile.am
   M /trunk/beagrep/search/Pages/Base.cs
   A /trunk/beagrep/search/Pages/IndexInfo.cs
   M /trunk/beagrep/search/Search.cs
   M /trunk/beagrep/search/Tiles/Documentation.cs
   M /trunk/beagrep/search/UIManager.cs

Add an index information page.

------------------------------------------------------------------------
r4369 | dbera | 2008-01-05 00:37:01 -0500 (Sat, 05 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/search/TypeFilter.cs

filetype: is now a reserved word in our query syntax.

------------------------------------------------------------------------
r4368 | dbera | 2008-01-05 00:25:43 -0500 (Sat, 05 Jan 2008) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/InternalUriManager.cs
   M /trunk/beagrep/beagrepd/LuceneCommon.cs
   M /trunk/beagrep/beagrepd/QueryStringParser.cs

A fake implementation of inuri: queries for FSQ. For inuri:/path or inuri:file:///path, find the uri of the path and add a query term parentdiruri=uri_of_path. For inuri:foo, find all directories with foo in its name, then add a boolean query for each of those directories, parentdiruri=uri_of_directory. Essentially will match all items in a directory matching the query. NOTE: the query will _not_ match items recursively, but only in the immediate directory. This implementation is fake since if new directories are added with the name foo, then live query will not return anything from the new directory. This one is a temporary workaround till FSQ is re-written.
------------------------------------------------------------------------
r4367 | dbera | 2008-01-04 23:53:11 -0500 (Fri, 04 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/KonqHistoryQueryable/KonqQueryable.cs
   M /trunk/beagrep/beagrepd/QueryStringParser.cs

Add an inuri:foo query syntax, for matching data with foo in its uri. Really depends on the backend e.g. for webhistory backends this would mean foo occurs in its URL.

------------------------------------------------------------------------
r4366 | dbera | 2008-01-04 19:50:25 -0500 (Fri, 04 Jan 2008) | 1 line
Changed paths:
   M /trunk/beagrep/BeagrepClient/QueryPart.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/IQueryable.cs
   M /trunk/beagrep/beagrepd/LuceneCommon.cs
   M /trunk/beagrep/beagrepd/LuceneQueryable.cs
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs
   M /trunk/beagrep/beagrepd/QueryDriver.cs

Revert 4363. Add a comment that AcceptQuery and DoQuery should not change existing query since we send the same query to every backend one by one. Instead, use a per-backend querypart hook to let backends change particular queryparts.
------------------------------------------------------------------------
r4365 | dbera | 2008-01-03 16:59:57 -0500 (Thu, 03 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/EvolutionDataServerQueryable/SchedulingIndexableGenerator.cs

Explicitly instruct the scheduler to not reschedule the SchedulingIndexableGenerator task. Prevents a crash when there are no more indexables left after the previous flush.

------------------------------------------------------------------------
r4364 | dbera | 2008-01-02 22:25:42 -0500 (Wed, 02 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/QueryDriver.cs

Use "-indexing-delay -1" as an option to never start the backends (i.e. act as query only).

------------------------------------------------------------------------
r4363 | dbera | 2008-01-02 22:20:37 -0500 (Wed, 02 Jan 2008) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/QueryPart.cs
   M /trunk/beagrep/beagrepd/QueryDriver.cs

Backends can change the query (the queryparts or values in the queryparts) during querying (e.g. in FSQ:AcceptQuery). So, store a copy of the original queryparts of the query and refresh the query with the copied queryparts before sending them off to the backend.

------------------------------------------------------------------------
r4362 | ymarcheg | 2007-12-31 13:55:47 -0500 (Mon, 31 Dec 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog

Updated Occitan translation
------------------------------------------------------------------------
r4361 | ymarcheg | 2007-12-31 13:47:43 -0500 (Mon, 31 Dec 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/oc.po

Updated Occitan translation
------------------------------------------------------------------------
r4360 | wadimd | 2007-12-31 11:29:52 -0500 (Mon, 31 Dec 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/po/pl.po

2007-12-31  Wadim Dziedzic  <wadimd@svn.gnome.org>

	* pl.po: Updated polish translation
------------------------------------------------------------------------
r4359 | wadimd | 2007-12-31 11:16:37 -0500 (Mon, 31 Dec 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/pl.po

2007-12-31  Wadim Dziedzic  <wadimd@svn.gnome.org>

	* pl.po: Updated polish translation
------------------------------------------------------------------------
r4358 | llipka | 2007-12-31 04:21:13 -0500 (Mon, 31 Dec 2007) | 1 line
Changed paths:
   M /trunk/beagrep/COPYING

Change Hal to Hal#
------------------------------------------------------------------------
r4357 | llipka | 2007-12-30 14:00:32 -0500 (Sun, 30 Dec 2007) | 1 line
Changed paths:
   M /trunk/beagrep/COPYING

Update COPYING file.
------------------------------------------------------------------------
r4356 | jorgegonz | 2007-12-29 19:54:26 -0500 (Sat, 29 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r4351 | dnylande | 2007-12-28 13:54:30 -0500 (Fri, 28 Dec 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/sv.po

sv.po: Swedish translation updated
------------------------------------------------------------------------
r4345 | dbera | 2007-12-27 15:59:59 -0500 (Thu, 27 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/ChangeLog
   M /trunk/beagrep/NEWS

Update NEWS and Changelog for 0.3.2 release.

------------------------------------------------------------------------
r4343 | dbera | 2007-12-27 15:04:07 -0500 (Thu, 27 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/Settings.cs

Add system-wide indexes to the backend chooser.

------------------------------------------------------------------------
r4342 | dbera | 2007-12-26 21:22:06 -0500 (Wed, 26 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/wrapper.in

Use the BEAGREP_CONF_DIR environment variable for beagrep-settings and beagrep-config.

------------------------------------------------------------------------
r4341 | dbera | 2007-12-26 21:08:13 -0500 (Wed, 26 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Config.cs
   M /trunk/beagrep/Util/PathFinder.cs
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/beagrepd.in
   M /trunk/beagrep/beagrepd/wrapper.in

Use an environment variable BEAGREP_CONF_DIR to point to the location of the global config files. This comes in handy when running beagrepd uninstalled.

------------------------------------------------------------------------
r4340 | dbera | 2007-12-26 17:11:58 -0500 (Wed, 26 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Tiles/Documentation.cs

Missed in the last commit.

------------------------------------------------------------------------
r4339 | dbera | 2007-12-26 17:02:20 -0500 (Wed, 26 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Search.cs
   M /trunk/beagrep/search/Tiles/Documentation.cs
   M /trunk/beagrep/search/beagrep-search.1
   M /trunk/beagrep/tools/Makefile.am
   A /trunk/beagrep/tools/crawl-rules/crawl-monodoc

Add a crawl-rule for monodoc files, again leave it disabled by default since beagrep-search cannot show monodoc hits (yelp probably cannot too). The docbook filter is unable to figure out the language for the docbook files, so each docbook entry is returned multiple times when searching; one for each language. This just clutters the search results, so ... "documentation" index is left disabled-by-default; however, a --search-docs option is search the documentation index. Beware! There is no way to know from the beagrep-search tiles which one is the result in the correct language. Small fixes to the documentation tile to display docbook hits.

------------------------------------------------------------------------
r4338 | dbera | 2007-12-26 16:02:12 -0500 (Wed, 26 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/configure.in

Typo.

------------------------------------------------------------------------
r4337 | dbera | 2007-12-26 15:47:34 -0500 (Wed, 26 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/EmpathyQueryable/EmpathyQueryable.cs
   D /trunk/beagrep/beagrepd/SuggestionsExecutor.cs

Cleanup: fix a typo and remove SuggestionsExecutor (it is present in the branch).

------------------------------------------------------------------------
r4336 | djihed | 2007-12-26 10:25:15 -0500 (Wed, 26 Dec 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/ar.po

Updated Arabic Translation by Khaled Hosny. 
------------------------------------------------------------------------
r4335 | dbera | 2007-12-22 22:31:10 -0500 (Sat, 22 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/Makefile.am
   M /trunk/beagrep/tools/beagrep-crawl-system.in

Missed the actual commits.

------------------------------------------------------------------------
r4334 | dbera | 2007-12-22 20:04:54 -0500 (Sat, 22 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/tools/crawl-rules/crawl-applications
   M /trunk/beagrep/tools/crawl-rules/crawl-documentation
   M /trunk/beagrep/tools/crawl-rules/crawl-manpages
   M /trunk/beagrep/tools/crawl-rules/crawl-windows

Run the crawl-scripts with --enable-deletion.

------------------------------------------------------------------------
r4333 | dbera | 2007-12-22 19:53:16 -0500 (Sat, 22 Dec 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BuildIndex.cs

The format of field values changed in the past breaking --enable-deletion; fixed that and several related problems. Now --enable-deletion works with --disable-directories by actually indexing the directories but making sure no searchable properties are indexed.
Bump build-index version since now directories are always indexed.

------------------------------------------------------------------------
r4332 | dbera | 2007-12-22 19:49:34 -0500 (Sat, 22 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/ExtractContent.cs
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs
   M /trunk/beagrep/beagrepd/NoiseFilter.cs
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/index.xsl

Revert accidental commit.

------------------------------------------------------------------------
r4331 | dbera | 2007-12-22 19:47:30 -0500 (Sat, 22 Dec 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/ExtractContent.cs
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs
   M /trunk/beagrep/beagrepd/NoiseFilter.cs
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/index.xsl

The format of field values changed in the past breaking --enable-deletion; fixed that and several related problems. Now --enable-deletion works with --disable-directories by actually indexing the directories but making sure no searchable properties are indexed.
Bump build-index version since now directories are always indexed.

------------------------------------------------------------------------
r4330 | leonardof | 2007-12-22 19:04:43 -0500 (Sat, 22 Dec 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/pt_BR.po

2007-12-22  Leonardo Ferreira Fontenelle  <leonardof@svn.gnome.org>

	* pt_BR.po: Brazilian Portuguese translation updated by Igor Pires
	Soares and myself.

------------------------------------------------------------------------
r4329 | dbera | 2007-12-22 17:51:16 -0500 (Sat, 22 Dec 2007) | 2 lines
Changed paths:
   A /trunk/beagrep/tools/crawl-rules/crawl-manpages

Add a crawl rule for indexing man pages. Keep it disabled by default (also, yelp is broken wrt beagrep right now).

------------------------------------------------------------------------
r4328 | dbera | 2007-12-22 17:39:55 -0500 (Sat, 22 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FileAttributesStore.cs

Fix a logic bug in FAStore:IsUpToDateAndFiltered: the idea behind the filterver.dat is useful but the IsUpToDateAndFiltered method was not distinguishing between a new file and a file not filtered before. Note that, a file that was not filtered before will have an attribute but the attribute will not have any filtername or filterversion.

------------------------------------------------------------------------
r4327 | dbera | 2007-12-22 15:15:58 -0500 (Sat, 22 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterMan.cs

Some more fixes for man filter.

------------------------------------------------------------------------
r4326 | dbera | 2007-12-22 15:07:23 -0500 (Sat, 22 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BuildIndex.cs

Remove debug message.

------------------------------------------------------------------------
r4325 | dbera | 2007-12-22 14:40:49 -0500 (Sat, 22 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterMan.cs

Report unsupported macros instead of ignoring them and adding support for ".UR" which seems to be a macro for URLs.

------------------------------------------------------------------------
r4324 | dbera | 2007-12-22 14:34:39 -0500 (Sat, 22 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/AssemblyInfo.cs
   M /trunk/beagrep/Filters/FilterMan.cs

Remote FilterCompressedMan and merge the functionality to FilterMan. Handle bz2 compressed man pages (Mandriva uses lzma compressed man pages which SharpZiplib does not support). Improve the quality of extracted text including handling of known macros and extracting summary, author info.

------------------------------------------------------------------------
r4323 | dbera | 2007-12-21 14:39:05 -0500 (Fri, 21 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/po/POTFILES.in

Bump version to 0.3.2 and add Documentation.cs to potfiles.

------------------------------------------------------------------------
r4322 | dbera | 2007-12-21 14:30:24 -0500 (Fri, 21 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/AssemblyInfo.cs
   M /trunk/beagrep/Filters/FilterMan.cs
   M /trunk/beagrep/beagrepd/ExtractContent.cs

Directly index the compressed man files instead of treating them like an archive and using a child-indexable. This makes the filter twice as fast and as a bonus, returns only one hit per compressed man file. Use filetype:documentation to recognize these hits.

------------------------------------------------------------------------
r4321 | dbera | 2007-12-20 18:33:12 -0500 (Thu, 20 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/EmpathyQueryable/EmpathyQueryable.cs

Free crawler once crawling is done and inotify is enabled.

------------------------------------------------------------------------
r4320 | dbera | 2007-12-20 17:53:25 -0500 (Thu, 20 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/hitresult.xsl
   M /trunk/beagrep/beagrepd/webinterface/propname-table.js

Show filesize information in the webinterface.

------------------------------------------------------------------------
r4319 | dbera | 2007-12-20 17:53:03 -0500 (Thu, 20 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs

Filesize is now stored for files, up FSQ version number.

------------------------------------------------------------------------
r4318 | dbera | 2007-12-20 17:10:11 -0500 (Thu, 20 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js

Fix the timestamp-to-pretty-string method. The earlier methods were not quite right. Show the time too if the timestamp is in the current week.

------------------------------------------------------------------------
r4317 | dbera | 2007-12-20 15:55:38 -0500 (Thu, 20 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js

Simple implementation to bookmark current query in the webinterface.

------------------------------------------------------------------------
r4316 | dbera | 2007-12-20 15:26:17 -0500 (Thu, 20 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/Settings.cs

Fix compilation on mono 1.2.6. Fixes #503639.

------------------------------------------------------------------------
r4315 | llipka | 2007-12-19 17:18:42 -0500 (Wed, 19 Dec 2007) | 1 line
Changed paths:
   M /trunk/beagrep/Filters/FilterMan.cs

Bera's optimizing tips. :)
------------------------------------------------------------------------
r4314 | llipka | 2007-12-19 16:36:30 -0500 (Wed, 19 Dec 2007) | 1 line
Changed paths:
   M /trunk/beagrep/Filters/FilterMan.cs
   M /trunk/beagrep/Filters/FilterMonodoc.cs
   M /trunk/beagrep/search/Makefile.am
   M /trunk/beagrep/search/Tiles/ArchivedFile.cs
   M /trunk/beagrep/search/Tiles/AssemblyInfo.cs
   D /trunk/beagrep/search/Tiles/DocbookEntry.cs
   A /trunk/beagrep/search/Tiles/Documentation.cs (from /trunk/beagrep/search/Tiles/DocbookEntry.cs:4292)
   M /trunk/beagrep/search/Tiles/File.cs

Update our documentation filters and up the versions.
------------------------------------------------------------------------
r4313 | llipka | 2007-12-19 11:41:24 -0500 (Wed, 19 Dec 2007) | 1 line
Changed paths:
   M /trunk/beagrep/BeagrepClient/AssemblyInfo.cs
   M /trunk/beagrep/BeagrepClient/Makefile.am
   M /trunk/beagrep/BeagrepClient/QueryResponses.cs
   D /trunk/beagrep/BeagrepClient/SuggestionsRequest.cs
   D /trunk/beagrep/BeagrepClient/SuggestionsResponse.cs
   M /trunk/beagrep/beagrepd/AssemblyInfo.cs
   M /trunk/beagrep/beagrepd/IQueryResult.cs
   M /trunk/beagrep/beagrepd/LuceneQueryable.cs
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/QueryDriver.cs
   M /trunk/beagrep/beagrepd/SuggestionsExecutor.cs
   M /trunk/beagrep/search/Pages/NoMatch.cs
   M /trunk/beagrep/search/Search.cs

Revert suggestions commits since they are now moved into the beagrep-suggestions-branch. 0.3.2 release coming, yay. :-)
------------------------------------------------------------------------
r4311 | dbera | 2007-12-18 19:10:03 -0500 (Tue, 18 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/NautilusTools.cs
   M /trunk/beagrep/beagrepd/NautilusMetadataQueryable/NautilusMetadataQueryable.cs

Nautilus backend: only index *.xml files and catch error early if XmlReader fails to load the xml file.

------------------------------------------------------------------------
r4310 | llipka | 2007-12-18 15:36:02 -0500 (Tue, 18 Dec 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs
   M /trunk/beagrep/beagrepd/SuggestionsExecutor.cs

Suggestions: Dont forget to release the index reader and other small updates.
------------------------------------------------------------------------
r4307 | dbera | 2007-12-17 23:24:59 -0500 (Mon, 17 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am

Forgot to add this image to DIST_FILES.

------------------------------------------------------------------------
r4306 | dbera | 2007-12-17 23:24:15 -0500 (Mon, 17 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Config.cs
   M /trunk/beagrep/tools/Config.cs

Add --write-xml and --read-xml methods to beagrep-config (and corresponding Util.Conf API) to enable non-C# programs to read and write config options. Adding config API in libbeagrep would require writing the whole load/merge/save logic in libbeagrep itself ... which is pretty painful; instead these two options will do the job in most cases.

------------------------------------------------------------------------
r4298 | dbera | 2007-12-16 12:19:33 -0500 (Sun, 16 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/DumpIndex.cs
   M /trunk/beagrep/beagrepd/beagrep-dump-index.1

Add --fields option to beagrep-dump-index to dump the names of all fields in the index.

------------------------------------------------------------------------
r4295 | jorgegonz | 2007-12-16 07:30:33 -0500 (Sun, 16 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r4293 | llipka | 2007-12-15 19:32:55 -0500 (Sat, 15 Dec 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/AssemblyInfo.cs
   M /trunk/beagrep/BeagrepClient/Makefile.am
   M /trunk/beagrep/BeagrepClient/QueryResponses.cs
   A /trunk/beagrep/BeagrepClient/SuggestionsRequest.cs
   A /trunk/beagrep/BeagrepClient/SuggestionsResponse.cs
   M /trunk/beagrep/beagrepd/AssemblyInfo.cs
   M /trunk/beagrep/beagrepd/IQueryResult.cs
   M /trunk/beagrep/beagrepd/LuceneQueryable.cs
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/QueryDriver.cs
   A /trunk/beagrep/beagrepd/SuggestionsExecutor.cs
   M /trunk/beagrep/search/Pages/NoMatch.cs
   M /trunk/beagrep/search/Search.cs

Implement suggestions in an unobtrusive way using FuzzyTermEnum. Suggestions are only generated upon request.
Add a first pass of this in beagrep-search.

------------------------------------------------------------------------
r4292 | dbera | 2007-12-15 13:26:51 -0500 (Sat, 15 Dec 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterMonodoc.cs
   M /trunk/beagrep/beagrepd/ExtractContent.cs

Fix monodoc filter. The actual problem was the lack of "StoreStream,CloseStream" but I also replaced the one-time generation of child-indexables with our generator based child-indexable extraction. This allows us to index Mono.zip without any memory blowup.
ExtractContent.cs: Make use of HasGeneratedIndexable since it is part of the API and some filter might be making innovative use of it.

------------------------------------------------------------------------
r4291 | dbera | 2007-12-15 13:23:45 -0500 (Sat, 15 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs
   M /trunk/beagrep/beagrepd/ManageIndex.cs

"beagrep-manage-index info" does not require to open the index read-write. Instead create a read only queryingdriver.

------------------------------------------------------------------------
r4290 | dbera | 2007-12-15 10:57:36 -0500 (Sat, 15 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/index.xsl

Add links for bookmarks and advanced search gui. Doin nothing yet.

------------------------------------------------------------------------
r4289 | dbera | 2007-12-14 19:32:19 -0500 (Fri, 14 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/StringFu.cs
   M /trunk/beagrep/search/DetailsPane.cs
   M /trunk/beagrep/search/beagrep-search.in

Show the full snippet in a tooltip. Fix the beagrep-search script to use the uninstalled Util.dll.

------------------------------------------------------------------------
r4288 | dbera | 2007-12-14 18:01:55 -0500 (Fri, 14 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterArchive.cs
   M /trunk/beagrep/Filters/FilterMail.cs
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/webinterface/propname-table.js

Store filesize for files on disk, email attachments and archive contents. Add a suitable property name mapping.

------------------------------------------------------------------------
r4287 | dbera | 2007-12-14 17:57:58 -0500 (Fri, 14 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/WebServer.cs

Add the system-search.png to the mapping.

------------------------------------------------------------------------
r4286 | kkubasik | 2007-12-14 03:26:40 -0500 (Fri, 14 Dec 2007) | 1 line
Changed paths:
   M /trunk/beagrep/Filters/AssemblyInfo.cs
   A /trunk/beagrep/Filters/FilterEmpathyLog.cs
   M /trunk/beagrep/Filters/Makefile.am
   M /trunk/beagrep/beagrepd/AssemblyInfo.cs
   A /trunk/beagrep/beagrepd/EmpathyQueryable
   A /trunk/beagrep/beagrepd/EmpathyQueryable/EmpathyCrawler.cs
   A /trunk/beagrep/beagrepd/EmpathyQueryable/EmpathyQueryable.cs
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/search/Tiles/IMLog.cs

Initial Empathy Backend, still needs frontend support
------------------------------------------------------------------------
r4285 | dbera | 2007-12-14 00:18:01 -0500 (Fri, 14 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BatteryMonitor.cs
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/IndexHelper/IndexHelper.cs

IndexHelper does not yet monitor battery. Catch DBus Init exception (if DBUS_SESSION_BUS_ADDRESS is unset or some other error); also move DBus init to BatteryMonitor (when transport is moved to DBus, it will probably move to global Init again).

------------------------------------------------------------------------
r4279 | dbera | 2007-12-12 14:35:15 -0500 (Wed, 12 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/beagrepd/Makefile.am

Some Avahi specific files were missing from the tarball.

------------------------------------------------------------------------
r4278 | dbera | 2007-12-12 09:20:16 -0500 (Wed, 12 Dec 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/IndexHelper/IndexHelper.cs

Fix compilation for glib svn (which now has GLib.Process). Patch from Anders Rune Jensen
<anders@iola.dk>.

------------------------------------------------------------------------
r4277 | dbera | 2007-12-12 00:20:12 -0500 (Wed, 12 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/hitresult.xsl

Replace the silly "Search" text in front of every property by the same system-search.png used in the query box.

------------------------------------------------------------------------
r4276 | dbera | 2007-12-11 23:56:58 -0500 (Tue, 11 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.css
   A /trunk/beagrep/beagrepd/webinterface/images/system-search.png
   M /trunk/beagrep/beagrepd/webinterface/index.xsl

Add a nice icon at the far left of the search box. Use a resized version of our images/system-search.png.

------------------------------------------------------------------------
r4275 | dbera | 2007-12-11 17:30:51 -0500 (Tue, 11 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileNameFilter.cs

Fix a copy-paste bug *sigh*, drop last '/' from directory names and sanitise the code a bit.

------------------------------------------------------------------------
r4274 | dnylande | 2007-12-11 09:57:37 -0500 (Tue, 11 Dec 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/sv.po

sv.po: Swedish translation updated
------------------------------------------------------------------------
r4273 | llipka | 2007-12-11 00:31:22 -0500 (Tue, 11 Dec 2007) | 1 line
Changed paths:
   A /trunk/beagrep/Util/Battery.cs (from /branches/beagrep-hal-branch/Util/Battery.cs:4272)
   A /trunk/beagrep/Util/Hal (from /branches/beagrep-hal-branch/Util/Hal:4272)
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/Util/Scheduler.cs
   M /trunk/beagrep/Util/SystemInformation.cs
   A /trunk/beagrep/beagrepd/BatteryMonitor.cs (from /branches/beagrep-hal-branch/beagrepd/BatteryMonitor.cs:4272)
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/IndexHelper/IndexHelper.cs
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/configure.in

Merge beagrep-hal-branch to trunk.
------------------------------------------------------------------------
r4270 | dbera | 2007-12-10 15:36:31 -0500 (Mon, 10 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/ChangeLog

Update changelog for 0.3.1

------------------------------------------------------------------------
r4269 | dbera | 2007-12-10 15:32:12 -0500 (Mon, 10 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/NEWS

Update NEWS for 0.3.1

------------------------------------------------------------------------
r4268 | dbera | 2007-12-10 13:18:47 -0500 (Mon, 10 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/configure.in

Bump version to 0.3.1

------------------------------------------------------------------------
r4267 | dbera | 2007-12-10 13:16:05 -0500 (Mon, 10 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/beagrep-index-info
   M /trunk/beagrep/tools/beagrep-ping
   M /trunk/beagrep/tools/beagrep-status

Use bash instead of /bin/sh. Our other scripts are bash based and bash has the exec -a property which is useful.

------------------------------------------------------------------------
r4266 | dbera | 2007-12-09 12:10:55 -0500 (Sun, 09 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BuildIndex.cs

--enable-deletion requires the directories be indexed. Mention it clearly in the usage text. Also, --enable-deletion once used, should be always used - if it is skipped in some run when there were some deleted content, in subsequent re-runs those content will not be found and deleted. Both of these are bad limitations and IMO, should be removed.

------------------------------------------------------------------------
r4265 | dbera | 2007-12-09 00:05:25 -0500 (Sun, 09 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/configure.in

Bump mono requirement to 1.2.4 since now we require Mono.Data.Sqlite.

------------------------------------------------------------------------
r4264 | dbera | 2007-12-08 23:48:22 -0500 (Sat, 08 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterMPlayerVideo.cs
   M /trunk/beagrep/Filters/FilterTotem.cs
   M /trunk/beagrep/Filters/FilterVideo.cs

Use positive priorities instead of negative priorities. Temporarily disable the new taglib-sharp based video filter for 0.3.1 (also the right properties need to be figured out for video files).

------------------------------------------------------------------------
r4263 | dbera | 2007-12-08 23:43:24 -0500 (Sat, 08 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/TomboyQueryable/TomboyQueryable.cs
   M /trunk/beagrep/search/Tiles/Note.cs

Tagging is not present in the current tomboy versions and future versions might have a totally different implementation. Mark the code by a fixme. Change fixme:tab by note:tag and store the (fictitous) tag as Text property instead of keyword.

------------------------------------------------------------------------
r4262 | dbera | 2007-12-06 09:03:17 -0500 (Thu, 06 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterMail.cs

A workaround for the problem described in #501803. Store the HTML message in a memorystream and allow HTML filter to random access it for filtering. A better patch would be remove the memory stream hack (patch attached to #501803).

------------------------------------------------------------------------
r4261 | jorgegonz | 2007-12-06 07:52:37 -0500 (Thu, 06 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated spanish translation

------------------------------------------------------------------------
r4258 | llipka | 2007-12-04 18:03:26 -0500 (Tue, 04 Dec 2007) | 8 lines
Changed paths:
   M /trunk/beagrep/Filters/AssemblyInfo.cs
   A /trunk/beagrep/Filters/FilterAudio.cs (from /trunk/beagrep/Filters/FilterMusic.cs:4250)
   M /trunk/beagrep/Filters/FilterMPlayerVideo.cs
   D /trunk/beagrep/Filters/FilterMusic.cs
   M /trunk/beagrep/Filters/FilterTotem.cs
   A /trunk/beagrep/Filters/FilterVideo.cs
   M /trunk/beagrep/Filters/Makefile.am
   M /trunk/beagrep/search/DetailsPane.cs
   M /trunk/beagrep/search/Tiles/Note.cs
   M /trunk/beagrep/search/Tiles/Video.cs

Use taglib-sharp to filter video files. Otherwise use Totem/MPlayer filters.

Taglib seems to work for most of the video files I have so it should be possible
to just drop the Totem/MPlayer filters in the future.

Update video tiles layout in beagrep-search.


------------------------------------------------------------------------
r4257 | kkubasik | 2007-12-04 13:32:54 -0500 (Tue, 04 Dec 2007) | 1 line
Changed paths:
   D /trunk/beagrep/Packages.mdse
   D /trunk/beagrep/beagrep.userprefs
   D /trunk/beagrep/beagrep.usertasks

cleanup accidental files
------------------------------------------------------------------------
r4256 | kkubasik | 2007-12-04 08:55:09 -0500 (Tue, 04 Dec 2007) | 1 line
Changed paths:
   A /trunk/beagrep/Packages.mdse
   A /trunk/beagrep/beagrep.userprefs
   A /trunk/beagrep/beagrep.usertasks
   M /trunk/beagrep/search/Tiles/Note.cs

formatting fix
------------------------------------------------------------------------
r4255 | kkubasik | 2007-12-04 05:48:00 -0500 (Tue, 04 Dec 2007) | 1 line
Changed paths:
   M /trunk/beagrep/Util/Note.cs
   M /trunk/beagrep/beagrepd/TomboyQueryable/TomboyQueryable.cs
   M /trunk/beagrep/search/Tiles/Note.cs

Adding support for the indexing and display of Tomboy tags
------------------------------------------------------------------------
r4253 | dbera | 2007-12-03 23:43:51 -0500 (Mon, 03 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/README

Fix link in README.

------------------------------------------------------------------------
r4252 | dbera | 2007-12-03 23:16:49 -0500 (Mon, 03 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Config.cs

Use Environment.MachineName instead of UnixEnvironment.MachineName. Fixes https://bugzilla.novell.com/show_bug.cgi?id=MONO82460 (crash when hostname is 16 chars or longer).

------------------------------------------------------------------------
r4251 | dbera | 2007-12-03 22:51:09 -0500 (Mon, 03 Dec 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/TextCache.cs

TextCache database format was changed in 0.3.0 but the textcache was not purged. This will cause problems for 0.2.18 users who used sqlite3 earlier. There is really a need for a version in TextCache.

------------------------------------------------------------------------
r4250 | jmas | 2007-12-03 03:55:13 -0500 (Mon, 03 Dec 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/ca.po

2007-12-03  Jordi Mas <jmas@softcatala.org>

	* ca.po: Updated Catalan translation.


------------------------------------------------------------------------
r4249 | llipka | 2007-12-02 07:30:15 -0500 (Sun, 02 Dec 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/ImLogViewer/ImLogWindow.cs
   M /trunk/beagrep/ImLogViewer/Makefile.am
   M /trunk/beagrep/Makefile.am
   M /trunk/beagrep/configure.in
   D /trunk/beagrep/images
   M /trunk/beagrep/search/Makefile.am
   M /trunk/beagrep/search/Pages/Base.cs
   M /trunk/beagrep/search/Pages/NoMatch.cs
   M /trunk/beagrep/search/Pages/QuickTips.cs
   M /trunk/beagrep/search/Search.cs
   M /trunk/beagrep/search/Tiles/Image.cs
   M /trunk/beagrep/search/Tiles/Note.cs
   M /trunk/beagrep/search/Tray/TrayIcon.cs
   M /trunk/beagrep/search/UIManager.cs
   M /trunk/beagrep/tools/Makefile.am
   M /trunk/beagrep/tools/Settings.cs

Fix #398533 – Beagrep-Search Tango icons.

Drop our Images.dll assembly and load all icons from the icon theme and stock icons.

------------------------------------------------------------------------
r4248 | llipka | 2007-12-02 06:20:01 -0500 (Sun, 02 Dec 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/tools/Settings.cs
   M /trunk/beagrep/tools/settings.glade

Fix #469298 – beagrep-settings grows super wide on long directories.
Also hide the Avahi service settings if avahi was not enabled at configure time.

------------------------------------------------------------------------
r4238 | joeshaw | 2007-12-01 18:48:07 -0500 (Sat, 01 Dec 2007) | 1 line
Changed paths:
   M /trunk/beagrep/ChangeLog

Updated ChangeLog for 0.3.0 release
------------------------------------------------------------------------
r4237 | joeshaw | 2007-12-01 18:46:03 -0500 (Sat, 01 Dec 2007) | 1 line
Changed paths:
   M /trunk/beagrep/NEWS

Update NEWS for 0.3.0 release
------------------------------------------------------------------------
r4236 | joeshaw | 2007-12-01 13:11:56 -0500 (Sat, 01 Dec 2007) | 1 line
Changed paths:
   M /trunk/beagrep/ChangeLog

Remove manual changes to the ChangeLog
------------------------------------------------------------------------
r4234 | stephaner | 2007-12-01 00:02:51 -0500 (Sat, 01 Dec 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/fr.po

Updated French translation.
------------------------------------------------------------------------
r4232 | llipka | 2007-11-24 11:41:55 -0500 (Sat, 24 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/webinterface

Sanitize beagrep-build-index.
------------------------------------------------------------------------
r4230 | jorgegonz | 2007-11-21 14:53:46 -0500 (Wed, 21 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r4229 | ymarcheg | 2007-11-21 12:18:45 -0500 (Wed, 21 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/oc.po

Updated Occitan translation
------------------------------------------------------------------------
r4227 | dbera | 2007-11-20 19:53:16 -0500 (Tue, 20 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileNameFilter.cs

Typo - due to this the exclude patterns were not correctly loaded when settings changes on disk.

------------------------------------------------------------------------
r4226 | dbera | 2007-11-20 19:21:53 -0500 (Tue, 20 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileNameFilter.cs
   M /trunk/beagrep/tools/config-files/FilesQueryable.xml

Always ignore dot-directories and files - never mind what is in the config.

------------------------------------------------------------------------
r4225 | dbera | 2007-11-20 17:27:21 -0500 (Tue, 20 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Config.cs
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/BuildIndex.cs

beagrepd and beagrep-build-index will refuse to start if the required global configuration files are not found. It should not be a problem if beagrep is properly installed; if running uninstalled, run make install at least once or hand copy the config files.

------------------------------------------------------------------------
r4224 | dbera | 2007-11-20 17:05:51 -0500 (Tue, 20 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/StringFu.cs

If no patterns are there, dont generate any ignore regex since an regex built from an empty string matches everything.

------------------------------------------------------------------------
r4223 | ymarcheg | 2007-11-20 16:37:57 -0500 (Tue, 20 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/oc.po

Updated Occitan translation
------------------------------------------------------------------------
r4222 | dbera | 2007-11-20 16:27:02 -0500 (Tue, 20 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/EvolutionMailQueryable/EvolutionSummaryTracker.cs
   M /trunk/beagrep/beagrepd/TextCache.cs

Second half of r3354. Sqlite2 did not have these string/int types ... sqlite3 is little better with a type affinity per column but the type affinity for strings is _not_ STRING but TEXT.

------------------------------------------------------------------------
r4220 | nirbheekc | 2007-11-18 12:05:48 -0500 (Sun, 18 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/tools/Settings.cs

Fix typo in backend description for Liferea.
------------------------------------------------------------------------
r4219 | dbera | 2007-11-18 11:30:18 -0500 (Sun, 18 Nov 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/tools/Settings.cs
   M /trunk/beagrep/tools/config-files/Daemon.xml
   M /trunk/beagrep/tools/settings.glade

Disable NetworkServices backend by default.
Mark the related options in beagrep-settings as EXPERIMENTAL.

------------------------------------------------------------------------
r4217 | dbera | 2007-11-17 19:06:12 -0500 (Sat, 17 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/UnixTransport.cs
   M /trunk/beagrep/Util/ExceptionHandlingThread.cs
   M /trunk/beagrep/Util/StringFu.cs
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/Server.cs
   M /trunk/beagrep/beagrepd/WebServer.cs
   M /trunk/beagrep/beagrepd/webinterface/default.js

The very important step of removing some debug messages.

------------------------------------------------------------------------
r4216 | dbera | 2007-11-17 15:31:27 -0500 (Sat, 17 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/statusresult.xsl

Typo in name of div. Print the progress percent if it is not -1. Use a better text for is-indexing.

------------------------------------------------------------------------
r4215 | dbera | 2007-11-17 14:58:58 -0500 (Sat, 17 Nov 2007) | 9 lines
Changed paths:
   M /trunk/beagrep/beagrepd/NetworkServicesQueryable/NetworkServicesQueryable.cs
   M /trunk/beagrep/beagrepd/QueryResult.cs

Add support for network query ... this time for real. Fill in a minimal working NetworkServicesQueryable:DoQuery() that takes the query, fires it off to the remote beagrepd, waits till it obtains FinishedResponse() and keeps sending the results as it gets them. This still needs a lot of work and testing, because
- I have experienced occassional deadlocks (rare and for reasons beyond my understanding - the main problem being QueryResult should be filled in only from the Queryable.DoQuery() thread).
- Even rarer, no results from local beagrepd (remote beagrepd sends them alright - but somehow local beagrepd sends FinishedResponse before HitsAddedResponse)
- No live-query (No support of live-query in the Http handler)
- No snippets (the hits from the networksvc have hit.Source='Files' etc. so they get sent to FilesQueryable for GetSnippet; the mechanism needs to change).
- Don't know what happens when remote beagrepd shuts down in the middle ? Local one crashes / works but leaks / goes to the beach for surfin' ?

All of the above should scare you and make you think twice about using it ... but its actually usable (and if the remote and local machines have same mounted directory structures, then actually useful).

------------------------------------------------------------------------
r4214 | dbera | 2007-11-16 16:54:16 -0500 (Fri, 16 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/OperaHistory.cs

Opera integers are stored in big-endian format.

------------------------------------------------------------------------
r4213 | dbera | 2007-11-16 12:53:17 -0500 (Fri, 16 Nov 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/Util/Config.cs
   M /trunk/beagrep/tools/Settings.cs

Fix a bad oversight in config where lists with 0 items would be saved to disk.
A bunch of #if hacks to make the networking page of beagrep-settings work. I dont really know what I am doing here - but I tried all possible cases and now the options requiring avahi seem to be enabled only with --enable-avahi and the others are enabled always. You dont need avahi for network beagrep. Avahi is only for browsing/finding other beagrep nodes in the network.

------------------------------------------------------------------------
r4212 | dbera | 2007-11-16 09:51:40 -0500 (Fri, 16 Nov 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/Util/OperaHistory.cs
   M /trunk/beagrep/beagrepd/OperaQueryable/OperaIndexableGenerator.cs
   M /trunk/beagrep/beagrepd/Server.cs

* Revert 4211, 4210 and rework the logic to properly close the opera history file.
* Move ConnectionHandler to its own scope to help GC in freeing it up while the server is waiting for the next socket connection.

------------------------------------------------------------------------
r4211 | kkubasik | 2007-11-16 09:19:12 -0500 (Fri, 16 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/OperaQueryable/OperaIndexableGenerator.cs

oops, fix possible null
------------------------------------------------------------------------
r4210 | kkubasik | 2007-11-16 08:47:21 -0500 (Fri, 16 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/ChangeLog
   M /trunk/beagrep/beagrepd/OperaQueryable/OperaIndexableGenerator.cs

Fix a leak in the Opera backend where contents of a file were being perminetly held in memory. 
------------------------------------------------------------------------
r4209 | dbera | 2007-11-15 23:14:45 -0500 (Thu, 15 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Server.cs

Unused HttpItemHandler-s were leaking. Fix that. Also, there was an fd leak in an unused part of the code, fix that too.

------------------------------------------------------------------------
r4208 | dbera | 2007-11-15 20:56:45 -0500 (Thu, 15 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/hitresult.xsl

Expand the first 5 (!) hits in each category and collapse the rest. This was easier than deciding the right UI to show expand-all/collapse-all.

------------------------------------------------------------------------
r4207 | dnylande | 2007-11-15 05:15:48 -0500 (Thu, 15 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/sv.po

sv.po: Updated Swedish translation
------------------------------------------------------------------------
r4206 | dbera | 2007-11-15 01:37:26 -0500 (Thu, 15 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/WebServer.cs

Goes with the earlier commit.

------------------------------------------------------------------------
r4205 | dbera | 2007-11-15 01:25:31 -0500 (Thu, 15 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js

Remember to unescape() the query string before using it.

------------------------------------------------------------------------
r4204 | dbera | 2007-11-15 01:15:41 -0500 (Thu, 15 Nov 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/index.xsl
   M /trunk/beagrep/beagrepd/webinterface/propname-table.js

Add beagrep:ParentDirUri to humanized property name.
Allow directly opening http://localhost:4000/?search=query+terms+to+search to open the webapp and begin a search. Now it will be easy to write a Firefox search-plugin and search using the webinterface from other applications.

------------------------------------------------------------------------
r4203 | dbera | 2007-11-14 23:28:13 -0500 (Wed, 14 Nov 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/propname-table.js

Limit a maximum of 30 results per backend. Scrolling is cumbersome.
Use DocumentFragments to store generated hits in memory and then add them to the document in one go - this is supposed to speed things up (it does).
Add another property name to humanized property name list.

------------------------------------------------------------------------
r4202 | dbera | 2007-11-14 22:43:39 -0500 (Wed, 14 Nov 2007) | 7 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/hitresult.xsl

Rename query_processor to status_processor.
Show full text for emails.
Prettyprint snippets.
Show the category headers in a more prominent way.
Several UI touches.
Move the snippet parsing logic to xslt - its much faster this way.

------------------------------------------------------------------------
r4201 | dbera | 2007-11-14 19:54:52 -0500 (Wed, 14 Nov 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/Util/OperaHistory.cs
   M /trunk/beagrep/beagrepd/OperaQueryable/OperaIndexableGenerator.cs

Use last_visited instead of last_save_time to store the timestamp of an opera webhist item. Dont index name, extension of the actual cache file; its dumb.
Store the host as 'text' and not keyword; that way its searchable.
Send the charset as a hint to the filter.
Dont store if the cache file was stored compressed or not - its a property of the cache file and not the actual webhist item itself.

------------------------------------------------------------------------
r4200 | dbera | 2007-11-14 11:14:03 -0500 (Wed, 14 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/hitresult.xsl

Show snippets. Enjoy.

------------------------------------------------------------------------
r4199 | dbera | 2007-11-13 21:02:09 -0500 (Tue, 13 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/help.html
   M /trunk/beagrep/beagrepd/webinterface/index.xsl

I never liked the names of the authors in the footer. Nuke'em. Add a footer to help.html and lighten the text colour of the version info.

------------------------------------------------------------------------
r4198 | dbera | 2007-11-13 20:50:43 -0500 (Tue, 13 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/propname-table.js

Add some more humanized property names. Dont underline the "search" string shown when the properties are hovered.

------------------------------------------------------------------------
r4197 | dbera | 2007-11-13 20:49:48 -0500 (Tue, 13 Nov 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js

Massacre of elegance in favour of performance. On my sloooooow computer, I saved at least 1.5 seconds on a search with > 100 results. Rewrite the classify_hit to be in pure javascript; pure XSLT is fast, pure JS is slow but using XML in JS is even slower. The logic is based on mappings.xml and ideally the categorization functions should be generated from a rule base like mappings.xml.
Also, while finding the humanized names for properties, take into account "parent:foo" properties.
Categorize attachments as emails.

------------------------------------------------------------------------
r4196 | dbera | 2007-11-13 19:45:09 -0500 (Tue, 13 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/hitresult.xsl

Users are now given the option to search for any of the displayed properties.

------------------------------------------------------------------------
r4195 | dbera | 2007-11-13 19:36:35 -0500 (Tue, 13 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/WebServer.cs
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/hitresult.xsl
   M /trunk/beagrep/beagrepd/webinterface/index.xsl
   A /trunk/beagrep/beagrepd/webinterface/propname-table.js

Replace the ugly property names by better ones. The mapping is not complete but covers (almost) all the properties in Filters/.

------------------------------------------------------------------------
r4194 | dbera | 2007-11-13 16:10:27 -0500 (Tue, 13 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js

Move relevant functions closer and some other cleanup.

------------------------------------------------------------------------
r4193 | jorgegonz | 2007-11-13 14:22:46 -0500 (Tue, 13 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r4192 | nirbheekc | 2007-11-13 10:26:08 -0500 (Tue, 13 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am

Forgot Makefile entry for the favicon.
------------------------------------------------------------------------
r4191 | dbera | 2007-11-13 00:24:59 -0500 (Tue, 13 Nov 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/default.js

Remove MimeTypes, HitTypes and Sources values from the query xml message (no longer part of Query).
float:{left,right,none} are the valid values - none is same as specifying nothing and seems to break nothing.

------------------------------------------------------------------------
r4190 | dbera | 2007-11-12 12:57:08 -0500 (Mon, 12 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/KMailQueryable/KMailIndexableGenerator.cs

Correctly set progress-percent when all emails are uptodate.

------------------------------------------------------------------------
r4189 | dbera | 2007-11-12 12:46:21 -0500 (Mon, 12 Nov 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/KMailQueryable/KMailIndexableGenerator.cs
   M /trunk/beagrep/beagrepd/KMailQueryable/KMailIndexer.cs
   M /trunk/beagrep/beagrepd/KMailQueryable/KMailQueryable.cs

* Report progress percent for KMail backend. Crude but better than nothing.
* Periodically check for shutdownrequested flag during initial crawling, which may not return for a long time if all mails are uptodate.

------------------------------------------------------------------------
r4188 | dbera | 2007-11-12 12:44:24 -0500 (Mon, 12 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Scheduler.cs
   M /trunk/beagrep/beagrepd/LuceneQueryable.cs

Show IndexableGenerator.StatusName in task status. This way long running indexable-generators can show progress information.

------------------------------------------------------------------------
r4187 | dbera | 2007-11-12 12:35:37 -0500 (Mon, 12 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/ExceptionHandlingThread.cs
   M /trunk/beagrep/beagrepd/Shutdown.cs

Found another of those sneaky deadlocks in index-helper. IndexHelper allows two calls to BeginShutdown (from SignalHandler and DaemonMonitorWorker) which would result in a deadlock. Use a mutex protected global variable to handle that.

------------------------------------------------------------------------
r4184 | nirbheekc | 2007-11-12 00:43:04 -0500 (Mon, 12 Nov 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/statusresult.xsl

- Change id and class names to use "-" instead of "_", keep the naming scheme consistent with other files.
- Don't show the indexing percent since it is not supported by any of the backends
- Show a different message if the Backend's no. of items is -1

------------------------------------------------------------------------
r4183 | nirbheekc | 2007-11-12 00:34:04 -0500 (Mon, 12 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/WebServer.cs

- Makefile.am: Install help.html
- WebServer.cs: Fix mime type for help.html, it doesn't display otherwise
------------------------------------------------------------------------
r4181 | dbera | 2007-11-11 07:49:45 -0500 (Sun, 11 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/help.html
   M /trunk/beagrep/beagrepd/webinterface/index.xsl

Show the link for opening-local-files in quick tip. Add a little explanation and link to the mozillazine page to the opening-local-files help section.

------------------------------------------------------------------------
r4179 | dbera | 2007-11-10 12:11:15 -0500 (Sat, 10 Nov 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/WebServer.cs

Be a little more verbose about the root for webinterface files.
Also need to distribute index.xml.in.

------------------------------------------------------------------------
r4177 | nirbheekc | 2007-11-10 11:28:49 -0500 (Sat, 10 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/index.xsl

Show the category name on top of the corresponding category div, now you can know which category each hit belongs to ;)
------------------------------------------------------------------------
r4176 | nirbheekc | 2007-11-10 10:28:51 -0500 (Sat, 10 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/default.js

Remove 'Last Edited' from timestamp; there is no such thing as float: center, its float: both
------------------------------------------------------------------------
r4175 | nirbheekc | 2007-11-10 09:23:16 -0500 (Sat, 10 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.css

Make the hit results single-columned until we can fix the ugly bugs related to double-column view
------------------------------------------------------------------------
r4174 | nirbheekc | 2007-11-10 09:20:25 -0500 (Sat, 10 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/hitresult.xsl
   M /trunk/beagrep/beagrepd/webinterface/index.xsl
   M /trunk/beagrep/beagrepd/webinterface/statusresult.xsl

Little fixes that have been waiting in line; whitespace, markup, commenting, typos, CSS
------------------------------------------------------------------------
r4173 | nirbheekc | 2007-11-10 09:07:42 -0500 (Sat, 10 Nov 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/beagrepd/WebServer.cs
   M /trunk/beagrep/beagrepd/webinterface/default.css
   A /trunk/beagrep/beagrepd/webinterface/help.html
   M /trunk/beagrep/beagrepd/webinterface/index.xsl
   D /trunk/beagrep/beagrepd/webinterface/querysyntax.html

New Help system:
- Static help.html
- Quick tips on start (hard coded into index.xsl)
- Help opens in new tab/window
------------------------------------------------------------------------
r4172 | nirbheekc | 2007-11-10 08:18:49 -0500 (Sat, 10 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/index.xsl

Missed this link while removing Process Info code
------------------------------------------------------------------------
r4171 | nirbheekc | 2007-11-10 08:14:47 -0500 (Sat, 10 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/WebServer.cs
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/default.js
   D /trunk/beagrep/beagrepd/webinterface/help
   D /trunk/beagrep/beagrepd/webinterface/help.xml
   M /trunk/beagrep/beagrepd/webinterface/index.xsl
   A /trunk/beagrep/beagrepd/webinterface/querysyntax.html (from /trunk/beagrep/beagrepd/webinterface/querysyntax.html:4167)

Revert 4168 and 4169, better help system in the next commit :)
------------------------------------------------------------------------
r4170 | nirbheekc | 2007-11-10 07:03:54 -0500 (Sat, 10 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/WebServer.cs
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/statusresult.xsl

Move "Shutdown Beagrep" to "Current Status", remove all code related to "Process Information"
------------------------------------------------------------------------
r4169 | nirbheekc | 2007-11-10 06:28:49 -0500 (Sat, 10 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/WebServer.cs

Whoops, missed WebServer and Makefile mappings in the last commit :)
------------------------------------------------------------------------
r4168 | nirbheekc | 2007-11-10 05:40:32 -0500 (Sat, 10 Nov 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/default.js
   A /trunk/beagrep/beagrepd/webinterface/help
   A /trunk/beagrep/beagrepd/webinterface/help/browsersettings.html
   A /trunk/beagrep/beagrepd/webinterface/help/morehelp.html
   A /trunk/beagrep/beagrepd/webinterface/help/querysyntax.html
   A /trunk/beagrep/beagrepd/webinterface/help/quicktips.html
   A /trunk/beagrep/beagrepd/webinterface/help.xml
   M /trunk/beagrep/beagrepd/webinterface/index.xsl
   D /trunk/beagrep/beagrepd/webinterface/querysyntax.html

Add Help for the interface:
- Link to help.xml
- help.xml loads separate help html files, this is useful if we want to re-use help topics in separate places, such as quicktips.html can be shown on the frontpage (ala beagrep-search)
- Currently, browser settings for accessing local files are only known for Firefox, more should be added as they are found (I couldn't find any for the others)
- Synchronous xmlhttp is used to load the help files since the beagrep daemon cannot respond to multiple async xmlhttps requrests at the same time. However, sync xmlhttp is bad since it blocks the UI.
------------------------------------------------------------------------
r4167 | nirbheekc | 2007-11-10 04:48:34 -0500 (Sat, 10 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/index.xsl

Instead of appending everything div id="results", make separate divs for info (state_change_info) and (the soon to come) help. Much simpler.
------------------------------------------------------------------------
r4166 | nirbheekc | 2007-11-10 01:01:05 -0500 (Sat, 10 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/hitresult.xsl

Cosmetic whitespace changes
------------------------------------------------------------------------
r4164 | dbera | 2007-11-09 09:23:13 -0500 (Fri, 09 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/index.xsl

Cosmetic changes. Open the external links in a new tab/window (like normal apps do). Point to our COPYING file for copying restrictions.

------------------------------------------------------------------------
r4163 | dbera | 2007-11-09 09:16:51 -0500 (Fri, 09 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/index.xsl

Till snippets is done, don't show the query_str beside numhits. Also, my queries tend to be a bit longer and that causes rendering problem with the categories on the left.

------------------------------------------------------------------------
r4162 | dbera | 2007-11-09 09:08:28 -0500 (Fri, 09 Nov 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/hitresult.xsl

Open file links in a new tab/window.
Disable the form for the entire time the search is in progress.

------------------------------------------------------------------------
r4161 | dbera | 2007-11-09 09:07:32 -0500 (Fri, 09 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/mappings.xml

Oops copy-paste-o.

------------------------------------------------------------------------
r4160 | dbera | 2007-11-09 08:58:00 -0500 (Fri, 09 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/mappings.xml

Merge 4134, 4140 from webinterface branch.

------------------------------------------------------------------------
r4159 | dbera | 2007-11-09 08:56:12 -0500 (Fri, 09 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js

Merge 4129 from webinterface branch.

------------------------------------------------------------------------
r4158 | dbera | 2007-11-09 08:54:37 -0500 (Fri, 09 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/index.xsl

Merge 4126 from webinterface branch.

------------------------------------------------------------------------
r4157 | dbera | 2007-11-09 08:52:14 -0500 (Fri, 09 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/index.xsl
   M /trunk/beagrep/beagrepd/webinterface/mappings.xml

Merge 4125 from webinterface branch; except snippet related code. Also remove the incomplete PropertyMapping for the time being.

------------------------------------------------------------------------
r4156 | dbera | 2007-11-09 08:46:08 -0500 (Fri, 09 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/index.xsl

Merge 4123 from webinterface branch.

------------------------------------------------------------------------
r4155 | dbera | 2007-11-09 08:43:50 -0500 (Fri, 09 Nov 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/WebServer.cs

Some files were renamed in an earlier commit.
Also, fix a logic bug in how we were using BEAGREP_WEBSERVER_DIR environment variable.

------------------------------------------------------------------------
r4154 | dbera | 2007-11-09 08:07:10 -0500 (Fri, 09 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/hitresult.xsl
   M /trunk/beagrep/beagrepd/webinterface/index.xsl
   M /trunk/beagrep/beagrepd/webinterface/mappings.xml

Merge 4120 from webinterface branch (except the snippet code).

------------------------------------------------------------------------
r4153 | dbera | 2007-11-09 07:54:34 -0500 (Fri, 09 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/hitresult.xsl
   M /trunk/beagrep/beagrepd/webinterface/index.xsl
   D /trunk/beagrep/beagrepd/webinterface/mapping.xml
   A /trunk/beagrep/beagrepd/webinterface/mappings.xml (from /branches/beagrep-webinterface-branch/beagrepd/webinterface/mappings.xml:4096)
   D /trunk/beagrep/beagrepd/webinterface/queryresult.xsl
   A /trunk/beagrep/beagrepd/webinterface/statusresult.xsl (from /branches/beagrep-webinterface-branch/beagrepd/webinterface/statusresult.xsl:4096)

Merge 4096 from webinterface branch.

------------------------------------------------------------------------
r4152 | dbera | 2007-11-09 07:45:53 -0500 (Fri, 09 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/WebServer.cs
   A /trunk/beagrep/beagrepd/webinterface/images/favicon.png

Merge 4144 from webinterface branch.

------------------------------------------------------------------------
r4151 | dbera | 2007-11-09 07:39:41 -0500 (Fri, 09 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/index.xml.in

Merge 4150 from webinterface branch.

------------------------------------------------------------------------
r4149 | dbera | 2007-11-08 10:31:43 -0500 (Thu, 08 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/Settings.cs
   M /trunk/beagrep/tools/settings.glade

A rough attempt to sanitise the networking page of beagrep-settings. NetworkingService can be enabled/disabled even if avahi is not enabled. Also, copy paste some lines in settings.glade to add a checkbox for webinterface.

------------------------------------------------------------------------
r4148 | dbera | 2007-11-08 09:52:03 -0500 (Thu, 08 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Config.cs
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/tools/Settings.cs

Logic error (return empty string if stringoption exists but without any value) and typo ('yy' and 'p' should be removed from vim from benefit of mankind).

------------------------------------------------------------------------
r4147 | kmaraas | 2007-11-07 05:24:06 -0500 (Wed, 07 Nov 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/nb.po

2007-11-07  Kjartan Maraas  <kmaraas@gnome.org>

	* nb.po: Updated Norwegian bokmål translation.
------------------------------------------------------------------------
r4146 | dbera | 2007-11-06 23:46:13 -0500 (Tue, 06 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am
   D /trunk/beagrep/beagrepd/webinterface/index.xml
   A /trunk/beagrep/beagrepd/webinterface/index.xml.in (from /trunk/beagrep/beagrepd/webinterface/index.xml:4137)
   M /trunk/beagrep/beagrepd/webinterface/index.xsl

Add a index.xml.in which will generate an index.xml with correct version and last-build date. Show the version-date information in the footer in a light colour (the colour information needs to be added to CSS).

------------------------------------------------------------------------
r4145 | dbera | 2007-11-06 22:02:59 -0500 (Tue, 06 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/beagrep-dump-index.1
   M /trunk/beagrep/beagrepd/beagrepd.1
   M /trunk/beagrep/tools/Query.cs
   M /trunk/beagrep/tools/beagrep-query.1

Fix some man pages and --help text.

------------------------------------------------------------------------
r4143 | dbera | 2007-11-06 08:12:48 -0500 (Tue, 06 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneCommon.cs

LuceneCommon uses the Snowball stemmers differently than PorterStemmer; stemmer.Stem() cannot be run concurrently.

------------------------------------------------------------------------
r4142 | dbera | 2007-11-06 07:51:03 -0500 (Tue, 06 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/TextCache.cs

Sqlite connections must not be shared; I missed it when doing the TextCache changes.

------------------------------------------------------------------------
r4139 | kkubasik | 2007-11-05 21:33:06 -0500 (Mon, 05 Nov 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/ChangeLog
   M /trunk/beagrep/search/Tiles/MailMessage.cs
   M /trunk/beagrep/search/Tiles/Tile.cs

* search/Tiles/MailMessage.cs: Make snippets visible in beagrep-search
  for Evolution Mail, this may not be a go for release, but we should
  test it to help stress test the new textcache. 
* search/Tiles/Tile.cs: If snippet is empty after our HTML parsing fun,
  then don't EmitGotSnippet.
------------------------------------------------------------------------
r4138 | kkubasik | 2007-11-05 21:03:23 -0500 (Mon, 05 Nov 2007) | 10 lines
Changed paths:
   M /trunk/beagrep/ChangeLog
   M /trunk/beagrep/Util/OperaHistory.cs
   M /trunk/beagrep/beagrepd/OperaQueryable/OperaIndexableGenerator.cs
   M /trunk/beagrep/beagrepd/OperaQueryable/OperaIndexer.cs

* Util/OperaHistory.cs: Added a lastRead time to track the current
  in-memory index.
* beagrepd/OperaQueryable/OperaIndexer.cs: We don't care if a cache file
  was deleted, we don't delete the index entry, we just want to know
  when Opera has finished writing one.
* beagrepd/OperaQueryable/OperaIndexableGenerator.cs: Some small
  cleanups/changes to the Opera backend. Namely, Opera stores the
  content of webpages that are served gzipped in its cache gzipped.
  Also add logic to not re-read from disk if in-memory history index
  is up to date. 
------------------------------------------------------------------------
r4137 | dbera | 2007-11-05 19:29:48 -0500 (Mon, 05 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Makefile.am

Use the correct option to build docs in distcheck-configure-flags.

------------------------------------------------------------------------
r4136 | llipka | 2007-11-05 15:15:12 -0500 (Mon, 05 Nov 2007) | 6 lines
Changed paths:
   M /trunk/beagrep/ImLogViewer/ImLog.cs
   M /trunk/beagrep/search/Pages/Base.cs
   M /trunk/beagrep/tools/Settings.cs
   M /trunk/beagrep/tools/settings.glade

* beagrep/ImLogViewer/ImLog.cs - Kill warning.
* beagrep/tools/Settings.cs - Update the UI a little and add description to make it look prettier.
* beagrep/tools/settings.glade - Remove unnecessary things.
* beagrep/search/Pages/Base.cs - Set justification to fill to use up all the free space on our pages.


------------------------------------------------------------------------
r4135 | llipka | 2007-11-05 14:38:05 -0500 (Mon, 05 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/tools/Settings.cs
   M /trunk/beagrep/tools/settings.glade

Basic UI configuration for enabling/disabling backends in beagrep-settings
------------------------------------------------------------------------
r4133 | llipka | 2007-11-05 14:15:37 -0500 (Mon, 05 Nov 2007) | 10 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Message.cs
   M /trunk/beagrep/search/Pages/Base.cs
   M /trunk/beagrep/search/Pages/NoMatch.cs
   M /trunk/beagrep/search/Pages/QuickTips.cs
   M /trunk/beagrep/search/Pages/RootUser.cs
   M /trunk/beagrep/search/Pages/StartDaemon.cs
   M /trunk/beagrep/search/Search.cs
   M /trunk/beagrep/search/UIManager.cs

* search/Pages/QuickTips.cs
* search/Pages/StartDaemon.cs
* search/Pages/RootUser.cs
* search/Pages/NoMatch.cs
* search/Pages/Base.cs - Fix some rough edges and make our pages look nicer.
* search/Search.cs
* search/UIManager.cs - Add support for selecting domains to query but keep them disabled for now.
* BeagrepClient/Message.cs - Update the API a little, now remote queries can only be used asynchronously.


------------------------------------------------------------------------
r4130 | dbera | 2007-11-05 00:18:38 -0500 (Mon, 05 Nov 2007) | 9 lines
Changed paths:
   M /trunk/beagrep/INSTALL
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/doc/api/Makefile.am
   M /trunk/beagrep/epiphany-extension/Makefile.am
   M /trunk/beagrep/po/POTFILES.in
   M /trunk/beagrep/po/POTFILES.skip
   M /trunk/beagrep/search/Makefile.am

A desparate and naive attempt to get "make distcheck" to succeed. It did succeed after the following changes, except I am not sure if those changes are correct. I was just short of embracing insanity when I got the final problem fixed up.
* Several changes to doc/api/Makefile.am: proper wildcard handling, a disthook for copying the xml files, and some more changes that I blindly copied from gtk-sharp/doc.
* Add beagrep-search manpage to the list of installed files.
* Update INSTALL (how did this one get changed ?)
* Remove dead file from Util/Makefile.am
* Remove ContactViewer files from POTFILES
* Add some *.desktop files to PITFILES.skip because something complained during distcheck. Also add DigikamTags.cs and DumpIndex.cs because C# verbatim @"string" confuses the translatable-string-searcher.
* Bring back r1306 - a hack to make distcheck pass the epiphany-extension.

------------------------------------------------------------------------
r4128 | dbera | 2007-11-05 00:07:37 -0500 (Mon, 05 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/ExceptionHandlingThread.cs
   M /trunk/beagrep/configure.in

Mark --enable-avahi as experimental, it does cause trouble sometimes. Bit more verbose thread handling, all the nasty beagrepd/index-helper not quitting can be tracked by them.

------------------------------------------------------------------------
r4127 | dbera | 2007-11-05 00:05:41 -0500 (Mon, 05 Nov 2007) | 2 lines
Changed paths:
   A /trunk/attic/ContactViewer (from /trunk/beagrep/ContactViewer:4083)
   D /trunk/beagrep/ContactViewer

Move ContactViewer to attic.

------------------------------------------------------------------------
r4124 | nirbheekc | 2007-11-04 20:48:29 -0500 (Sun, 04 Nov 2007) | 1 line
Changed paths:
   A /trunk/beagrep/logo/beagrep-webinterface.svg

Add the source svg for the "new" webinterface logo. And yes, it's the correct one (eog/gnome/Gecko/GIMP can't render the "W" properly), open it in Inkscape.
------------------------------------------------------------------------
r4122 | dbera | 2007-11-04 12:44:51 -0500 (Sun, 04 Nov 2007) | 2 lines
Changed paths:
   A /trunk/beagrep/beagrepd/webinterface/querysyntax.html

Beagrep search syntax. This somehow has to be linked from index.xml (and appropriately stylesheet-ed). The content of <body></body> is a direct copy from the wiki page and is better left unchanged - to help in syncing the content in the future.

------------------------------------------------------------------------
r4121 | dbera | 2007-11-03 14:57:57 -0400 (Sat, 03 Nov 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterHtml.cs
   M /trunk/beagrep/Filters/FilterKNotes.cs
   M /trunk/beagrep/Filters/FilterMail.cs
   M /trunk/beagrep/Util/HtmlRemovingReader.cs
   M /trunk/beagrep/beagrepd/Filter.cs

Two changes:
- Make snippets from html nicer (skip blank lines - I know I went back on my earlier decision).
- We already indexed the txt part of an email as its body; but when the email had an html part too, that was indexed as an attachment; that looked weird and unnecessary. By hooking up an html filter to the textreader for the html message part, we can index the body of the html part as the text data of the mail indexable. This requires some other changes too, namely an Open() method in filter to work on streams without storing them in a tmpfile. A side effect of the html email indexing is that the henceforth the html emails would not be copied to disk for indexing, but would be indexed "in place".

------------------------------------------------------------------------
r4118 | leonardof | 2007-11-03 06:17:18 -0400 (Sat, 03 Nov 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/pt_BR.po

2007-11-03  Leonardo Ferreira Fontenelle  <leonardof@svn.gnome.org>

	* pt_BR.po: Two minor fixes.

------------------------------------------------------------------------
r4117 | leonardof | 2007-11-03 05:51:03 -0400 (Sat, 03 Nov 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/pt_BR.po

2007-11-03  Leonardo Ferreira Fontenelle  <leonardof@svn.gnome.org>

	* pt_BR.po: Brazilian Portuguese translation updated by Igor Pires
	Soares.

------------------------------------------------------------------------
r4116 | dbera | 2007-11-03 01:46:45 -0400 (Sat, 03 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs

Instead of using two separate queue for addition and removal of files, use a single queue to deal with both kinds of filesystem changes. Using two queues destroy any ordering between the events, e.g. create, delete, create might get scheduled as create,create,delete (which is exactly what happens when firefox downloads some file).

------------------------------------------------------------------------
r4115 | dbera | 2007-11-03 01:25:09 -0400 (Sat, 03 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/BeagrepClient/Message.cs
   M /trunk/beagrep/beagrepd/IndexHelper/RemoteIndexerExecutor.cs
   M /trunk/beagrep/beagrepd/RemoteIndexer.cs
   M /trunk/beagrep/beagrepd/Server.cs

Find out a bunch of ways IndexHelper can keep running despite asked to quit. And fix them. The problem can happen when: server encounters an exception trying to send data, a real exception, not a fake one to signal the need for an indexhelper. Because of the way Transports now work, the same message cannot be send twice (the transport is closed after send()). In that what case, just ignore that message instead of retrying. Also, in certain cases, while a socket is shutting down, a part of the message may go through but there might be an exception trying to send the last 0xff. Put that code in a try-block too. Lastly, when indexhelper is shutdown, sometimes a mysterious body abort the Server.Run() thread - I could not figure out who it is. But nevertheless, there is a possibility that Run() thread could be aborted - take care to catch the AbortException and gracefully shutdown (the alternative is to allow the thread to be aborted and let indexhelper wait on a Shutdown monitor forever). 
------------------------------------------------------------------------
r4114 | dbera | 2007-11-02 21:19:37 -0400 (Fri, 02 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/IndexHelper/IndexHelper.cs
   M /trunk/beagrep/beagrepd/Server.cs

Store in Server whether this is an indexhelper instance or a beagrepdaemon instance. Accordingly start the webserver.

------------------------------------------------------------------------
r4113 | dbera | 2007-11-02 20:37:13 -0400 (Fri, 02 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/glue/tomboykeybinder.c

Revert 3643 and then conditionally use Joe's patch for 3643. Fixes the problem where shortcut key was not working in ubuntu and gentoo (these were reported, probably everywhere).

------------------------------------------------------------------------
r4112 | dbera | 2007-11-02 20:35:11 -0400 (Fri, 02 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/Settings.cs

Fix a typo. Earlier networking settings were written to beagrep-search.

------------------------------------------------------------------------
r4111 | dbera | 2007-11-02 08:01:13 -0400 (Fri, 02 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Scheduler.cs

Typo. Show the correct creator, description etc. for tasks.

------------------------------------------------------------------------
r4110 | kkubasik | 2007-11-02 01:35:24 -0400 (Fri, 02 Nov 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/OperaQueryable/OperaIndexableGenerator.cs

added plain text and pdf files to the types that the opera backend can index in opera's cache
------------------------------------------------------------------------
r4109 | dbera | 2007-11-02 00:24:29 -0400 (Fri, 02 Nov 2007) | 2 lines
Changed paths:
   A /trunk/beagrep/Filters/TagLib/Ape/File.cs
   M /trunk/beagrep/Filters/TagLib/Ape/Footer.cs
   M /trunk/beagrep/Filters/TagLib/Ape/Item.cs
   A /trunk/beagrep/Filters/TagLib/Ape/StreamHeader.cs
   M /trunk/beagrep/Filters/TagLib/Ape/Tag.cs
   M /trunk/beagrep/Filters/TagLib/Asf/ContentDescriptionObject.cs
   M /trunk/beagrep/Filters/TagLib/Asf/ContentDescriptor.cs
   A /trunk/beagrep/Filters/TagLib/Asf/DescriptionRecord.cs
   M /trunk/beagrep/Filters/TagLib/Asf/ExtendedContentDescriptionObject.cs
   M /trunk/beagrep/Filters/TagLib/Asf/File.cs
   M /trunk/beagrep/Filters/TagLib/Asf/FilePropertiesObject.cs
   M /trunk/beagrep/Filters/TagLib/Asf/Guid.cs
   A /trunk/beagrep/Filters/TagLib/Asf/HeaderExtensionObject.cs
   M /trunk/beagrep/Filters/TagLib/Asf/HeaderObject.cs
   A /trunk/beagrep/Filters/TagLib/Asf/MetadataLibraryObject.cs
   M /trunk/beagrep/Filters/TagLib/Asf/Object.cs
   M /trunk/beagrep/Filters/TagLib/Asf/PaddingObject.cs
   M /trunk/beagrep/Filters/TagLib/Asf/StreamPropertiesObject.cs
   M /trunk/beagrep/Filters/TagLib/Asf/Tag.cs
   M /trunk/beagrep/Filters/TagLib/Asf/UnknownObject.cs
   M /trunk/beagrep/Filters/TagLib/ByteVector.cs
   M /trunk/beagrep/Filters/TagLib/ByteVectorList.cs
   M /trunk/beagrep/Filters/TagLib/CombinedTag.cs
   M /trunk/beagrep/Filters/TagLib/CorruptFileException.cs
   A /trunk/beagrep/Filters/TagLib/Debugger.cs
   M /trunk/beagrep/Filters/TagLib/File.cs
   M /trunk/beagrep/Filters/TagLib/FileTypes.cs
   M /trunk/beagrep/Filters/TagLib/Flac/Block.cs
   M /trunk/beagrep/Filters/TagLib/Flac/BlockHeader.cs
   M /trunk/beagrep/Filters/TagLib/Flac/File.cs
   M /trunk/beagrep/Filters/TagLib/Flac/Picture.cs
   M /trunk/beagrep/Filters/TagLib/Flac/StreamHeader.cs
   M /trunk/beagrep/Filters/TagLib/Genres.cs
   M /trunk/beagrep/Filters/TagLib/ICodec.cs
   M /trunk/beagrep/Filters/TagLib/Id3v1/StringHandler.cs
   M /trunk/beagrep/Filters/TagLib/Id3v1/Tag.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/ExtendedHeader.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Footer.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/FrameFactory.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/FrameHeader.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/FrameTypes.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/AttachedPictureFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/CommentsFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/GeneralEncapsulatedObjectFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/MusicCdIdentifierFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/PlayCountFrame.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/Frames/PopularimeterFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/PrivateFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/RelativeVolumeFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/SynchronizedLyricsFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/TermsOfUseFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/TextIdentificationFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/UniqueFileIdentifierFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/UnknownFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/UnsynchronisedLyricsFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Header.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/SynchData.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Tag.cs
   A /trunk/beagrep/Filters/TagLib/IntList.cs
   M /trunk/beagrep/Filters/TagLib/ListBase.cs
   M /trunk/beagrep/Filters/TagLib/Mpc/File.cs
   M /trunk/beagrep/Filters/TagLib/Mpc/StreamHeader.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg/AudioFile.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg/AudioHeader.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg/File.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg/VideoHeader.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg/XingHeader.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/AppleTag.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Box.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/BoxFactory.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/BoxHeader.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/BoxTypes.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/AppleAdditionalInfoBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/AppleAnnotationBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/AppleDataBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/AppleElementaryStreamDescriptor.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/AppleItemListBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/FullBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoAudioSampleEntry.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoChunkLargeOffsetBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoChunkOffsetBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoFreeSpaceBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoHandlerBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoMetaBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoMovieHeaderBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoSampleDescriptionBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoSampleEntry.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoSampleTableBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoUserDataBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoVisualSampleEntry.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/UnknownBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/File.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/FileParser.cs
   M /trunk/beagrep/Filters/TagLib/NonContainer/EndTag.cs
   M /trunk/beagrep/Filters/TagLib/NonContainer/File.cs
   M /trunk/beagrep/Filters/TagLib/NonContainer/StartTag.cs
   M /trunk/beagrep/Filters/TagLib/NonContainer/Tag.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/Bitstream.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/Codec.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/Codecs/Theora.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/Codecs/Vorbis.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/File.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/GroupedComment.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/Page.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/PageHeader.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/Paginator.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/XiphComment.cs
   M /trunk/beagrep/Filters/TagLib/Picture.cs
   M /trunk/beagrep/Filters/TagLib/Properties.cs
   M /trunk/beagrep/Filters/TagLib/README
   M /trunk/beagrep/Filters/TagLib/ReadOnlyByteVector.cs
   M /trunk/beagrep/Filters/TagLib/Riff/AviHeaderList.cs
   M /trunk/beagrep/Filters/TagLib/Riff/AviStream.cs
   M /trunk/beagrep/Filters/TagLib/Riff/BitmapInfoHeader.cs
   M /trunk/beagrep/Filters/TagLib/Riff/DivXTag.cs
   M /trunk/beagrep/Filters/TagLib/Riff/File.cs
   M /trunk/beagrep/Filters/TagLib/Riff/InfoTag.cs
   M /trunk/beagrep/Filters/TagLib/Riff/List.cs
   M /trunk/beagrep/Filters/TagLib/Riff/ListTag.cs
   M /trunk/beagrep/Filters/TagLib/Riff/MovieIdTag.cs
   M /trunk/beagrep/Filters/TagLib/Riff/WaveFormatEx.cs
   M /trunk/beagrep/Filters/TagLib/StringList.cs
   M /trunk/beagrep/Filters/TagLib/SupportedMimeType.cs
   M /trunk/beagrep/Filters/TagLib/Tag.cs
   M /trunk/beagrep/Filters/TagLib/TagLib.sources
   M /trunk/beagrep/Filters/TagLib/UnsupportedFormatException.cs
   M /trunk/beagrep/Filters/TagLib/WavPack/File.cs
   M /trunk/beagrep/Filters/TagLib/WavPack/StreamHeader.cs

Sync with upstream taglib-sharp.

------------------------------------------------------------------------
r4108 | dbera | 2007-11-01 22:21:52 -0400 (Thu, 01 Nov 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/Util/DirectoryWalker.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs

Mention whether the indexable is Add or Remove in PreAddIndexableHook debug message.
Add a quick method to DirectoryWalker to count the number of files in a directory.

------------------------------------------------------------------------
r4107 | jorgegonz | 2007-11-01 17:09:02 -0400 (Thu, 01 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r4103 | dbera | 2007-11-01 00:15:14 -0400 (Thu, 01 Nov 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneIndexingDriver.cs

LuceneIndexingDriver:GenerateNextIndexable() gets the next indexable from a filter and is potentially unsafe i.e. can throw exceptions. Catch the exception and stop further indexing from that particular deferred indexable.

------------------------------------------------------------------------
r4102 | dbera | 2007-10-31 23:52:32 -0400 (Wed, 31 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/images/beagrep-logo.png

Missed the new beagrep logo (made by Nirbheek, based on the beagrep-project.org logo) while importing from launchpad webbeagrep branch.

------------------------------------------------------------------------
r4101 | dbera | 2007-10-31 21:07:37 -0400 (Wed, 31 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/KMailQueryable/KMailIndexer.cs
   M /trunk/beagrep/tools/config-files/Daemon.xml

Remove hardcoded exclude mail folders from kmail backend. Add those to config/Daemon.xml

------------------------------------------------------------------------
r4100 | kelemeng | 2007-10-31 14:13:31 -0400 (Wed, 31 Oct 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/hu.po

2007-10-31  Gabor Kelemen  <kelemeng@gnome.hu>

	* hu.po: Translation updated


------------------------------------------------------------------------
r4099 | dbera | 2007-10-31 09:42:59 -0400 (Wed, 31 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/XdgMime.cs

Add #ifdef-ed debug lines for debugging mimetype detection.

------------------------------------------------------------------------
r4098 | dbera | 2007-10-31 07:37:27 -0400 (Wed, 31 Oct 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterOle.cs
   M /trunk/beagrep/Filters/FilterPPT.cs

* Temporary fix for a crash in FilterOle.cs. Based on libgsf/tests/test-msole2.c. Uncompress() owns the passed input; so the passed input should not be unref-ed afterwords.
* Fix text extraction of title/author from PPT files.

------------------------------------------------------------------------
r4097 | llipka | 2007-10-30 11:28:18 -0400 (Tue, 30 Oct 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/POTFILES.in

Fix renamed files POTFILES.in (bgo #491711)
------------------------------------------------------------------------
r4095 | nirbheekc | 2007-10-30 07:01:36 -0400 (Tue, 30 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/index.xsl
   D /trunk/beagrep/beagrepd/webinterface/query.html

- We don't use query.html anymore
- Search input box focus fix, hunted down and fixed by dBera :)
------------------------------------------------------------------------
r4094 | dbera | 2007-10-29 21:50:29 -0400 (Mon, 29 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/EvolutionMailQueryable/EvolutionMailIndexableGenerator.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileNameFilter.cs

Remove last traces of Exclude.IsMatch(). Also, earlier I missed the allowed/denied-patterns in BuildIndex, fix that. One more reason to have strongly typed collections :(.

------------------------------------------------------------------------
r4093 | dbera | 2007-10-29 21:20:57 -0400 (Mon, 29 Oct 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/IndexWriter.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Index/SegmentInfos.cs
   A /trunk/beagrep/beagrepd/Lucene.Net/upstream-changes/29_delete_stale_files.patch

There could be unusual circumstances when Lucene does not delete its stale data. Its hard to find out why but currently there is no way of debugging this or figuring out what happened. In this situation, instead of leaving behind the huge amount of stale data (which is useless once the new data is there and is even more useless since we don't log lucene internal operations), delete the stale data and print a big WARNING that stale data is being deleted.
The logic to delete stale data is simple, other than "segments" and "deletable", all other files have their filenames mentioned in the segments file.

------------------------------------------------------------------------
r4090 | dbera | 2007-10-28 21:22:12 -0400 (Sun, 28 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FileSystemQueryable/InternalUriManager.cs
   M /trunk/beagrep/beagrepd/Shutdown.cs
   M /trunk/beagrep/beagrepd/TextCache.cs

Remove some debug messages. These features are well tested by now.

------------------------------------------------------------------------
r4089 | dbera | 2007-10-27 12:50:00 -0400 (Sat, 27 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/StringFu.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileNameFilter.cs
   M /trunk/beagrep/beagrepd/Server.cs
   M /trunk/beagrep/tools/config-files/FilesQueryable.xml

Remove the hardcoded list of exclude patterns from File system backend and put them in the config. Now you are free to index those silly *.o files.

------------------------------------------------------------------------
r4088 | dbera | 2007-10-27 10:05:07 -0400 (Sat, 27 Oct 2007) | 6 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Server.cs
   M /trunk/beagrep/beagrepd/Shutdown.cs
   M /trunk/beagrep/beagrepd/webinterface/index.xsl
   M /trunk/beagrep/tools/config-files/Networking.xml

index.xsl : revert accidental commit.
others: Add option Networking.WebInterface.
* If Networking.ServiceEnabled is true, WebInterface is ignored. Server accepts connections from anywhere.
* If only WebInterface is true, server accepts connections only from local host.
* WebInterface can be enabled/disabled by "beagrep-config Networking WebInterface true/false" even when beagrepd is running (Networking.ServiceEnabled can't be changed on the fly :( )

------------------------------------------------------------------------
r4087 | dbera | 2007-10-27 07:21:41 -0400 (Sat, 27 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/ManageIndex.cs

Add some files and dirs which can be present in a valid beagrep index directory.

------------------------------------------------------------------------
r4086 | dbera | 2007-10-27 07:15:03 -0400 (Sat, 27 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/FileSystem.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/FSDirectory.cs
   M /trunk/beagrep/beagrepd/Lucene.Net/Store/Lock.cs
   A /trunk/beagrep/beagrepd/Lucene.Net/upstream-changes/28_nospace_exception.patch

Report no-space-on-disk problems differently than write failures while writing to lock file. Now only I have to where to catch these exceptions.

------------------------------------------------------------------------
r4085 | dbera | 2007-10-26 10:57:54 -0400 (Fri, 26 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileNameFilter.cs

Note to self: check the list from config, it could be null.

------------------------------------------------------------------------
r4084 | dbera | 2007-10-26 10:36:31 -0400 (Fri, 26 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/WebServer.cs
   M /trunk/beagrep/beagrepd/webinterface/TODO
   D /trunk/beagrep/beagrepd/webinterface/ajax-loader.gif
   D /trunk/beagrep/beagrepd/webinterface/beagrep-logo.png
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/default.js
   A /trunk/beagrep/beagrepd/webinterface/hitresult.xsl
   A /trunk/beagrep/beagrepd/webinterface/images
   A /trunk/beagrep/beagrepd/webinterface/images/beagrep-logo.png (from /trunk/beagrep/beagrepd/webinterface/beagrep-logo.png:4054)
   A /trunk/beagrep/beagrepd/webinterface/images/busy-animation.gif
   A /trunk/beagrep/beagrepd/webinterface/images/title_bg.png (from /trunk/beagrep/beagrepd/webinterface/title_bg.png:4054)
   A /trunk/beagrep/beagrepd/webinterface/index.xml
   A /trunk/beagrep/beagrepd/webinterface/index.xsl
   A /trunk/beagrep/beagrepd/webinterface/mapping.xml
   M /trunk/beagrep/beagrepd/webinterface/queryresult.xsl
   D /trunk/beagrep/beagrepd/webinterface/title_bg.png

Merge changes from launchpad webbeagrep branch bzr#9.

------------------------------------------------------------------------
r4083 | llipka | 2007-10-26 06:30:33 -0400 (Fri, 26 Oct 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/NetworkServicesQueryable/NetworkServicesQueryable.cs
   M /trunk/beagrep/beagrepd/QueryDriver.cs

* beagrepd/QueryDriver.cs - Be more careful about exceptions so we don't crash clients.
* beagrepd/NetworkServicesQueryable/NetworkServicesQueryable.cs - Fix a null ref bug introduced by the new configuration system.

------------------------------------------------------------------------
r4082 | dbera | 2007-10-25 21:11:26 -0400 (Thu, 25 Oct 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/Util/Config.cs
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/QueryDriver.cs

Fix the ever eluding bug of "No queryable object matches ..." in snippet. It happened if a static index is created with a custom source. Fix that by using a config file target/StaticIndex.xml. Add several helper methods to Config to facilitate conf usage. BuildIndex now stores the value of the source (which is either the value of --source or the name of the target directory) in the config file. Upon subsequent reruns, if --source is not present and the config file is present, the value is read from the config file.
Existing static indexes need to recreated (or faked by creating a correct StaticIndex.xml in the target/ directory).

------------------------------------------------------------------------
r4081 | dbera | 2007-10-25 19:16:54 -0400 (Thu, 25 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/AUTHORS

Add Tao to AUTHORS.

------------------------------------------------------------------------
r4080 | dbera | 2007-10-25 19:15:34 -0400 (Thu, 25 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/AUTHORS

Add Nirbheek to AUTHORS.

------------------------------------------------------------------------
r4078 | dbera | 2007-10-24 20:34:04 -0400 (Wed, 24 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/Query.cs

Remove obsolete code.

------------------------------------------------------------------------
r4077 | dbera | 2007-10-24 20:30:20 -0400 (Wed, 24 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/SnippetExecutor.cs

Found the source of "ERROR: No queryable object matches ..." in snippet. For the time being, just return a null snippet and print the error in the logfile.

------------------------------------------------------------------------
r4076 | dbera | 2007-10-24 20:00:18 -0400 (Wed, 24 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/SnippetFu.cs

query_terms can be null when asking for a snippet. Fix possible crashes.

------------------------------------------------------------------------
r4075 | dbera | 2007-10-24 17:30:39 -0400 (Wed, 24 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileNameFilter.cs

Check the list returned by config, listoption could be null.

------------------------------------------------------------------------
r4074 | dbera | 2007-10-24 15:41:46 -0400 (Wed, 24 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Config.cs

Deserialization of empty array is returning null array (used to return empty array before) ... prevent a crash by taking care of that.

------------------------------------------------------------------------
r4073 | dbera | 2007-10-24 11:48:51 -0400 (Wed, 24 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/EvolutionMailQueryable/EvolutionSummaryTracker.cs

Oops - extra quote.

------------------------------------------------------------------------
r4072 | dbera | 2007-10-24 11:41:29 -0400 (Wed, 24 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/EvolutionMailQueryable/EvolutionSummaryTracker.cs

Changes to deal with the changes in SqliteUtils.

------------------------------------------------------------------------
r4071 | dbera | 2007-10-24 11:25:22 -0400 (Wed, 24 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am

Evo backend needs Mono.Data.Sqlite. Now that we dont provide inhouse Mono.Data.SqliteClient, add the assembly to the Evo-target in Makefile.am.

------------------------------------------------------------------------
r4070 | dbera | 2007-10-24 00:21:34 -0400 (Wed, 24 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/ExternalStringsHack.cs.in
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/WebServer.cs

Install the webserver files in /usr/share/beagrep instead of /etc/beagrep.

------------------------------------------------------------------------
r4069 | dbera | 2007-10-24 00:16:53 -0400 (Wed, 24 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/glue/xdgmime/README
   M /trunk/beagrep/glue/xdgmime/xdgmimealias.h
   M /trunk/beagrep/glue/xdgmime/xdgmimecache.c
   M /trunk/beagrep/glue/xdgmime/xdgmimecache.h
   M /trunk/beagrep/glue/xdgmime/xdgmimemagic.c
   M /trunk/beagrep/glue/xdgmime/xdgmimeparent.h

Sync local xdgmime copy to latest gtk+ trunk.

------------------------------------------------------------------------
r4068 | dbera | 2007-10-22 20:45:30 -0400 (Mon, 22 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/StringFu.cs
   M /trunk/beagrep/beagrepd/BuildIndex.cs

One more step towards removing hard-wired exclude patterns in code. Also, marge all the exclude patterns in a large regex and use the regex to determine if the filename matches any exclude pattern. Doing this gives me a saving of 1 sec on 4000 files traversed (BuildIndex sans actual indexing) (4.8 vs 3.7 seconds).

------------------------------------------------------------------------
r4067 | dbera | 2007-10-21 20:43:43 -0400 (Sun, 21 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Snippet.cs

Overlooked this fd leak in snippet reader.

------------------------------------------------------------------------
r4066 | dbera | 2007-10-21 20:18:49 -0400 (Sun, 21 Oct 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Snippet.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/TextCache.cs
   M /trunk/beagrep/tools/Query.cs

Add a "--cache" argument to beagrep-query which will return the cached text for the match.
Retrieving snippets for self-cached files for FSQ was broken, fixed that.

------------------------------------------------------------------------
r4065 | llipka | 2007-10-21 19:23:05 -0400 (Sun, 21 Oct 2007) | 1 line
Changed paths:
   M /trunk/beagrep/tools/wrapper.in

Add our glue libraries to LD_LIBRARY_PATH. They are needed by the config system in beagrep-settings.
------------------------------------------------------------------------
r4064 | dbera | 2007-10-21 18:04:32 -0400 (Sun, 21 Oct 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/QueryStringParser.cs

* Minor change in BuildIndex.
* Add query syntax uri:file:///a/b.zip#foo.txt for uri query.
* Make the regexes static and compiled.

------------------------------------------------------------------------
r4063 | dbera | 2007-10-19 22:45:35 -0400 (Fri, 19 Oct 2007) | 11 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterMail.cs
   M /trunk/beagrep/Util/ArrayFu.cs
   D /trunk/beagrep/Util/Conf.cs
   A /trunk/beagrep/Util/Config.cs
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/Util/PathFinder.cs
   M /trunk/beagrep/Util/SystemInformation.cs
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/EvolutionMailQueryable/EvolutionMailIndexableGenerator.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileNameFilter.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/KMailQueryable/KMailIndexer.cs
   M /trunk/beagrep/beagrepd/NetworkServicesQueryable/NetworkServicesQueryable.cs
   M /trunk/beagrep/beagrepd/QueryDriver.cs
   M /trunk/beagrep/beagrepd/RemoteControlExecutors.cs
   M /trunk/beagrep/beagrepd/Zeroconf.cs
   M /trunk/beagrep/search/Search.cs
   M /trunk/beagrep/tools/Config.cs
   M /trunk/beagrep/tools/Info.cs
   M /trunk/beagrep/tools/Makefile.am
   M /trunk/beagrep/tools/Settings.cs
   A /trunk/beagrep/tools/config-files
   A /trunk/beagrep/tools/config-files/BeagrepSearch.xml
   A /trunk/beagrep/tools/config-files/Daemon.xml
   A /trunk/beagrep/tools/config-files/FilesQueryable.xml
   A /trunk/beagrep/tools/config-files/Networking.xml

Merge 4001-4007, 4009, 4062 from cutting-edge-branch.
New config system.
* tools/config-files/*.xml will act as the schema for the config options.
* global config at sysconfdir/beagrep/config-files/ .
* IMPORTANT: If you are running uninstalled, "make install" at least once to get the global files in the right place.
* Plugins (filters and backends) can store/retrieve their own configuration data.
* libbeagrep API is mostly ready ... but I dont think it is needed. With KDE4, a simple KDE settings gui can be written directly using the Kimono bindings. If someone needs the libbeagrep API to manipulate the settings, contact me.
* old config files will be automatically translated to the new ones.
* ExcludePattern.Path can have environment variables e.g. $HOME/tmp
* Tested that the code builds and the beagrep-settings work (hurray Mono VMWare live-cd :)

------------------------------------------------------------------------
r4061 | dbera | 2007-10-18 23:07:20 -0400 (Thu, 18 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/DigikamTags.cs
   M /trunk/beagrep/Util/FSpotTools.cs
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/beagrepd/EvolutionMailQueryable/EvolutionSummaryTracker.cs
   M /trunk/beagrep/beagrepd/FileAttributesStore_Sqlite.cs
   M /trunk/beagrep/beagrepd/Makefile.am
   D /trunk/beagrep/beagrepd/Mono.Data.SqliteClient
   M /trunk/beagrep/beagrepd/SqliteUtils.cs
   M /trunk/beagrep/beagrepd/TextCache.cs
   M /trunk/beagrep/configure.in

Migrate from Mono.Data.SqliteClient to Mono.Data.Sqlite. Note:SqliteCommand.Parameters.Add() is replaced with AddWithValue().

------------------------------------------------------------------------
r4059 | dbera | 2007-10-17 19:16:14 -0400 (Wed, 17 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/EvolutionMailQueryable/EvolutionSummaryTracker.cs

Replace ":" in the evolution mail folder name with "_" to prevent problems with sqlite connection string.

------------------------------------------------------------------------
r4058 | dbera | 2007-10-16 18:32:47 -0400 (Tue, 16 Oct 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/Util/ExternalStringsHack.cs.in
   M /trunk/beagrep/Util/FSpotTools.cs
   M /trunk/beagrep/Util/VersionFu.cs
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/EvolutionMailQueryable/EvolutionSummaryTracker.cs
   M /trunk/beagrep/beagrepd/FileAttributesStore_Sqlite.cs
   M /trunk/beagrep/beagrepd/IndexHelper/IndexHelper.cs
   M /trunk/beagrep/beagrepd/TextCache.cs
   M /trunk/beagrep/configure.in

Drop support for sqlite 2. Just remove the configure check and remove references of sqlite2 from the code.
- When the move to M.D.Sqlite happens, the whole thing needs a general cleanup.
- F-Spot support sqlite3 and it will be a pain to keep reading tags from sqlite2 fspot.db after the migration to M.D.Sqlite happens, so only read tags from sqlite3 fspot db.

------------------------------------------------------------------------
r4055 | dbera | 2007-10-16 15:55:50 -0400 (Tue, 16 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/ExceptionHandlingThread.cs

Safeguard against an exceptional case when a thread is not alive yet not removed from the live_threads list.

------------------------------------------------------------------------
r4054 | joeshaw | 2007-10-15 15:26:14 -0400 (Mon, 15 Oct 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/beagrepd/EvolutionMailQueryable/EvolutionSummaryTracker.cs

Add a dummy SELECT command to the summary tracker so as to catch sqlite
database version mismatches when moving from v2 to v3.


------------------------------------------------------------------------
r4051 | dbera | 2007-10-14 20:09:37 -0400 (Sun, 14 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Makefile.am
   M /trunk/beagrep/Util/ChmFile.cs

Fix #430625. ChmFilter works with libchm.so.1 and not libchm.so.0. Is there a way to check in configure.in which version is installed (libchm does not come with a pkg-config file) ?

------------------------------------------------------------------------
r4049 | ymarcheg | 2007-10-14 11:18:53 -0400 (Sun, 14 Oct 2007) | 1 line
Changed paths:
   M /trunk/beagrep/ChangeLog
   M /trunk/beagrep/configure.in
   A /trunk/beagrep/po/oc.po

Updated Occitan translation
------------------------------------------------------------------------
r4047 | taofei | 2007-10-10 01:58:23 -0400 (Wed, 10 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/firefox-extension/chrome/content/beagrepOverlay.js
   M /trunk/beagrep/firefox-extension/chrome/content/beagrepPrefs.js
   M /trunk/beagrep/firefox-extension/chrome/locale/en-US/beagrep.properties
   M /trunk/beagrep/firefox-extension/chrome/locale/zh-CN/beagrep.properties

add beagrep.storage.directory option

------------------------------------------------------------------------
r4046 | dbera | 2007-10-09 23:16:12 -0400 (Tue, 09 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/WebServer.cs
   M /trunk/beagrep/beagrepd/beagrepd.in

Install the webinterface files in $sysconfdir/beagrep/webinterface. Use BEAGREP_WEBINTERFACE_DIR to find the webinterface files if running uninstalled. Hope there is no security problem in the way the env variable is being used.

------------------------------------------------------------------------
r4045 | dbera | 2007-10-09 22:43:56 -0400 (Tue, 09 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/WebServer.cs
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/query.html
   M /trunk/beagrep/beagrepd/webinterface/queryresult.xsl

Add links to shutdown beagrep. In future, we can also show basic process information about beagrep and index-helper.

------------------------------------------------------------------------
r4044 | dnylande | 2007-10-09 15:48:57 -0400 (Tue, 09 Oct 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/sv.po

sv.po: Updated Swedish translation
------------------------------------------------------------------------
r4043 | dbera | 2007-10-08 22:25:33 -0400 (Mon, 08 Oct 2007) | 1 line
Changed paths:
   M /trunk/beagrep/Util/Scheduler.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/LuceneQueryable.cs
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs

Turn off the sometimes useful but mostly irritating debug flags
------------------------------------------------------------------------
r4042 | dbera | 2007-10-08 17:24:37 -0400 (Mon, 08 Oct 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/FileAttributesStore_Sqlite.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/SnippetFu.cs
   M /trunk/beagrep/beagrepd/SqliteUtils.cs
   M /trunk/beagrep/beagrepd/TextCache.cs

A database is not suitable for storing files in general. A filesystem with fixed size block suffers from external fragmentation when lots of extremely small files are stored (e.g. the gzipped textcache files beagrep stores for snippets).
Here we try to balance in between by storing all files more than 4K (1 block size) on disk and others in the database. The content is the same gzipped-data as before. Drastically cuts down the storage space. Hopefully, the speed would not suffer much even with a million emails. The limit of 4K is arbitrary and can be tuned. In my home directory, most of the small text cache files were generated from emails and were well below 4K mark.
The old textcache database should be automatically purged. But nevertheless it would be a good idea to manually delete .beagrep and re-index everything.
Also, I removed some redundant function calls of TextCache and used bind-variables in sqlite wherever I could.

------------------------------------------------------------------------
r4041 | dbera | 2007-10-07 20:25:07 -0400 (Sun, 07 Oct 2007) | 2 lines
Changed paths:
   D /trunk/beagrep/Util/Firefox.cs
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/beagrepd/AssemblyInfo.cs
   D /trunk/beagrep/beagrepd/DownloadsMetadataQueryable
   M /trunk/beagrep/beagrepd/Makefile.am

Revert 4018-4021,4031 in trunk. Its best if the download information backend is solved for once and all in the branch and then merged to trunk.

------------------------------------------------------------------------
r4038 | jorgegonz | 2007-10-07 08:49:29 -0400 (Sun, 07 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated spanish translation

------------------------------------------------------------------------
r4035 | dbera | 2007-10-04 11:34:49 -0400 (Thu, 04 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/queryresult.xsl

webinterface: fixme:alias was changed to fixme:speakingto_alias

------------------------------------------------------------------------
r4034 | dbera | 2007-10-03 12:14:16 -0400 (Wed, 03 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Server.cs

No need to set up the httplistener-keep_alive watch if the listener is already closed. This reduces the web interface query fetching time by 5 seconds (the interval of the timer). Previously fetching query would take 5.1 seconds ... you do the rest of the math.

------------------------------------------------------------------------
r4032 | joeshaw | 2007-10-03 11:06:51 -0400 (Wed, 03 Oct 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/beagrepd/beagrepd-autostart.desktop
   M /trunk/beagrep/search/beagrep-search-autostart.desktop
   M /trunk/beagrep/search/beagrep-search.desktop.in.in
   M /trunk/beagrep/tools/beagrep-settings.desktop.in.in

Fix some spec-compliance issues with the .desktop files.  Based on a
patch from Stephane Loeuillet (leroutier@gmail.com).  Fixes bgo #481726.


------------------------------------------------------------------------
r4031 | kkubasik | 2007-10-03 07:35:59 -0400 (Wed, 03 Oct 2007) | 1 line
Changed paths:
   M /trunk/beagrep/Util/Firefox.cs
   M /trunk/beagrep/beagrepd/DownloadsMetadataQueryable/DownloadsMetadataQueryable.cs

Try to stop a runaway metadatabackend
------------------------------------------------------------------------
r4030 | llipka | 2007-10-03 06:27:32 -0400 (Wed, 03 Oct 2007) | 1 line
Changed paths:
   M /trunk/beagrep/doc
   M /trunk/beagrep/doc/api
   M /trunk/beagrep/epiphany-extension
   M /trunk/beagrep/search/DetailsPane.cs
   M /trunk/beagrep/search/Pages/Base.cs

Damn, backout some changes from the previous accidental commit. They still need work. :-(
------------------------------------------------------------------------
r4029 | llipka | 2007-10-03 06:09:25 -0400 (Wed, 03 Oct 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/NetworkServicesQueryable/NetworkServicesQueryable.cs
   M /trunk/beagrep/beagrepd/QueryDriver.cs
   M /trunk/beagrep/configure.in
   D /trunk/beagrep/search/ConversationCategory.cs
   A /trunk/beagrep/search/DetailsPane.cs (from /trunk/beagrep/search/Tiles/DetailsPane.cs:3998)
   M /trunk/beagrep/search/GroupView.cs
   A /trunk/beagrep/search/ListCategory.cs (from /trunk/beagrep/search/ConversationCategory.cs:3998)
   M /trunk/beagrep/search/Makefile.am
   M /trunk/beagrep/search/NotificationArea.cs
   M /trunk/beagrep/search/Pages/Base.cs
   M /trunk/beagrep/search/Pages/StartDaemon.cs
   M /trunk/beagrep/search/Search.cs
   D /trunk/beagrep/search/Tiles/DetailsPane.cs
   D /trunk/beagrep/search/Tiles/WidgetFu.cs
   M /trunk/beagrep/search/UIManager.cs
   A /trunk/beagrep/search/WidgetFu.cs (from /trunk/beagrep/search/Tiles/WidgetFu.cs:3998)

Disable Avahi by default until we get all the remaining issues fixed. Joe is right, this isn't consumer-ready yet.
------------------------------------------------------------------------
r4028 | llipka | 2007-10-03 06:02:53 -0400 (Wed, 03 Oct 2007) | 1 line
Changed paths:
   M /trunk/beagrep/BeagrepClient/Message.cs
   M /trunk/beagrep/BeagrepClient/Query.cs
   M /trunk/beagrep/BeagrepClient/QueryResponses.cs
   M /trunk/beagrep/BeagrepClient/Transport.cs
   M /trunk/beagrep/BeagrepClient/UnixTransport.cs

More client API cleanup.
------------------------------------------------------------------------
r4027 | llipka | 2007-10-03 05:59:42 -0400 (Wed, 03 Oct 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Hit.cs
   M /trunk/beagrep/beagrepd/PidginQueryable/PidginQueryable.cs

* beagrepd/PidginQueryable/PidginQueryable.cs - Don't add null properties in HitFilter
* BeagrepClient/Hit.cs - Don't allow adding null properties

This should fix a serialization problem when buddy icons were null.

------------------------------------------------------------------------
r4026 | llipka | 2007-10-03 05:56:20 -0400 (Wed, 03 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/Settings.cs
   M /trunk/beagrep/tools/settings.glade

Slightly update the settings UI, also add a base for enable/disable backends but keep it hidden until Bera's new configuration system comes in.

------------------------------------------------------------------------
r4025 | dbera | 2007-10-02 22:53:42 -0400 (Tue, 02 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/queryresult.xsl

Bookmarks now have a hittype=bookmark. Also add feeds to the links category.

------------------------------------------------------------------------
r4024 | dbera | 2007-10-02 22:51:14 -0400 (Tue, 02 Oct 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/firefox-extension/chrome/content/indexBookmark.js

Firefox-extension:
- No mimetype
- HitType=Bookmark (consistent with konq bookmark indexables)
- use DC elements for title, location and description

------------------------------------------------------------------------
r4023 | dbera | 2007-10-02 22:35:04 -0400 (Tue, 02 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js

Uncommit some bad changes.

------------------------------------------------------------------------
r4022 | dbera | 2007-10-02 22:03:28 -0400 (Tue, 02 Oct 2007) | 14 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/TODO
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/query.html
   M /trunk/beagrep/beagrepd/webinterface/queryresult.xsl

More changes from Nirbheek:
- The checkbox mechanism is now less ambiguous, and more usable.
- `autocomplete="off"` has been added to the checkbox form.
  `FIXME code` has been added into search() to "reset" the checkboxes
between searches.
   These are to prevent checkbox behaviour from going haywire till we
"remember" search filters between searches.
- Update TODO

Before its too late, change the source to follow the coding guideline. Except ... the functions all look better if c_style_underscored.

Reverse the [+] and [-]. [+] means collapsed, can be expanded, [-] means expanded, can be collapsed.
Change the (C) symbol to a real copyright one.

------------------------------------------------------------------------
r4021 | kkubasik | 2007-10-02 17:22:27 -0400 (Tue, 02 Oct 2007) | 1 line
Changed paths:
   M /trunk/beagrep/Util/Firefox.cs
   M /trunk/beagrep/beagrepd/DownloadsMetadataQueryable/DownloadsMetadataQueryable.cs

move fsattribute writting to postcommithook, as well as some more formatting cleanup
------------------------------------------------------------------------
r4020 | kkubasik | 2007-10-02 17:11:41 -0400 (Tue, 02 Oct 2007) | 1 line
Changed paths:
   M /trunk/beagrep/Util/Firefox.cs
   M /trunk/beagrep/beagrepd/DownloadsMetadataQueryable/DownloadsMetadataQueryable.cs

formatting cleanup
------------------------------------------------------------------------
r4019 | kkubasik | 2007-10-02 16:55:29 -0400 (Tue, 02 Oct 2007) | 1 line
Changed paths:
   A /trunk/beagrep/Util/Firefox.cs
   A /trunk/beagrep/beagrepd/DownloadsMetadataQueryable
   A /trunk/beagrep/beagrepd/DownloadsMetadataQueryable/DownloadsMetadataQueryable.cs

I suck ad adding new files
------------------------------------------------------------------------
r4018 | kkubasik | 2007-10-02 16:32:11 -0400 (Tue, 02 Oct 2007) | 1 line
Changed paths:
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/beagrepd/AssemblyInfo.cs
   M /trunk/beagrep/beagrepd/Makefile.am

Index where files were downloaded from, the property beagrep:Origin represents this
------------------------------------------------------------------------
r4017 | dbera | 2007-10-02 11:47:35 -0400 (Tue, 02 Oct 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js

From Nirbheek: Fix the incorrect behaviour of the category checkboxes. Now "All" hides and unhides stuff correctly.
There is still that "2-click step to display only images" though; I wonder if that can be reduced to "1-click"!

------------------------------------------------------------------------
r4016 | arunsr | 2007-10-02 11:19:16 -0400 (Tue, 02 Oct 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/Makefile.am

Slightly crazy fix for what appears to be automake non-determinism

This should handle the case where images/ was being built before Util/ and BeagrepClient/, causing a build failure.

------------------------------------------------------------------------
r4015 | dbera | 2007-10-02 11:17:43 -0400 (Tue, 02 Oct 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.css

Horizontal scrollbars are bad. Nirbheek's fix to auto-crop the long urls.

------------------------------------------------------------------------
r4014 | dbera | 2007-10-02 10:57:43 -0400 (Tue, 02 Oct 2007) | 19 lines
Changed paths:
   A /trunk/beagrep/beagrepd/webinterface/TODO
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/query.html
   M /trunk/beagrep/beagrepd/webinterface/queryresult.xsl

More changes from Nirbheek Chauhan.
- The category checkboxes finally work exactly like they're supposed to
(default.js:toggle_category, the javascript took surprisingly long),
Note that when hiding all the results, `<div id="results">` is set
to `display: none` instead of every category separately.
- Send out a "No Results" if there are no results (default.js:157)
- Each Hit can be individually shown/hidden (default.js:toggle_hit,
queryresult.xsl:92), this needs to be beautified a bit. Also, the way
in which toggle_hit shows/hides the Hit Data is dependant on the
structure of the Hit, is this okay? Or should it be changed?
(default.js:220,224)
- Have the topbar be shown only when a search is being done
- Slight formatting changes to the footer to bring the more important
things into focus ;) (query.html:id="footer")
- Convert the Beagrep Logo image into a link back to a blank search
page (query.html:67, default.css:41)
- Added a TODO file, it lists all that I know needs to be done, we
can add things to it to keep a track of what all needs to be done :)

------------------------------------------------------------------------
r4013 | kkubasik | 2007-10-02 09:10:09 -0400 (Tue, 02 Oct 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/IndexingServiceQueryable/IndexingServiceQueryable.cs
   M /trunk/beagrep/beagrepd/PropertyKeywordFu.cs

Change mapping to IndexingService backend, not universal
------------------------------------------------------------------------
r4012 | kkubasik | 2007-10-02 09:02:48 -0400 (Tue, 02 Oct 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/PropertyKeywordFu.cs

oops, missed this in my commit
------------------------------------------------------------------------
r4011 | kkubasik | 2007-10-02 08:51:31 -0400 (Tue, 02 Oct 2007) | 6 lines
Changed paths:
   M /trunk/beagrep/beagrepd/IndexingServiceQueryable/IndexingServiceQueryable.cs
   M /trunk/beagrep/beagrepd/PropertyKeywordFu.cs
   M /trunk/beagrep/search/Tiles/File.cs
   M /trunk/beagrep/search/Tiles/MailAttachment.cs
   M /trunk/beagrep/search/Tiles/MailMessage.cs
   M /trunk/beagrep/search/Tiles/TextDocument.cs
   M /trunk/beagrep/search/Tiles/WebHistory.cs

Add the following context menu options:
-Find By Author
-Find Messages From Sender
-Find Pages From Domain

to the relivent tiles in beagrep-search
------------------------------------------------------------------------
r4008 | dbera | 2007-09-30 09:36:48 -0400 (Sun, 30 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/WebServer.cs

Use a #ifdef switch in source to disable serving web-pages in the unlikely event we decide to ship before we decide to featurize, promote and install the web-ui (which is currently in the hands of a 'brave' soul).

------------------------------------------------------------------------
r3998 | dbera | 2007-09-28 21:02:20 -0400 (Fri, 28 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Conf.cs

Print only the error message if avahi is not running.

------------------------------------------------------------------------
r3996 | dbera | 2007-09-26 21:12:05 -0400 (Wed, 26 Sep 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/Filters/AssemblyInfo.cs
   A /trunk/beagrep/Filters/FilterTeX.cs
   M /trunk/beagrep/Filters/Makefile.am

Add TeX filter (thanks to auxsvr@yahoo.com).
Finally an end to bug #314844.

------------------------------------------------------------------------
r3995 | dooteo | 2007-09-25 15:03:05 -0400 (Tue, 25 Sep 2007) | 6 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/eu.po

2007-09-25  Inaki Larranaga  <dooteo@zundan.com>

        * eu.po: Fixed some typos.



------------------------------------------------------------------------
r3994 | dbera | 2007-09-25 08:20:41 -0400 (Tue, 25 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/ajax-loader.gif

This animated gif is nicer.

------------------------------------------------------------------------
r3993 | kkubasik | 2007-09-24 23:10:27 -0400 (Mon, 24 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterImage.cs
   M /trunk/beagrep/Filters/FilterPdf.cs
   M /trunk/beagrep/Util/F-Spot/MetadataStore.cs

Index that license metadata (CC only) from images and PDF files as well. Based on patch from bug #455669.

------------------------------------------------------------------------
r3992 | kkubasik | 2007-09-24 23:10:24 -0400 (Mon, 24 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterSvg.cs

Extract Creative Commons metadata from Svg files.

------------------------------------------------------------------------
r3991 | kkubasik | 2007-09-24 23:10:20 -0400 (Mon, 24 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterOle.cs

Extract CreativeCommons metadata from Ole files.

------------------------------------------------------------------------
r3990 | postlund | 2007-09-24 16:07:22 -0400 (Mon, 24 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/thunderbird-extension/content/beagrepMailWindow.xul

* Opening messages when Thunderbird is running should work now (#469276)

------------------------------------------------------------------------
r3989 | dbera | 2007-09-23 21:01:01 -0400 (Sun, 23 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/query.html

Move the javascript out to its own file before its too late.

------------------------------------------------------------------------
r3988 | dbera | 2007-09-23 20:43:58 -0400 (Sun, 23 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/WebServer.cs

Forgot to add the mapping for the animation.

------------------------------------------------------------------------
r3987 | dbera | 2007-09-23 18:07:44 -0400 (Sun, 23 Sep 2007) | 6 lines
Changed paths:
   A /trunk/beagrep/beagrepd/webinterface/ajax-loader.gif
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/query.html

This is fun :)
More changes.
- Add license info.
- Display a busy-animation gif (free to use created by http://ajaxloader.info) when searching
- Show the time taken to search and a top-bar which can be used (eventually) to quickly display only images/videos/documents/mails etc.

------------------------------------------------------------------------
r3986 | dbera | 2007-09-23 13:49:58 -0400 (Sun, 23 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/query.html
   M /trunk/beagrep/beagrepd/webinterface/queryresult.xsl

Add some UI changes to the web interface (mostly from Nirbheek Chauhan).

------------------------------------------------------------------------
r3985 | llipka | 2007-09-23 03:34:00 -0400 (Sun, 23 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/UnixTransport.cs

* UnixTransport.cs: Set the client to null after being disposed. This should fix the object used after being disposed messages.

------------------------------------------------------------------------
r3984 | dbera | 2007-09-22 19:06:12 -0400 (Sat, 22 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/Query.cs

Does not make sense for query string to contain words like "--xxx", so assume "--xxx" to be a mistyped option.

------------------------------------------------------------------------
r3983 | dbera | 2007-09-21 17:42:13 -0400 (Fri, 21 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/default.css
   M /trunk/beagrep/beagrepd/webinterface/query.html

Add some colours. The web search interface is looking somewhat better.

------------------------------------------------------------------------
r3982 | joeshaw | 2007-09-21 16:50:18 -0400 (Fri, 21 Sep 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/glue/xdgmime/xdgmimecache.c

Fix another xdgmimecache.c bug which calls into public code, causes a
refresh of the in-memory cache, and accesses the just-freed memory.
Part of bnc #326808 and bugs.freedesktop.org #12512.


------------------------------------------------------------------------
r3980 | dbera | 2007-09-21 10:13:32 -0400 (Fri, 21 Sep 2007) | 2 lines
Changed paths:
   A /trunk/beagrep/beagrepd/WebServer.cs

Add the WebServer class to manage the static pages for the web ui.

------------------------------------------------------------------------
r3979 | dbera | 2007-09-20 20:28:31 -0400 (Thu, 20 Sep 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/Server.cs
   A /trunk/beagrep/beagrepd/webinterface/beagrep-logo.png
   A /trunk/beagrep/beagrepd/webinterface/default.css
   A /trunk/beagrep/beagrepd/webinterface/default.js
   M /trunk/beagrep/beagrepd/webinterface/query.html
   A /trunk/beagrep/beagrepd/webinterface/title_bg.png

Add an external stylesheet (for people to experiment).
Move the static page handling to its own class WebServer.
Add some pictures (from beagrep-wiki; I supposed its ok to use them ?).

------------------------------------------------------------------------
r3978 | jorgegonz | 2007-09-20 05:53:13 -0400 (Thu, 20 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r3972 | dbera | 2007-09-18 16:40:05 -0400 (Tue, 18 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Tiles/Tile.cs

Fix a build break.

------------------------------------------------------------------------
r3971 | dooteo | 2007-09-17 15:06:09 -0400 (Mon, 17 Sep 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/eu.po

2007-09-17  Inaki Larranaga Murgoitio  <dooteo@zundan.com>

        * eu.po: Updated Basque translation.


------------------------------------------------------------------------
r3970 | jwendell | 2007-09-17 14:04:39 -0400 (Mon, 17 Sep 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/pt_BR.po

2007-09-17  Jonh Wendell  <jwendell@gnome.org>

	* pt_BR.po: Updated Brazilian Portuguese translation by Og Maciel.

------------------------------------------------------------------------
r3968 | dbera | 2007-09-17 01:18:11 -0400 (Mon, 17 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Hit.cs
   M /trunk/beagrep/BeagrepClient/Query.cs
   M /trunk/beagrep/beagrepd/LuceneCommon.cs
   M /trunk/beagrep/beagrepd/Server.cs
   M /trunk/beagrep/beagrepd/webinterface/queryresult.xsl
   M /trunk/beagrep/bludgeon/QueryFu.cs
   M /trunk/beagrep/tools/Query.cs
   M /trunk/libbeagrep/beagrep/beagrep-hit.c
   M /trunk/libbeagrep/beagrep/beagrep-hit.h
   M /trunk/libbeagrep/beagrep/beagrep-hits-added-response.c
   M /trunk/libbeagrep/beagrep/beagrep-private.h

Remove deprecated options from tools/Query.cs and deprecated Hit.MimeType, Hit.Source, Hit.Type. These properties of Hit are available from the propertylist and hence no need to be stored separately. Provide convenience wrappers for these properties (existing clients would work; also these are special properties so they deserve their own properties) and add a wrapper for beagrep:FileType property. Make the necessary changes in libbeagrep too.

------------------------------------------------------------------------
r3967 | dbera | 2007-09-17 00:03:35 -0400 (Mon, 17 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/webinterface/query.html
   M /trunk/beagrep/beagrepd/webinterface/queryresult.xsl

Show daemoninformationresponse in webbeagrep. Quick way to see status information. Some CSS help in adding some colours to the page will be most welcome.

------------------------------------------------------------------------
r3966 | jmas | 2007-09-16 14:59:49 -0400 (Sun, 16 Sep 2007) | 6 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/POTFILES.in
   M /trunk/beagrep/po/ca.po

2007-09-16  Jordi Mas <jmas@softcatala.org>

	* ca.po: Updated Catalan translation
	* POTFILES.in: Add NotificationArea.cs


------------------------------------------------------------------------
r3965 | jmas | 2007-09-16 06:50:17 -0400 (Sun, 16 Sep 2007) | 1 line
Changed paths:
   M /trunk/beagrep/search/NotificationArea.cs

Makes the Hide button localizable
------------------------------------------------------------------------
r3964 | ituohela | 2007-09-16 06:41:33 -0400 (Sun, 16 Sep 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/fi.po

Updated Finnish translation (spellchecked)
------------------------------------------------------------------------
r3963 | dbera | 2007-09-16 00:05:48 -0400 (Sun, 16 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Server.cs

Small fixes to the networking code, reduces exceptions and hanged beagrepd at exit. There is a possible leak though. Check the code marked with "FIXME FIXME FIXME".

------------------------------------------------------------------------
r3962 | dbera | 2007-09-15 14:24:18 -0400 (Sat, 15 Sep 2007) | 7 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterMail.cs
   M /trunk/beagrep/Util/Conf.cs
   M /trunk/beagrep/beagrepd/FilterFactory.cs
   M /trunk/beagrep/beagrepd/Flavor.cs
   M /trunk/beagrep/tools/Info.cs

Sometimes beagrepd (xdgmime) miscomputes the mimetype of maildir files; thus simply adding a maildir directory as a root does not work! Allow adding a path to conf to specifically request files under a subdirectory to be always treated as message/rfc822 files.
NOTE: This isnt a generic mail backend. E.g. if there are non maildir files under that root, those will also be indexed using mailfilter (the conf option takes an wildcarded-extension to allow only files with certain extension to be recognized as mail files, but that does leaves out lots of other cases). Also, if the maildir directories have more mails in subdirectories, they will be indexed, UNLESS, those subdirectories are hidden! Since the files backend crawler does not scan hidden directories, those files will not be indexed. A mail backend is always the best way to handle maildir files.

* Flavor.cs, FilterFactory.cs, Info.cs: Remove some properties. Beautify the string representation. Use a icomparer and return a sortedlist table instead of an unsorted hashtable. The comparer sorts the flavor with the larger wt first.
* Conf.cs: Add options to add/remove/list maildir directories.
* FilterMail.cs: Add the user specified maildir directories to its supported flavors.

------------------------------------------------------------------------
r3961 | leonardof | 2007-09-15 01:33:45 -0400 (Sat, 15 Sep 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/pt_BR.po

2007-09-15  Leonardo Ferreira Fontenelle  <leonardof@svn.gnome.org>

        * pt_BR.po: Brazilian Portuguese translation updated by Igor Pires
        Soares <igor@projetofedora.org>.

------------------------------------------------------------------------
r3960 | dbera | 2007-09-13 13:24:00 -0400 (Thu, 13 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/ExtractContent.cs

Make snowball related changes in ExtractContent.

------------------------------------------------------------------------
r3959 | dbera | 2007-09-13 13:16:53 -0400 (Thu, 13 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneCommon.cs

Use english-snowballstemmer as our default stemmer instead of porterstemmer.

------------------------------------------------------------------------
r3958 | dbera | 2007-09-13 12:40:56 -0400 (Thu, 13 Sep 2007) | 2 lines
Changed paths:
   D /trunk/beagrep/beagrepd/Snowball.Net/out

Oops. How did this go in :( ?

------------------------------------------------------------------------
r3957 | dbera | 2007-09-13 12:33:15 -0400 (Thu, 13 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am
   A /trunk/beagrep/beagrepd/Snowball.Net
   A /trunk/beagrep/beagrepd/Snowball.Net/AssemblyInfo.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/LICENSE.txt
   A /trunk/beagrep/beagrepd/Snowball.Net/Lucene.Net
   A /trunk/beagrep/beagrepd/Snowball.Net/Lucene.Net/Analysis
   A /trunk/beagrep/beagrepd/Snowball.Net/Lucene.Net/Analysis/Snowball
   A /trunk/beagrep/beagrepd/Snowball.Net/Lucene.Net/Analysis/Snowball/Package.html
   A /trunk/beagrep/beagrepd/Snowball.Net/Lucene.Net/Analysis/Snowball/SnowballAnalyzer.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/Lucene.Net/Analysis/Snowball/SnowballFilter.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/README.txt
   A /trunk/beagrep/beagrepd/Snowball.Net/SF
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Overview.html
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Among.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Ext
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Ext/DanishStemmer.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Ext/DutchStemmer.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Ext/EnglishStemmer.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Ext/FinnishStemmer.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Ext/FrenchStemmer.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Ext/German2Stemmer.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Ext/GermanStemmer.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Ext/ItalianStemmer.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Ext/KpStemmer.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Ext/LovinsStemmer.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Ext/NorwegianStemmer.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Ext/Package.html
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Ext/PorterStemmer.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Ext/PortugueseStemmer.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Ext/RussianStemmer.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Ext/SpanishStemmer.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Ext/SwedishStemmer.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/Package.html
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/SnowballProgram.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/SF/Snowball/TestApp.cs
   A /trunk/beagrep/beagrepd/Snowball.Net/out

Add Snowball.Net-2.0 from apache. This will allow us to correctly "stem" non-english words. Not used yet. I am not even sure what is the best way to use this. Can certain filetypes or data sources have information on what is the language of the data ?

------------------------------------------------------------------------
r3956 | dbera | 2007-09-13 11:47:55 -0400 (Thu, 13 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Conf.cs

Add a conf options for enabling/disabling network_search.

------------------------------------------------------------------------
r3955 | dbera | 2007-09-11 13:06:45 -0400 (Tue, 11 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am

Back out accidental commit; svn trunk should build fine now.

------------------------------------------------------------------------
r3954 | dbera | 2007-09-10 16:57:32 -0400 (Mon, 10 Sep 2007) | 2 lines
Changed paths:
   A /trunk/attic/beagrepd/IndexWebContent.cs (from /trunk/beagrep/beagrepd/IndexWebContent.cs:3937)
   A /trunk/attic/beagrepd/beagrep-index-url.8 (from /trunk/beagrep/beagrepd/beagrep-index-url.8:3937)
   D /trunk/beagrep/beagrepd/IndexWebContent.cs
   M /trunk/beagrep/beagrepd/Makefile.am
   D /trunk/beagrep/beagrepd/beagrep-index-url.8

Move beagrep-index-url to attic. Nobody uses this anymore (epiphany extension uses IndexingService).

------------------------------------------------------------------------
r3953 | dbera | 2007-09-10 16:33:38 -0400 (Mon, 10 Sep 2007) | 2 lines
Changed paths:
   A /trunk/attic/tools/Crawler.cs (from /trunk/beagrep/tools/Crawler.cs:3937)
   D /trunk/beagrep/tools/Crawler.cs

Move unused Crawler.cs to attic.

------------------------------------------------------------------------
r3950 | dbera | 2007-09-09 20:27:22 -0400 (Sun, 09 Sep 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Server.cs
   M /trunk/beagrep/beagrepd/Zeroconf.cs
   A /trunk/beagrep/beagrepd/webinterface
   A /trunk/beagrep/beagrepd/webinterface/query.html
   A /trunk/beagrep/beagrepd/webinterface/queryresult.xsl

Fun commit.
Beagrep search web-interface. Extremely basic, using ajax + xslt. Shows a huge list of hits with the names of properties (no snippets).
Turn on Util/Conf.cs:NetworkingConfig.service_enabled, start beagrepd with "--backend NetworkServices", then go to http://localhost:4000 and watch the magic. There might be lots of security and other problems, so yeah, this is disabled by default (and also not distributable right now).

------------------------------------------------------------------------
r3949 | llipka | 2007-09-09 16:48:52 -0400 (Sun, 09 Sep 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/beagrepd/ExtractContent.cs
   M /trunk/beagrep/beagrepd/PidginQueryable/PidginIndexableGenerator.cs
   M /trunk/beagrep/beagrepd/PidginQueryable/PidginQueryable.cs

* PidginQueryable/PidginIndexableGenerator.cs - Add the speaking to person's alias as a keyword so we can search for it.
* PidginQueryable/PidginQueryable.cs - Expose our buddy list reader.
* ExtractContent.cs - Show usage information if no args passed.

------------------------------------------------------------------------
r3948 | dnylande | 2007-09-08 08:47:11 -0400 (Sat, 08 Sep 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/sv.po

sv.po: Updated Swedish translation
------------------------------------------------------------------------
r3947 | dooteo | 2007-09-07 15:09:25 -0400 (Fri, 07 Sep 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/eu.po

2007-09-07  Inaki Larranaga Murgoitio  <dooteo@zundan.com>

        * eu.po: Supervised and fixed Basque translation.


------------------------------------------------------------------------
r3946 | ituohela | 2007-09-07 13:25:45 -0400 (Fri, 07 Sep 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/fi.po

Updated Finnish translation
------------------------------------------------------------------------
r3943 | dbera | 2007-09-06 08:18:48 -0400 (Thu, 06 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/beagrep-build-index.8

Typo. Noticed by Zhang Sen.

------------------------------------------------------------------------
r3942 | dooteo | 2007-09-05 14:46:08 -0400 (Wed, 05 Sep 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/eu.po

2007-08-05  Inaki Larranaga Murgoitio  <dooteo@<zundan.com>

        * eu.po: Erased Basque translation. Waiting to be revised.


------------------------------------------------------------------------
r3941 | jorgegonz | 2007-09-05 14:34:40 -0400 (Wed, 05 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r3940 | dbera | 2007-09-04 21:54:30 -0400 (Tue, 04 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/HtmlAgilityPack/HtmlDocument.cs

A nasty hack to distinguish between "http://abcd" and "foo // this is a comment" in a style, script or a noxhtml tag (all PCData tags). Workaround for #473744.

------------------------------------------------------------------------
r3939 | dbera | 2007-09-03 21:33:17 -0400 (Mon, 03 Sep 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/doc/api/BeagrepClient/Beagrep/EmptyResponse.xml
   D /trunk/beagrep/doc/api/BeagrepClient/Beagrep/ISnippetReader.xml
   D /trunk/beagrep/doc/api/BeagrepClient/Beagrep/PropertyList.xml
   D /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessageAttribute.xml
   D /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessageExecutor+AsyncResponse.xml
   D /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessageExecutor.xml
   D /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessageExecutorTypesAttribute.xml
   D /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessageTypesAttribute.xml
   D /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestWrapper.xml
   D /trunk/beagrep/doc/api/BeagrepClient/Beagrep/ResponseMessageTypesAttribute.xml
   D /trunk/beagrep/doc/api/BeagrepClient/Beagrep/ResponseWrapper.xml
   D /trunk/beagrep/doc/api/BeagrepClient/Beagrep/Versioned.xml
   M /trunk/beagrep/doc/api/BeagrepClient/index.xml

Remove the generated xml files for some of the types that clients should not have accessed to. Finish the documentation of the EmptyResponse class :).


------------------------------------------------------------------------
r3938 | dbera | 2007-09-03 20:43:22 -0400 (Mon, 03 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/doc/api/BeagrepClient/Beagrep/Query.xml
   M /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessage.xml
   M /trunk/beagrep/doc/api/BeagrepClient/Beagrep.xml
   M /trunk/beagrep/doc/api/BeagrepClient/index.xml

Do not generate documentation for certain classes, like the ones needed for serialization and the ones needed in beagrepd.

------------------------------------------------------------------------
r3934 | dbera | 2007-09-01 07:10:29 -0400 (Sat, 01 Sep 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/COPYING

Add jslib to our included list of subprojects with a non MIT license.

------------------------------------------------------------------------
r3933 | joeshaw | 2007-08-31 18:04:55 -0400 (Fri, 31 Aug 2007) | 9 lines
Changed paths:
   A /trunk/beagrep/acinclude.m4
   M /trunk/beagrep/configure.in
   A /trunk/beagrep/epiphany-extension
   A /trunk/beagrep/epiphany-extension/Makefile.am
   A /trunk/beagrep/epiphany-extension/beagrep.conf.sample
   A /trunk/beagrep/epiphany-extension/beagrep.ephy-extension.in
   A /trunk/beagrep/epiphany-extension/beagrep.py.in
   M /trunk/beagrep/po/POTFILES.in
   M /trunk/beagrep/po/POTFILES.skip
   M /trunk/beagrep/po/zh_CN.po

Include the new Epiphany extension by Tao Fei from his Summer of Code
project.

In addition, fix up the way we were detecting it in configure.in, and
include the epiphany.m4 file as acinclude.m4 so we can get the nice
macros.  Merge in the Chinese translations for the extension, and mark
it for translation.


------------------------------------------------------------------------
r3932 | joeshaw | 2007-08-31 18:01:47 -0400 (Fri, 31 Aug 2007) | 2 lines
Changed paths:
   A /trunk/attic/epiphany-extension (from /trunk/beagrep/epiphany-extension:3931)
   D /trunk/beagrep/epiphany-extension

Move the old epiphany extension into the attic

------------------------------------------------------------------------
r3930 | joeshaw | 2007-08-30 16:49:33 -0400 (Thu, 30 Aug 2007) | 1 line
Changed paths:
   M /trunk/beagrep/Util/Conf.cs

Don't index on battery by default
------------------------------------------------------------------------
r3928 | joeshaw | 2007-08-30 16:38:51 -0400 (Thu, 30 Aug 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterDOC.cs
   M /trunk/beagrep/Filters/FilterOle.cs

Chain up to the base class's DoClose() method in the word filter.
Should fix a fd leak.


------------------------------------------------------------------------
r3927 | joeshaw | 2007-08-30 16:27:53 -0400 (Thu, 30 Aug 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/Makefile.am
   M /trunk/beagrep/configure.in
   A /trunk/beagrep/firefox-extension (from /trunk/beagrep/mozilla-extension:3920)
   D /trunk/beagrep/mozilla-extension

Rename mozilla-extension to firefox-extension, since we make no
guarantees that it'll work on other browsers.

------------------------------------------------------------------------
r3926 | joeshaw | 2007-08-30 16:24:54 -0400 (Thu, 30 Aug 2007) | 2 lines
Changed paths:
   A /trunk/MAINTAINERS
   D /trunk/beagrep/MAINTAINERS

Add a new GNOME-style MAINTAINERS file

------------------------------------------------------------------------
r3924 | arunsr | 2007-08-30 15:11:54 -0400 (Thu, 30 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/Settings.cs

Fix bug 393456 -- incorrect checking of prefixes while adding paths for indexing

------------------------------------------------------------------------
r3923 | joeshaw | 2007-08-30 14:23:45 -0400 (Thu, 30 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/doc/api/Makefile.am

Get make -j working for the docs

------------------------------------------------------------------------
r3922 | joeshaw | 2007-08-30 14:14:50 -0400 (Thu, 30 Aug 2007) | 6 lines
Changed paths:
   M /trunk/beagrep/doc/api/Makefile.am
   A /trunk/beagrep/doc/api/beagrep-docs.source (from /trunk/beagrep/doc/api/beagrep.source:3920)
   D /trunk/beagrep/doc/api/beagrep.source

Some doc fixes.  Rename beagrep.source to beagrep-docs.source, since
that's what the Makefile.am references.  Fix monodocdir to be
$(prefix)/lib/monodoc/sources, since that's where they'll be installed,
rather than $(srcdir).


------------------------------------------------------------------------
r3920 | dbera | 2007-08-29 01:49:44 -0400 (Wed, 29 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Makefile.am
   M /trunk/beagrep/configure.in
   A /trunk/beagrep/doc/Makefile.am
   M /trunk/beagrep/doc/api/BeagrepClient/Beagrep/IndexingServiceRequest.xml
   M /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessage.xml
   M /trunk/beagrep/doc/api/BeagrepClient/index.xml
   A /trunk/beagrep/doc/api/Makefile.am
   A /trunk/beagrep/doc/api/beagrep.source

Add Makefile magic to automagically generate the html and update the C# apidocs skeleton. make update-docs and make update-html is the key! The docs are not distributed, they are far from complete. I couldnt quite make Makefile.am do what I wanted it to do, so some of the make targets do weird things.

------------------------------------------------------------------------
r3919 | dbera | 2007-08-28 23:16:48 -0400 (Tue, 28 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/mozilla-extension/README

Update readme.

------------------------------------------------------------------------
r3918 | dbera | 2007-08-28 23:10:11 -0400 (Tue, 28 Aug 2007) | 3 lines
Changed paths:
   D /trunk/beagrep/mozilla-extension/chrome/content/about.xul
   D /trunk/beagrep/mozilla-extension/chrome/content/beagrepAddDomainDialog.xul
   A /trunk/beagrep/mozilla-extension/chrome/content/beagrepAddFilter.js
   A /trunk/beagrep/mozilla-extension/chrome/content/beagrepAddFilter.xul
   D /trunk/beagrep/mozilla-extension/chrome/content/beagrepOverlay.css
   M /trunk/beagrep/mozilla-extension/chrome/content/beagrepOverlay.js
   M /trunk/beagrep/mozilla-extension/chrome/content/beagrepOverlay.xul
   M /trunk/beagrep/mozilla-extension/chrome/content/beagrepPrefs.js
   M /trunk/beagrep/mozilla-extension/chrome/content/beagrepPrefs.xul
   M /trunk/beagrep/mozilla-extension/chrome/content/contents.rdf
   A /trunk/beagrep/mozilla-extension/chrome/content/i18n.js
   A /trunk/beagrep/mozilla-extension/chrome/content/indexBookmark.js
   A /trunk/beagrep/mozilla-extension/chrome/content/indexLink.js
   A /trunk/beagrep/mozilla-extension/chrome/content/indexLink.xul
   A /trunk/beagrep/mozilla-extension/chrome/content/json.js
   A /trunk/beagrep/mozilla-extension/chrome/content/utils.js

Final merge from http://browser-extension-for-beagrep.googlecode.com/svn/trunk/ r39
(Check the googlecode svn repo for history)

------------------------------------------------------------------------
r3917 | dbera | 2007-08-28 23:07:20 -0400 (Tue, 28 Aug 2007) | 3 lines
Changed paths:
   D /trunk/beagrep/mozilla-extension/chrome/content/jslib/install
   D /trunk/beagrep/mozilla-extension/chrome/content/jslib/xul

Merge from http://browser-extension-for-beagrep.googlecode.com/svn/trunk/ r39
(Check the googlecode svn repo for history)

------------------------------------------------------------------------
r3916 | dbera | 2007-08-28 22:45:47 -0400 (Tue, 28 Aug 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/mozilla-extension/Makefile.am
   M /trunk/beagrep/mozilla-extension/chrome.manifest
   M /trunk/beagrep/mozilla-extension/install.rdf

Merge from http://browser-extension-for-beagrep.googlecode.com/svn/trunk/ r39
(Check the googlecode svn repo for history)

------------------------------------------------------------------------
r3915 | dbera | 2007-08-28 22:35:05 -0400 (Tue, 28 Aug 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/mozilla-extension/chrome/locale/en-US/beagrep.dtd
   M /trunk/beagrep/mozilla-extension/chrome/locale/en-US/beagrep.properties
   M /trunk/beagrep/mozilla-extension/chrome/locale/en-US/contents.rdf
   A /trunk/beagrep/mozilla-extension/chrome/locale/zh-CN
   A /trunk/beagrep/mozilla-extension/chrome/locale/zh-CN/beagrep.dtd
   A /trunk/beagrep/mozilla-extension/chrome/locale/zh-CN/beagrep.properties
   A /trunk/beagrep/mozilla-extension/chrome/locale/zh-CN/contents.rdf
   A /trunk/beagrep/mozilla-extension/chrome/skin/classic/overlay.css

Merge from http://browser-extension-for-beagrep.googlecode.com/svn/trunk/ r39
(Check the googlecode svn repo for history)

------------------------------------------------------------------------
r3914 | dbera | 2007-08-28 22:23:26 -0400 (Tue, 28 Aug 2007) | 2 lines
Changed paths:
   A /trunk/beagrep/mozilla-extension/chrome
   A /trunk/beagrep/mozilla-extension/chrome/content (from /trunk/beagrep/mozilla-extension/content:3912)
   A /trunk/beagrep/mozilla-extension/chrome/locale (from /trunk/beagrep/mozilla-extension/locale:3912)
   A /trunk/beagrep/mozilla-extension/chrome/skin (from /trunk/beagrep/mozilla-extension/skin:3912)
   D /trunk/beagrep/mozilla-extension/content
   D /trunk/beagrep/mozilla-extension/locale
   D /trunk/beagrep/mozilla-extension/skin

Rearrange directories for the new FF extension.

------------------------------------------------------------------------
r3913 | joeshaw | 2007-08-28 14:04:23 -0400 (Tue, 28 Aug 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/eu.po

2007-08-28  Joe Shaw  <joe@joeshaw.org>

	* eu.po: Updated Basque translation from Mikel Paskual 
	<mikel.paskual@gmail.com>
------------------------------------------------------------------------
r3912 | llipka | 2007-08-28 10:52:15 -0400 (Tue, 28 Aug 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs

Start the HTTP server only when configured to do so.
------------------------------------------------------------------------
r3911 | llipka | 2007-08-28 10:31:41 -0400 (Tue, 28 Aug 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Message.cs
   M /trunk/beagrep/BeagrepClient/Query.cs
   M /trunk/beagrep/BeagrepClient/Snippet.cs
   M /trunk/beagrep/beagrepd/RemoteIndexerRequest.cs

* Register the UnixTransport for all request messages by default.


------------------------------------------------------------------------
r3910 | llipka | 2007-08-28 06:27:09 -0400 (Tue, 28 Aug 2007) | 1 line
Changed paths:
   M /trunk/beagrep/thunderbird-extension

svn:ignore
------------------------------------------------------------------------
r3909 | llipka | 2007-08-28 06:22:20 -0400 (Tue, 28 Aug 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/Util/ImBuddy.cs
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/Makefile.am
   A /trunk/beagrep/beagrepd/PidginQueryable/PidginIndexableGenerator.cs (from /trunk/beagrep/beagrepd/PidginQueryable/PidginQueryable.cs:3908)
   M /trunk/beagrep/beagrepd/PidginQueryable/PidginQueryable.cs

* Add support for indexing both Gaim (~/.gaim) and Pidgin (~/.purple) logs - fixes (BGO #448718)
* Blacklist the .system directory from the indexable generator


------------------------------------------------------------------------
r3908 | joeshaw | 2007-08-27 14:27:10 -0400 (Mon, 27 Aug 2007) | 6 lines
Changed paths:
   M /trunk/beagrep/beagrepd/EvolutionDataServerQueryable/CalContainer.cs
   M /trunk/beagrep/beagrepd/EvolutionDataServerQueryable/EvolutionDataServerQueryable.cs
   M /trunk/beagrep/configure.in

Update for evolution-sharp API changes introduced in 0.13.3, patch from
JP Rosevear.  Now require evolution-sharp 0.13.3.  Handle
EntryPointNotFoundException in addition to DllNotFoundException when
starting up the e-d-s backend.


------------------------------------------------------------------------
r3903 | dbera | 2007-08-27 11:02:03 -0400 (Mon, 27 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileNameFilter.cs

Remove ~/tmp from the the file system backend's path. The path is hardcoded for now. Temporarily fixes 470203.

------------------------------------------------------------------------
r3893 | dbera | 2007-08-26 17:11:27 -0400 (Sun, 26 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/MasterDelete.cs

Change the usage message. Add FSQ remapping hack from DumpIndex.

------------------------------------------------------------------------
r3892 | dbera | 2007-08-26 16:58:32 -0400 (Sun, 26 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/MasterDelete.cs

LuceneCommon() takes index-name and not index-dir in constructor. Fix master-delete.

------------------------------------------------------------------------
r3891 | dbera | 2007-08-26 16:24:40 -0400 (Sun, 26 Aug 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/IndexingService.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/IndexingServiceQueryable/IndexingServiceQueryable.cs
   M /trunk/beagrep/beagrepd/LuceneFileQueryable.cs
   M /trunk/beagrep/beagrepd/LuceneQueryable.cs

IndexingServiceQueryable: Use generator to process both removal and addition requests.
LuceneQueryable.cs: Pass the number of items removed in the PostRemoveHook() callback. If no items were removed, do not add anything to the change notification data. Disallow Addition/Removal of data if read-only index.
FileSystemQueryable.cs, LuceneFileQueryable.cs: PostRemoveHook changes.
IndexingService.cs: Serialize "Source" as Element and not Attribute, consistent with libbeagrep.

------------------------------------------------------------------------
r3889 | postlund | 2007-08-26 07:04:49 -0400 (Sun, 26 Aug 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/thunderbird-extension/content/beagrep.xul
   D /trunk/beagrep/thunderbird-extension/content/beagrepMain.js
   M /trunk/beagrep/thunderbird-extension/content/beagrepService.js

* Removed beagrepMain.js, it has been deprecated for a while
* Added some debug data to help tracking down invalid accounts

------------------------------------------------------------------------
r3888 | kelemeng | 2007-08-25 14:35:03 -0400 (Sat, 25 Aug 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/hu.po

2007-08-25 Gabor Kelemen  <kelemeng@gnome.hu>

	* hu.po: Translation updated.


------------------------------------------------------------------------
r3887 | dnylande | 2007-08-25 07:43:52 -0400 (Sat, 25 Aug 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/sv.po

sv.po: Swedish translation updated
------------------------------------------------------------------------
r3886 | dbera | 2007-08-24 19:38:31 -0400 (Fri, 24 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/doc/api/BeagrepClient/Beagrep.xml
   M /trunk/beagrep/doc/api/BeagrepClient/index.xml

Some more documentation.

------------------------------------------------------------------------
r3885 | dbera | 2007-08-24 18:58:21 -0400 (Fri, 24 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/doc/api/BeagrepClient/Beagrep.xml
   M /trunk/beagrep/doc/api/BeagrepClient/index.xml

Add simple remarks and stuff. Generate the html by "cd api; monodocs2html -source:BeagrepClient/ -dest:html". Also, remember to use "-pretty -name:BeagrepClient" when running monodocer again.

------------------------------------------------------------------------
r3884 | dbera | 2007-08-24 18:10:29 -0400 (Fri, 24 Aug 2007) | 2 lines
Changed paths:
   A /trunk/beagrep/doc
   A /trunk/beagrep/doc/api
   A /trunk/beagrep/doc/api/BeagrepClient
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/DaemonInformationRequest.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/DaemonInformationResponse.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/EmptyResponse.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/ErrorResponse.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/FinishedResponse.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/Fragment.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/Hit.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/HitsAddedResponse.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/HitsSubtractedResponse.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/IIndexableGenerator.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/ISnippetReader.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/Indexable.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/IndexableFiltering.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/IndexableType.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/IndexingServiceRequest.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/IndexingStatus.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/IndexingStatusResponse.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/InformationalMessagesRequest+IndexingStatusDelegate.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/InformationalMessagesRequest.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/Message.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/OptimizeIndexesRequest.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/Property.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/PropertyList.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/PropertyType.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/Query+Finished.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/Query+HitsAdded.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/Query+HitsSubtracted.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/Query.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/QueryDomain.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/QueryPart.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/QueryPartLogic.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/QueryPart_DateRange.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/QueryPart_Human.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/QueryPart_Or.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/QueryPart_Property.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/QueryPart_Text.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/QueryPart_Uri.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/QueryPart_Wildcard.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/QueryableStatus.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/ReloadConfigRequest.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessage+AsyncResponseHandler.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessage+Closed.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessage.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessageAttribute.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessageExecutor+AsyncResponse.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessageExecutor.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessageExecutorTypesAttribute.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestMessageTypesAttribute.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/RequestWrapper.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/ResponseMessage.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/ResponseMessageException.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/ResponseMessageTypesAttribute.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/ResponseWrapper.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/SearchTermResponse.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/ShutdownRequest.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/SnippetLine.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/SnippetList.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/SnippetRequest.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/SnippetResponse.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/Transport+AsyncResponseDelegate.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/Transport+ClosedDelegate.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/Transport.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/UnixTransport.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep/Versioned.xml
   A /trunk/beagrep/doc/api/BeagrepClient/Beagrep.xml
   A /trunk/beagrep/doc/api/BeagrepClient/index.xml

Add C# API docs (currently just the skeletons). Hopefully the important ones will be filled sooner than later.

------------------------------------------------------------------------
r3883 | dbera | 2007-08-24 18:05:37 -0400 (Fri, 24 Aug 2007) | 2 lines
Changed paths:
   A /trunk/attic/doc (from /trunk/beagrep/doc:3875)
   D /trunk/beagrep/doc

Move beagrep/doc to attic. Those are not relevant anymore.

------------------------------------------------------------------------
r3880 | dbera | 2007-08-23 10:26:50 -0400 (Thu, 23 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/thunderbird-extension/content/beagrepMessenger.xul
   M /trunk/beagrep/thunderbird-extension/content/beagrepService.js
   M /trunk/beagrep/thunderbird-extension/locale/en-US/strings.properties

Merge r3866,3867 from soc thunderbird branch.

------------------------------------------------------------------------
r3879 | ituohela | 2007-08-23 00:45:52 -0400 (Thu, 23 Aug 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/fi.po

Updated Finnish translation
------------------------------------------------------------------------
r3878 | joeshaw | 2007-08-21 16:45:41 -0400 (Tue, 21 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/tools/beagrep-crawl-system.in

Add a debug variable to beagrep-crawl-system and a bunch of conditional output,
making it easier to debug any problems that might happen during the cron job
------------------------------------------------------------------------
r3877 | dbera | 2007-08-21 15:23:39 -0400 (Tue, 21 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/SnippetFu.cs

Since the snippets now do sent contain the html tags, limit their length to 200 characters instead of 400.

------------------------------------------------------------------------
r3876 | joeshaw | 2007-08-21 15:00:14 -0400 (Tue, 21 Aug 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Message.cs
   M /trunk/beagrep/BeagrepClient/Snippet.cs

Add some value checking in the Message code to make sure there's a
transport for the message, and check to make sure the response value coming
back from the server isn't null, as that's not allowed for sync requests.
Register the UnixTransport in the SnippetRequest, so that beagrep-query
--verbose works again
------------------------------------------------------------------------
r3875 | dbera | 2007-08-21 13:43:50 -0400 (Tue, 21 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Snippet.cs

Take care if any backend return null snippetreader. Both while serializing and deserializing.

------------------------------------------------------------------------
r3874 | joeshaw | 2007-08-21 13:05:13 -0400 (Tue, 21 Aug 2007) | 2 lines
Changed paths:
   D /trunk/beagrep/BeagrepClient/Client.cs
   A /trunk/beagrep/BeagrepClient/Transport.cs (from /trunk/beagrep/BeagrepClient/Client.cs:3873)
   A /trunk/beagrep/BeagrepClient/UnixTransport.cs (from /trunk/beagrep/BeagrepClient/Client.cs:3873)

And re-add Transport.cs and UnixTransport.cs, having copied them back over.
Remove Client.cs again
------------------------------------------------------------------------
r3873 | joeshaw | 2007-08-21 13:03:06 -0400 (Tue, 21 Aug 2007) | 3 lines
Changed paths:
   A /trunk/beagrep/BeagrepClient/Client.cs (from /trunk/beagrep/BeagrepClient/Client.cs:3871)
   D /trunk/beagrep/BeagrepClient/Transport.cs
   D /trunk/beagrep/BeagrepClient/UnixTransport.cs

Temporarily remove Transport.cs and UnixTransport.cs and restore Client.cs so
I can svn copy them and maintain the commit history.  Second half of that
upcoming.
------------------------------------------------------------------------
r3872 | llipka | 2007-08-21 09:11:56 -0400 (Tue, 21 Aug 2007) | 18 lines
Changed paths:
   D /trunk/beagrep/BeagrepClient/Client.cs
   M /trunk/beagrep/BeagrepClient/Makefile.am
   M /trunk/beagrep/BeagrepClient/Message.cs
   M /trunk/beagrep/BeagrepClient/Query.cs
   A /trunk/beagrep/BeagrepClient/Transport.cs
   A /trunk/beagrep/BeagrepClient/UnixTransport.cs
   M /trunk/beagrep/ImLogViewer/ImLogViewer.cs
   M /trunk/beagrep/ImLogViewer/ImLogWindow.cs
   M /trunk/beagrep/Util/Timeline.cs
   M /trunk/beagrep/Util/VersionFu.cs
   M /trunk/beagrep/beagrepd/AssemblyInfo.cs
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/Makefile.am
   A /trunk/beagrep/beagrepd/NetworkServicesQueryable
   A /trunk/beagrep/beagrepd/NetworkServicesQueryable/HttpTransport.cs
   A /trunk/beagrep/beagrepd/NetworkServicesQueryable/NetworkServicesQueryable.cs
   M /trunk/beagrep/beagrepd/Queryable.cs
   M /trunk/beagrep/beagrepd/RemoteIndexer.cs
   M /trunk/beagrep/beagrepd/RemoteIndexerRequest.cs
   M /trunk/beagrep/beagrepd/Server.cs
   M /trunk/beagrep/bludgeon/Daemon.cs
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/search/UIManager.cs
   M /trunk/beagrep/tools/Info.cs
   M /trunk/beagrep/tools/Query.cs

First batch of network services refactoring and clean-up.

Current state of things:
* Automatically enable network services if avahi-sharp is available
  at configure time. (on Joe's request)
  Although we don't necessarily need Avahi for network services to
  work - will need to look into this.
* Cleanup our client API and make some changes, while preserving API
  compability.
  The primary change is that each RequestMessage can register it's own
  transport type (will be very easy to add DBusTransport in the future)
* Add a skeleton NetworkServicesQueryable which will forward our local
  queries to the remote services.

Some parts of the code are still a mess. I promise to clean them up
soon.


------------------------------------------------------------------------
r3871 | joeshaw | 2007-08-20 17:13:29 -0400 (Mon, 20 Aug 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/po/ChangeLog
   A /trunk/beagrep/po/eu.po

2007-08-20  Joe Shaw  <joe@joeshaw.org>

	* eu.po: Added Basque translation from Mikel Paskual
	<mikel.paskual@gmail.com>
------------------------------------------------------------------------
r3869 | dbera | 2007-08-20 08:45:27 -0400 (Mon, 20 Aug 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Snippet.cs
   M /trunk/beagrep/beagrepd/ExternalMetadataQueryable.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/IQueryable.cs
   M /trunk/beagrep/beagrepd/KonversationQueryable/KonversationQueryable.cs
   M /trunk/beagrep/beagrepd/KopeteQueryable/KopeteQueryable.cs
   M /trunk/beagrep/beagrepd/LuceneQueryable.cs
   M /trunk/beagrep/beagrepd/PidginQueryable/PidginQueryable.cs
   M /trunk/beagrep/beagrepd/Queryable.cs
   M /trunk/beagrep/beagrepd/SnippetExecutor.cs
   M /trunk/beagrep/beagrepd/SnippetFu.cs
   M /trunk/beagrep/beagrepd/SnippetTest.cs
   M /trunk/beagrep/beagrepd/StaticQueryable.cs

Rework snippeting.
* Instead of sending a formatted string, break a snippet into logical components and send them without any formatting. See BeagrepClient/Snippet.c:SnippetList for the new structure. No formatting done at beagrepd's end, but enough hint left in the snippet structure for clients to be able to do their own formatting. Also, return a line number for each line that produced a snippet. Pretty much all thte information beagrepd could have about snippets are sent back.
* Provide a 'string snippet' property that returns a formatted string for backward compatibility. Existing clients should work ok.
* Partly rewrite snippet extraction, minimizing rescanning the same string more than once. As a side effect, the actual extraction of the snippets is delayed till the serialization of snippet_response. GetSnippet simply returns a SnippetReader, which when serialized, extracts the string on-the-fly.
* Add a "FullText" option to SnippetRequest, which if set, returns the entire (cached) text of the Hit. For performance reason, marking of query terms in the full text is disabled (for now, maybe forever). Surprisingly, a largest possible textcache file takes almost no extra time to reach the client.
------------------------------------------------------------------------
r3868 | aflinta | 2007-08-19 14:37:02 -0400 (Sun, 19 Aug 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/pl.po

2007-08-19  Artur Flinta  <aflinta@svn.gnome.org>

	* pl.po: Updated Polish translation by GNOME PL Team.


------------------------------------------------------------------------
r3865 | jorgegonz | 2007-08-18 17:31:29 -0400 (Sat, 18 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r3862 | dbera | 2007-08-18 10:39:55 -0400 (Sat, 18 Aug 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterMail.cs
   M /trunk/beagrep/beagrepd/KMailQueryable/KMailIndexer.cs
   M /trunk/beagrep/beagrepd/KMailQueryable/KMailQueryable.cs

* FilterMail.cs: Add the primary message part we index to textcache. Useful for html emails.
* KMailQueryable: Remove the custom GetSnippet since emails are now textcache-d. TextCache maildir emails too. Remove a corner case check that should never happen.

------------------------------------------------------------------------
r3859 | ituohela | 2007-08-16 11:02:39 -0400 (Thu, 16 Aug 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/fi.po

Updated Finnish translation
------------------------------------------------------------------------
r3858 | adamw | 2007-08-15 21:38:17 -0400 (Wed, 15 Aug 2007) | 6 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/POTFILES.in

2007-08-15  Adam Weinberger  <adamw@gnome.org>

	* POTFILES.in: Added/removed missing files.



------------------------------------------------------------------------
r3857 | joeshaw | 2007-08-15 15:20:37 -0400 (Wed, 15 Aug 2007) | 14 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterMail.cs
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/ExtractContent.cs

Fix a problem where processing large number of maildir files on the file
system would cause file descriptors to run out.  The glib-sharp binding
(at least up until 2.10) batches and unrefs disposed managed wrappers in
a glib timeout, which requires that a main loop be running.  While
beagrepd has one, beagrep-build-index and beagrep-extract-content do not.
So work around the problem by running "while
(GLib.MainContext.Pending()) GLib.MainContext.Iteration();" after
processing a batch of files, to ensure that wrappers are collected.
This fixes bgo #466891.

In the mail filter, log GMime initialization error messages better and
don't continuously retry to reinitialize.  If it's broken, it's going to
stay broken and we don't need to flood the logs with this.

------------------------------------------------------------------------
r3856 | joeshaw | 2007-08-15 09:47:53 -0400 (Wed, 15 Aug 2007) | 1 line
Changed paths:
   M /trunk/beagrep/Filters/FilterMail.cs

Back out change from r3855; it wasn't right
------------------------------------------------------------------------
r3855 | llipka | 2007-08-15 06:41:15 -0400 (Wed, 15 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterMail.cs

* Filters/FilterMail.cs - Fix a bug when we were leaking file descriptors. Patch by Enrico Minack (bgo #466891).

------------------------------------------------------------------------
r3853 | dnylande | 2007-08-09 15:31:43 -0400 (Thu, 09 Aug 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/sv.po

sv.po: Swedish translation updated
------------------------------------------------------------------------
r3852 | llipka | 2007-08-09 12:50:32 -0400 (Thu, 09 Aug 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Client.cs
   M /trunk/beagrep/BeagrepClient/Message.cs
   M /trunk/beagrep/BeagrepClient/Query.cs
   M /trunk/beagrep/beagrepd/Zeroconf.cs
   M /trunk/beagrep/bludgeon/QueryFu.cs
   M /trunk/beagrep/search/Search.cs
   M /trunk/beagrep/search/Tiles/MailAttachment.cs
   M /trunk/beagrep/tools/Query.cs

* Start cleaning-up a fixing stuff that breaks API.
* Temporarily add a workaround that broke querying if a registered remote client was offline.

------------------------------------------------------------------------
r3851 | llipka | 2007-08-09 11:24:30 -0400 (Thu, 09 Aug 2007) | 13 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Client.cs
   M /trunk/beagrep/BeagrepClient/Makefile.am
   M /trunk/beagrep/BeagrepClient/Message.cs
   M /trunk/beagrep/BeagrepClient/Query.cs
   A /trunk/beagrep/Util/AvahiBrowser.cs (from /branches/beagrep-networking-branch/Util/AvahiBrowser.cs:3850)
   M /trunk/beagrep/Util/Conf.cs
   M /trunk/beagrep/Util/Makefile.am
   A /trunk/beagrep/Util/NetworkService.cs (from /branches/beagrep-networking-branch/Util/NetworkService.cs:3850)
   A /trunk/beagrep/Util/Password.cs (from /branches/beagrep-networking-branch/Util/Password.cs:3850)
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/IndexHelper/IndexHelper.cs
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/RemoteIndexer.cs
   M /trunk/beagrep/beagrepd/Server.cs
   A /trunk/beagrep/beagrepd/Zeroconf.cs (from /branches/beagrep-networking-branch/beagrepd/Zeroconf.cs:3850)
   M /trunk/beagrep/bludgeon/Daemon.cs
   M /trunk/beagrep/bludgeon/QueryFu.cs
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/search/GroupView.cs
   M /trunk/beagrep/search/Makefile.am
   M /trunk/beagrep/search/NotificationArea.cs
   M /trunk/beagrep/search/Search.cs
   M /trunk/beagrep/tools/Info.cs
   M /trunk/beagrep/tools/Makefile.am
   M /trunk/beagrep/tools/Query.cs
   M /trunk/beagrep/tools/Settings.cs
   M /trunk/beagrep/tools/settings.glade

Merging the 'beagrep-networking-branch' to 'trunk'.

Network services are now queried and results appear in both - beagrep-query and beagrep search. To be able to query remote services you have to register with them. You can do this using either beagrep-config or beagrep-settings. Both tools use Avahi to discover available services and provide them in fashionly manner.

To build with network services, don't forget to pass the --enable-avahi argument to configure/autogen.sh.

To make the Beagrep daemon provide network services you have to launch it with the --network argument. Other than that everything is automated. But remember, you have to register it on the client side from which you are querying (as mentioned above).

I have tested the code, but as always keep your eyes open for exceptions and crashes (which are rare, but I have seen some - most likely from Avahi - but could not reproduce them).

Best of luck! :-)


------------------------------------------------------------------------
r3843 | postlund | 2007-08-07 08:50:09 -0400 (Tue, 07 Aug 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/thunderbird-extension/Makefile.am
   D /trunk/beagrep/thunderbird-extension/components/BeagrepIndexer.idl
   M /trunk/beagrep/thunderbird-extension/components/BeagrepIndexer.js
   D /trunk/beagrep/thunderbird-extension/components/BeagrepQueue.idl
   M /trunk/beagrep/thunderbird-extension/components/BeagrepQueue.js
   D /trunk/beagrep/thunderbird-extension/components/BeagrepSettings.idl
   M /trunk/beagrep/thunderbird-extension/components/BeagrepSettings.js
   M /trunk/beagrep/thunderbird-extension/content/beagrepIndexer.js
   M /trunk/beagrep/thunderbird-extension/content/beagrepMailWindow.xul
   M /trunk/beagrep/thunderbird-extension/content/beagrepMessenger.xul
   M /trunk/beagrep/thunderbird-extension/content/beagrepPrefs.xul
   M /trunk/beagrep/thunderbird-extension/content/beagrepQueue.js
   M /trunk/beagrep/thunderbird-extension/content/beagrepService.js
   M /trunk/beagrep/thunderbird-extension/content/beagrepSettings.js
   M /trunk/beagrep/thunderbird-extension/content/beagrepUnindex.js
   M /trunk/beagrep/thunderbird-extension/content/beagrepUnindex.xul
   A /trunk/beagrep/thunderbird-extension/content/beagrepUtils.js
   M /trunk/beagrep/thunderbird-extension/content/contents.rdf
   M /trunk/beagrep/thunderbird-extension/install.rdf
   M /trunk/beagrep/thunderbird-extension/locale/en-US/strings.properties

* Add missing locale strings
* No external libraries/tools are now needed to build the Thunderbird extension/backend

------------------------------------------------------------------------
r3842 | arunsr | 2007-08-07 02:20:18 -0400 (Tue, 07 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/configure.in

Fix minor typo

------------------------------------------------------------------------
r3840 | llipka | 2007-08-06 10:43:05 -0400 (Mon, 06 Aug 2007) | 1 line
Changed paths:
   M /trunk/beagrep/glue/Makefile.am
   D /trunk/beagrep/glue/eggtrayicon.c
   D /trunk/beagrep/glue/eggtrayicon.h

Get rid of eggtrayicon, unfortunately eggkeybinder still remains for the time being.
------------------------------------------------------------------------
r3839 | llipka | 2007-08-06 10:07:08 -0400 (Mon, 06 Aug 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/ImLogViewer/ImLogWindow.cs
   M /trunk/beagrep/Util/ImBuddy.cs
   M /trunk/beagrep/beagrepd/PidginQueryable/PidginQueryable.cs

* beagrep/Util/ImBuddy.cs - Refactor our buddy list reading code and rebrand Gaim to Pidgin.
* beagrep/ImLogViewer/ImLogWindow.cs - Related to previous.
* beagrep/beagrepd/PidginQueryable/PidginQueryable.cs - Related to previous.


------------------------------------------------------------------------
r3838 | llipka | 2007-08-06 09:00:58 -0400 (Mon, 06 Aug 2007) | 1 line
Changed paths:
   M /trunk/beagrep/thunderbird-extension

Quiet.
------------------------------------------------------------------------
r3837 | llipka | 2007-08-06 04:53:11 -0400 (Mon, 06 Aug 2007) | 1 line
Changed paths:
   M /trunk/beagrep/BeagrepClient/Client.cs

Fix bug 463803 – beagrep-search fails if daemon is restarted
------------------------------------------------------------------------
r3836 | postlund | 2007-08-06 04:41:42 -0400 (Mon, 06 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Makefile.am
   A /trunk/beagrep/Util/Thunderbird.cs

Add missing file from Thunderbird SoC code.

------------------------------------------------------------------------
r3835 | llipka | 2007-08-06 04:00:53 -0400 (Mon, 06 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Tiles/MailMessage.cs
   M /trunk/beagrep/search/Tiles/RSSFeed.cs

Fix a broken build introduced by r3830.

------------------------------------------------------------------------
r3834 | dbera | 2007-08-05 20:22:55 -0400 (Sun, 05 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/ThunderbirdQueryable/ThunderbirdQueryable.cs
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/thunderbird-extension/Makefile.am
   M /trunk/beagrep/thunderbird-extension/components/BeagrepCommandLine.js
   M /trunk/beagrep/thunderbird-extension/components/BeagrepQueue.idl
   M /trunk/beagrep/thunderbird-extension/content/beagrepMailWindow.xul
   M /trunk/beagrep/thunderbird-extension/content/beagrepQueue.js
   M /trunk/beagrep/thunderbird-extension/content/beagrepService.js
   M /trunk/beagrep/thunderbird-extension/install.rdf
   M /trunk/beagrep/thunderbird-extension/locale/en-US/strings.properties

Merge r3833 from the tbrd-soc07 branch. The thunderbird project is officially completed now (ahem ... except bugfixes and ... possibly future work).

------------------------------------------------------------------------
r3832 | dbera | 2007-08-05 12:59:22 -0400 (Sun, 05 Aug 2007) | 2 lines
Changed paths:
   A /trunk/attic/Util
   A /trunk/attic/Util/Mork.cs (from /trunk/beagrep/Util/Mork.cs:3816)
   A /trunk/attic/Util/Thunderbird.cs (from /trunk/beagrep/Util/Thunderbird.cs:3816)
   D /trunk/beagrep/Util/Mork.cs
   D /trunk/beagrep/Util/Thunderbird.cs

Remove old TBird code to attic.

------------------------------------------------------------------------
r3831 | dbera | 2007-08-05 12:53:25 -0400 (Sun, 05 Aug 2007) | 2 lines
Changed paths:
   A /trunk/beagrep/beagrepd/ThunderbirdQueryable (from /branches/beagrep-tbird-soc07/beagrepd/ThunderbirdQueryable:3826)

Merge from tbird-soc07 branch r3824.

------------------------------------------------------------------------
r3830 | dbera | 2007-08-05 12:52:47 -0400 (Sun, 05 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Makefile.am
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/search/Tiles/MailAttachment.cs
   M /trunk/beagrep/search/Tiles/MailMessage.cs
   M /trunk/beagrep/search/Tiles/RSSFeed.cs
   A /trunk/beagrep/thunderbird-extension (from /branches/beagrep-tbird-soc07/thunderbird-extension:3826)

Merge from tbird-soc07 branch r3824.

------------------------------------------------------------------------
r3829 | dbera | 2007-08-05 12:37:44 -0400 (Sun, 05 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am

Merge changes to Makefile.am from the tbird-sco07 branch.

------------------------------------------------------------------------
r3828 | dbera | 2007-08-05 12:32:02 -0400 (Sun, 05 Aug 2007) | 2 lines
Changed paths:
   A /trunk/attic/beagrepd/ThunderbirdQueryable (from /trunk/beagrep/beagrepd/ThunderbirdQueryable:3816)
   D /trunk/beagrep/beagrepd/ThunderbirdQueryable

Move thunderbirdqueryable to attic. New thunderbirdqueryable from the GSoC2007 project is coming.

------------------------------------------------------------------------
r3827 | dbera | 2007-08-05 12:10:39 -0400 (Sun, 05 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneQueryingDriver.cs

Based on r2755, we want the index data to be really case-insensitive. Modify the property-query to take into account this fact.

------------------------------------------------------------------------
r3826 | dbera | 2007-08-03 11:38:41 -0400 (Fri, 03 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterMail.cs

Back out accidental commit.

------------------------------------------------------------------------
r3825 | dbera | 2007-08-03 11:34:15 -0400 (Fri, 03 Aug 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterMail.cs
   M /trunk/beagrep/Filters/FilterPdf.cs

Adds support for PDF keywords in PDF filter. Allows ":" in PDF metadata. Fixes #463003. Patch from Joseph Benavidez.

------------------------------------------------------------------------
r3817 | leonardof | 2007-07-29 00:08:43 -0400 (Sun, 29 Jul 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/pt_BR.po

2007-07-29  Leonardo Ferreira Fontenelle  <leonardof@svn.gnome.org>

	* pt_BR.po: Brazilian Portuguese translation updated by Raul Pereira.

------------------------------------------------------------------------
r3814 | joeshaw | 2007-07-26 15:07:58 -0400 (Thu, 26 Jul 2007) | 1 line
Changed paths:
   M /trunk/beagrep/configure.in

Bump epiphany version number to add 2.18 support
------------------------------------------------------------------------
r3813 | dnloreto | 2007-07-25 18:05:35 -0400 (Wed, 25 Jul 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/ChangeLog.cvs
   M /trunk/beagrep/configure.in

------------------------------------------------------------------------
r3697 | joeshaw | 2007-05-08 15:09:07 -0400 (Tue, 08 May 2007) | 1 line
Changed paths:
   M /branches/beagrep-0.2.16/configure.in
------------------------------------------------------------------------
r3812 | dnloreto | 2007-07-25 18:02:41 -0400 (Wed, 25 Jul 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   A /trunk/beagrep/po/pt.po

2007-07-25  Duarte Loreto <happyguy_pt@hotmail.com>

	* pt.po: Added Portuguese translation by Filipe Gomes
	<filipefgomes@gmail.com>.
------------------------------------------------------------------------
r3810 | rdejus | 2007-07-19 05:55:04 -0400 (Thu, 19 Jul 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/lv.po

2007-07-19  Raivis Dejus  <orvils@gmail.com>

        * lv.po: Updated Latvian Translation.

------------------------------------------------------------------------
r3801 | dbera | 2007-07-08 11:39:51 -0400 (Sun, 08 Jul 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/DigikamTags.cs

Fixes #454656. Fix the sql string used to retrieve tag information from digikam db.

------------------------------------------------------------------------
r3793 | leonardof | 2007-07-03 19:09:20 -0400 (Tue, 03 Jul 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/pt_BR.po

2007-07-03  Leonardo Ferreira Fontenelle  <leonardof@svn.gnome.org>

	* pt_BR.po: Updated Brazilian Portuguese translation by Igor Pires
	Soares <igor@projetofedora.org>. Closes bug #453231.

------------------------------------------------------------------------
r3792 | llipka | 2007-06-27 07:18:55 -0400 (Wed, 27 Jun 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/search/Tiles/WebHistory.cs

* search/Tiles/WebHistory.cs - If dc:title is null or empty show the the host name as the title.



------------------------------------------------------------------------
r3789 | pgeyleg | 2007-06-21 00:34:13 -0400 (Thu, 21 Jun 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/dz.po

Updated dzongkha translation
------------------------------------------------------------------------
r3786 | joeshaw | 2007-06-15 14:38:02 -0400 (Fri, 15 Jun 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterMusic.cs
   M /trunk/beagrep/Filters/TagLib/Ape/Footer.cs
   M /trunk/beagrep/Filters/TagLib/Ape/Item.cs
   M /trunk/beagrep/Filters/TagLib/Ape/Tag.cs
   M /trunk/beagrep/Filters/TagLib/Asf/ContentDescriptionObject.cs
   M /trunk/beagrep/Filters/TagLib/Asf/ContentDescriptor.cs
   M /trunk/beagrep/Filters/TagLib/Asf/ExtendedContentDescriptionObject.cs
   M /trunk/beagrep/Filters/TagLib/Asf/File.cs
   M /trunk/beagrep/Filters/TagLib/Asf/FilePropertiesObject.cs
   M /trunk/beagrep/Filters/TagLib/Asf/Guid.cs
   M /trunk/beagrep/Filters/TagLib/Asf/HeaderObject.cs
   M /trunk/beagrep/Filters/TagLib/Asf/Object.cs
   M /trunk/beagrep/Filters/TagLib/Asf/StreamPropertiesObject.cs
   M /trunk/beagrep/Filters/TagLib/Asf/Tag.cs
   M /trunk/beagrep/Filters/TagLib/Asf/UnknownObject.cs
   M /trunk/beagrep/Filters/TagLib/ByteVector.cs
   M /trunk/beagrep/Filters/TagLib/ByteVectorList.cs
   M /trunk/beagrep/Filters/TagLib/CombinedTag.cs
   M /trunk/beagrep/Filters/TagLib/CorruptFileException.cs
   D /trunk/beagrep/Filters/TagLib/Debugger.cs
   M /trunk/beagrep/Filters/TagLib/File.cs
   D /trunk/beagrep/Filters/TagLib/File.cs.orig
   M /trunk/beagrep/Filters/TagLib/FileTypes.cs
   M /trunk/beagrep/Filters/TagLib/Flac/Block.cs
   M /trunk/beagrep/Filters/TagLib/Flac/BlockHeader.cs
   M /trunk/beagrep/Filters/TagLib/Flac/File.cs
   M /trunk/beagrep/Filters/TagLib/Flac/Picture.cs
   M /trunk/beagrep/Filters/TagLib/Flac/StreamHeader.cs
   M /trunk/beagrep/Filters/TagLib/Genres.cs
   M /trunk/beagrep/Filters/TagLib/ICodec.cs
   M /trunk/beagrep/Filters/TagLib/Id3v1/StringHandler.cs
   M /trunk/beagrep/Filters/TagLib/Id3v1/Tag.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/ExtendedHeader.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Footer.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/FrameFactory.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/FrameHeader.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/FrameTypes.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/AttachedPictureFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/CommentsFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/GeneralEncapsulatedObjectFrame.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/Frames/MusicCdIdentifierFrame.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/Frames/PlayCountFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/PrivateFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/RelativeVolumeFrame.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/Frames/SynchronizedLyricsFrame.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/Frames/TermsOfUseFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/TextIdentificationFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/UniqueFileIdentifierFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/UnknownFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Frames/UnsynchronisedLyricsFrame.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Header.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/SynchData.cs
   M /trunk/beagrep/Filters/TagLib/Id3v2/Tag.cs
   D /trunk/beagrep/Filters/TagLib/IntList.cs
   M /trunk/beagrep/Filters/TagLib/ListBase.cs
   M /trunk/beagrep/Filters/TagLib/Mpc/File.cs
   M /trunk/beagrep/Filters/TagLib/Mpc/StreamHeader.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg/AudioFile.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg/AudioHeader.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg/File.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg/VideoHeader.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg/XingHeader.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/AppleTag.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Box.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/BoxFactory.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/BoxHeader.cs
   D /trunk/beagrep/Filters/TagLib/Mpeg4/BoxList.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/BoxTypes.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/AppleAdditionalInfoBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/AppleAnnotationBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/AppleDataBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/AppleElementaryStreamDescriptor.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/AppleItemListBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/FullBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoAudioSampleEntry.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoChunkLargeOffsetBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoChunkOffsetBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoFreeSpaceBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoHandlerBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoMetaBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoMovieHeaderBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoSampleDescriptionBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoSampleEntry.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoSampleTableBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoUserDataBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoVisualSampleEntry.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/UnknownBox.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/File.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/FileParser.cs
   M /trunk/beagrep/Filters/TagLib/NonContainer/EndTag.cs
   M /trunk/beagrep/Filters/TagLib/NonContainer/File.cs
   M /trunk/beagrep/Filters/TagLib/NonContainer/StartTag.cs
   M /trunk/beagrep/Filters/TagLib/NonContainer/Tag.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/Bitstream.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/Codec.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/Codecs/Theora.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/Codecs/Vorbis.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/File.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/GroupedComment.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/Page.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/PageHeader.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/Paginator.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/XiphComment.cs
   M /trunk/beagrep/Filters/TagLib/Picture.cs
   M /trunk/beagrep/Filters/TagLib/Properties.cs
   A /trunk/beagrep/Filters/TagLib/ReadOnlyByteVector.cs
   M /trunk/beagrep/Filters/TagLib/Riff/AviHeaderList.cs
   M /trunk/beagrep/Filters/TagLib/Riff/AviStream.cs
   M /trunk/beagrep/Filters/TagLib/Riff/BitmapInfoHeader.cs
   M /trunk/beagrep/Filters/TagLib/Riff/DivXTag.cs
   M /trunk/beagrep/Filters/TagLib/Riff/File.cs
   M /trunk/beagrep/Filters/TagLib/Riff/InfoTag.cs
   M /trunk/beagrep/Filters/TagLib/Riff/List.cs
   M /trunk/beagrep/Filters/TagLib/Riff/ListTag.cs
   M /trunk/beagrep/Filters/TagLib/Riff/MovieIdTag.cs
   M /trunk/beagrep/Filters/TagLib/Riff/WaveFormatEx.cs
   M /trunk/beagrep/Filters/TagLib/StringList.cs
   M /trunk/beagrep/Filters/TagLib/SupportedMimeType.cs
   M /trunk/beagrep/Filters/TagLib/Tag.cs
   M /trunk/beagrep/Filters/TagLib/TagLib.sources
   M /trunk/beagrep/Filters/TagLib/UnsupportedFormatException.cs
   M /trunk/beagrep/Filters/TagLib/WavPack/File.cs
   M /trunk/beagrep/Filters/TagLib/WavPack/StreamHeader.cs
   M /trunk/beagrep/configure.in

Update internal copy of taglib-sharp to 2.0.0, fix our music filter for
the changed APIs, and update the external build requirement to 2.0.
Fixes bgo #447502.


------------------------------------------------------------------------
r3785 | llipka | 2007-06-13 10:01:07 -0400 (Wed, 13 Jun 2007) | 2 lines
Changed paths:
   A /trunk/attic/beagrepd/BugzillaDriver.cs (from /trunk/beagrep/beagrepd/BugzillaDriver.cs:3780)
   D /trunk/beagrep/beagrepd/BugzillaDriver.cs

Move the Bugzilla driver to the attic.

------------------------------------------------------------------------
r3784 | llipka | 2007-06-13 08:44:50 -0400 (Wed, 13 Jun 2007) | 1 line
Changed paths:
   M /trunk/beagrep/ImLogViewer/ImLogViewer.cs
   M /trunk/beagrep/Util/VersionFu.cs
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/ExtractContent.cs
   M /trunk/beagrep/beagrepd/IndexWebContent.cs
   M /trunk/beagrep/search/Search.cs
   M /trunk/beagrep/tools/Config.cs
   M /trunk/beagrep/tools/Info.cs
   M /trunk/beagrep/tools/Query.cs
   M /trunk/beagrep/tools/Shutdown.cs

Add --version command line arguments to all the programs we ship (finally fixes bgo #405371)
------------------------------------------------------------------------
r3783 | llipka | 2007-06-13 07:14:04 -0400 (Wed, 13 Jun 2007) | 1 line
Changed paths:
   M /trunk/beagrep/Util/Makefile.am
   A /trunk/beagrep/Util/VersionFu.cs
   M /trunk/beagrep/beagrepd/AssemblyInfo.cs
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/beagrepd.in

Add infrastructure for version information per assembly using assembly attributes. (bgo #405371)
------------------------------------------------------------------------
r3782 | llipka | 2007-06-13 07:08:51 -0400 (Wed, 13 Jun 2007) | 1 line
Changed paths:
   M /trunk/beagrep/AUTHORS

Update email address.
------------------------------------------------------------------------
r3781 | llipka | 2007-06-13 05:49:47 -0400 (Wed, 13 Jun 2007) | 10 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Hit.cs
   M /trunk/beagrep/Filters/AssemblyInfo.cs
   M /trunk/beagrep/Filters/FilterKopeteLog.cs
   M /trunk/beagrep/beagrepd/KopeteQueryable/KopeteQueryable.cs
   M /trunk/beagrep/beagrepd/PidginQueryable/PidginQueryable.cs
   M /trunk/beagrep/search/Tiles/IMLog.cs

Thanks to Aviram Jenik sending me his Kopete logs, I have managed to iron out all the remaining issues.

* search/Tiles/IMLog.cs - No longer rely only on fixme:starttime property but use the Timestamp if its not available.
* beagrepd/PidginQueryable/PidginQueryable.cs - Updates.
* beagrepd/KopeteQueryable/KopeteQueryable.cs - Implement a KopeteSnippetReader so that we get beautiful snippets and not XML garbage.
* Filters/AssemblyInfo.cs - Joe's nitpick ;-)
* Filters/FilterKopeteLog.cs - The parsing was acutally broken due to a typo. We now extract both properties and the text itself in DoPullProperties so we can get it all out of the log file in one read.
* BeagrepClient/Hit.cs - If we access a multi-property hit with the hits indexer print out the keyname so its easier to debug.


------------------------------------------------------------------------
r3779 | llipka | 2007-06-12 05:07:56 -0400 (Tue, 12 Jun 2007) | 7 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterPidginLog.cs
   M /trunk/beagrep/ImLogViewer/ImLog.cs
   M /trunk/beagrep/Util/StringFu.cs
   M /trunk/beagrep/beagrepd/PidginQueryable/PidginQueryable.cs
   M /trunk/beagrep/beagrepd/TextCache.cs
   M /trunk/beagrep/search/Tiles/Tile.cs

* Fix HTML escaping in snippets for Pidgin logs.
* Fix HTML escpaing in beagrep-search for snippets in general.
* Typo fixed in StringFu.ConvertSpecialEntities () which wasn't working at all.
* Dropped in a workaround for our TextCache code where reader.Peek () on our GZiped stream actually advances by one character.
* Fix HTML escpaing in IM viewer (bgo #439578)


------------------------------------------------------------------------
r3778 | llipka | 2007-06-12 04:49:21 -0400 (Tue, 12 Jun 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Category.cs
   M /trunk/beagrep/search/GroupView.cs

* Hide categories in beagrep-search when they become empty (bgo #406006)

------------------------------------------------------------------------
r3774 | jorgegonz | 2007-06-07 17:12:11 -0400 (Thu, 07 Jun 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/es.po

Updated Spanish translation

------------------------------------------------------------------------
r3773 | joeshaw | 2007-06-07 16:26:03 -0400 (Thu, 07 Jun 2007) | 7 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FileSystemQueryable/DirectoryModel.cs

Now that we provide ample warning about inotify watch availability, no
longer recrawl directories that don't have inotify watches.  This fixes
the problem where Beagrep aggressively recrawls the same directories over
and over when the user has insufficient inotify watches and the
screensaver is active.


------------------------------------------------------------------------
r3772 | joeshaw | 2007-06-05 17:49:12 -0400 (Tue, 05 Jun 2007) | 6 lines
Changed paths:
   M /trunk/beagrep/beagrepd/IndexHelper/IndexHelper.cs
   M /trunk/beagrep/beagrepd/IndexHelper/RemoteIndexerExecutor.cs
   M /trunk/beagrep/beagrepd/LuceneIndexingDriver.cs

Send along the ContentUri in addition to the DisplayUri for displaying
what file is being filtered, so that if a non-file document (like a web
page or email) is giving a filter problems, make it easier to find the
temporary file on the file system.


------------------------------------------------------------------------
r3771 | joeshaw | 2007-06-05 16:37:57 -0400 (Tue, 05 Jun 2007) | 6 lines
Changed paths:
   M /trunk/beagrep/Util/Inotify.cs

Read the number of inotify watches out of
/proc/sys/fs/inotify/max_user_watches and print out a warning if they're
below 32k, since that will cause problems with larger home directories
(and updates from other applications!)


------------------------------------------------------------------------
r3770 | llipka | 2007-06-05 11:37:48 -0400 (Tue, 05 Jun 2007) | 1 line
Changed paths:
   M /trunk/beagrep/ImLogViewer/ImLog.cs
   D /trunk/beagrep/beagrepd/PidginQueryable/GaimLogQueryable.cs
   A /trunk/beagrep/beagrepd/PidginQueryable/PidginQueryable.cs (from /trunk/beagrep/beagrepd/PidginQueryable/GaimLogQueryable.cs:3769)

Final updates from previous commit.
------------------------------------------------------------------------
r3769 | llipka | 2007-06-05 11:31:58 -0400 (Tue, 05 Jun 2007) | 6 lines
Changed paths:
   M /trunk/beagrep/Filters/AssemblyInfo.cs
   D /trunk/beagrep/Filters/FilterImLog.cs
   A /trunk/beagrep/Filters/FilterKopeteLog.cs
   A /trunk/beagrep/Filters/FilterPidginLog.cs
   M /trunk/beagrep/Filters/Makefile.am
   A /trunk/beagrep/ImLogViewer/ImLog.cs (from /trunk/beagrep/Util/ImLog.cs:3763)
   M /trunk/beagrep/ImLogViewer/ImLogViewer.cs
   M /trunk/beagrep/ImLogViewer/ImLogWindow.cs
   M /trunk/beagrep/ImLogViewer/Makefile.am
   A /trunk/beagrep/Util/HtmlRemovingReader.cs
   D /trunk/beagrep/Util/ImLog.cs
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/Util/StringFu.cs
   M /trunk/beagrep/beagrepd/AssemblyInfo.cs
   D /trunk/beagrep/beagrepd/GaimLogQueryable
   M /trunk/beagrep/beagrepd/KonversationQueryable/KonversationQueryable.cs
   M /trunk/beagrep/beagrepd/KopeteQueryable/KopeteQueryable.cs
   M /trunk/beagrep/beagrepd/Makefile.am
   A /trunk/beagrep/beagrepd/PidginQueryable (from /trunk/beagrep/beagrepd/GaimLogQueryable:3763)
   M /trunk/beagrep/search/Tiles/IMLog.cs

* Move IM log parsing into individual filters. This should significantly improve performance. (bgo #322669)
* Rename Gaim queryable to Pidgin
* Move HtmlRemovingReader into its own file, since it really rocks and deserves to be treated this way :-)
* Remove ImLog.cs from Beagrep.Util and make it only an ImLogViewer thing.


------------------------------------------------------------------------
r3768 | joeshaw | 2007-06-04 16:48:13 -0400 (Mon, 04 Jun 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/ManageIndex.cs

Allow filterver.dat in beagrep-manage-index
------------------------------------------------------------------------
r3767 | joeshaw | 2007-06-04 14:30:00 -0400 (Mon, 04 Jun 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneIndexingDriver.cs

Clean up the output of indexed docs a little bit in the logs
------------------------------------------------------------------------
r3766 | joeshaw | 2007-06-04 13:18:07 -0400 (Mon, 04 Jun 2007) | 6 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs

Fix a refactoring bug which set the wrong DisplayUri
(file:///home/joe/foo.txtfoo.txt instead of file:///home/joe/foo.txt)
and broke removal notification in live queries.  Thanks Lukas for
identifying this.


------------------------------------------------------------------------
r3765 | joeshaw | 2007-06-04 13:03:44 -0400 (Mon, 04 Jun 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/QueryExecutor.cs

If there is no result in the QueryExecutor, don't try to deref it.
------------------------------------------------------------------------
r3764 | jfriedl | 2007-06-04 11:48:37 -0400 (Mon, 04 Jun 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/cs.po

2007-06-04  Jakub Friedl  <jfriedl@suse.cz>

  * cs.po: Updated Czech translation.


------------------------------------------------------------------------
r3763 | llipka | 2007-06-04 05:27:53 -0400 (Mon, 04 Jun 2007) | 1 line
Changed paths:
   A /trunk/beagrep/search/Tiles/Task.cs

Add Task tile.
------------------------------------------------------------------------
r3762 | dnylande | 2007-06-04 02:16:37 -0400 (Mon, 04 Jun 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/sv.po

sv.po: Updated Swedish translation
------------------------------------------------------------------------
r3761 | llipka | 2007-06-03 17:21:00 -0400 (Sun, 03 Jun 2007) | 8 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Makefile.am
   M /trunk/beagrep/ImLogViewer/ImLogWindow.cs
   M /trunk/beagrep/Util/LineReader.cs
   M /trunk/beagrep/Util/UriFu.cs
   M /trunk/beagrep/Util/XKeybinder.cs
   M /trunk/beagrep/beagrepd/EvolutionDataServerQueryable/CalContainer.cs
   M /trunk/beagrep/beagrepd/EvolutionDataServerQueryable/EvolutionDataServerQueryable.cs
   M /trunk/beagrep/beagrepd/Flavor.cs
   M /trunk/beagrep/search/Makefile.am
   M /trunk/beagrep/search/Search.cs
   M /trunk/beagrep/search/Tiles/AssemblyInfo.cs
   M /trunk/beagrep/search/Tiles/Calendar.cs
   M /trunk/beagrep/search/Tiles/Note.cs
   M /trunk/beagrep/search/Tiles/TileActivator.cs
   M /trunk/beagrep/search/Tiles/Utils.cs
   M /trunk/beagrep/search/Tiles/WebHistory.cs
   M /trunk/beagrep/search/Tray/TrayIcon.cs

* Wrap the preview text in the IM viewer if its too long (bgo #439577)
* Searches with underscores in beagrep-search tray history no longer appear as hotkeys (bgo #440899)
* Refactor the EvolutionDataServer queryable
* Evolution notes now have a Note hit type and appear alongside with Tomboy notes in beagrep-search (bgo #436036 and bgo #436039)
* Evolution tasks have a Task hit type and have their own tile in beagrep-search (bgo #436040)
* Fix compile warnings and remove duplicate includes from Makefiles


------------------------------------------------------------------------
r3760 | joeshaw | 2007-05-31 15:08:31 -0400 (Thu, 31 May 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs

Bail out if we're running under sabayon.  bgo #439177
------------------------------------------------------------------------
r3759 | joeshaw | 2007-05-31 14:05:59 -0400 (Thu, 31 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/Makefile.am
   A /trunk/beagrep/Filters/TagLib (from /trunk/beagrep/Filters/TagLib:3726)
   M /trunk/beagrep/configure.in

Add taglib-sharp back into the tree, to eliminate the requirement of an
external dependency
------------------------------------------------------------------------
r3758 | jovanna | 2007-05-27 17:35:24 -0400 (Sun, 27 May 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/mk.po

2007-05-27 Jovan Naumovski <jovanna@svn.gnome.org> *mk.po: Updated Macedonian translation.
------------------------------------------------------------------------
r3757 | leonardof | 2007-05-27 01:29:40 -0400 (Sun, 27 May 2007) | 6 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/pt_BR.po

2007-05-27  Leonardo Ferreira Fontenelle  <leonardof@svn.gnome.org>

	* pt_BR.po: Updated Brazilian Portuguese translation by Raul Pereira
	<contato@raulpereira.com> and myself (Leonardo Fontenelle
	<leo.fontenelle@gmail.com>). Closes bug #440066.

------------------------------------------------------------------------
r3756 | dbera | 2007-05-22 17:42:47 -0400 (Tue, 22 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterMusic.cs

*sigh* taglib-sharp API change.

------------------------------------------------------------------------
r3755 | joeshaw | 2007-05-22 14:08:26 -0400 (Tue, 22 May 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/beagrepd/ExtractContent.cs

Display generated indexables in beagrep-extract-content in the order in
which they're generated, not the order in which they'll be indexed.
Simplifies the code a lot, and matches the previous output.

------------------------------------------------------------------------
r3754 | jfriedl | 2007-05-22 11:25:42 -0400 (Tue, 22 May 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/cs.po

2007-05-22  Jakub Friedl  <jfriedl@suse.cz>

  * cs.po: Updated Czech translation.


------------------------------------------------------------------------
r3753 | joeshaw | 2007-05-21 15:09:15 -0400 (Mon, 21 May 2007) | 6 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FileSystemQueryable/DirectoryModel.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/DirectoryState.cs

Back out the PossiblyClean changes (r3476) -- we need to keep it for
non-inotify systems or systems which run out of inotify watches.  We'll
need to look at being smarter about crawling for changes in these cases,
rather than continuously and repeatedly doing it.


------------------------------------------------------------------------
r3752 | dbera | 2007-05-19 21:14:29 -0400 (Sat, 19 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/SystemInformation.cs
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs

There is no point in calling the battery status callback more frequently than acpi info is checked.

------------------------------------------------------------------------
r3751 | dbera | 2007-05-19 19:38:39 -0400 (Sat, 19 May 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterArchive.cs

Get the childindexables from the Archive filter on demand instead of storing them all at the beginning.
For single entry archives, use the beagrep:ExactFileName property if available, since the FileInfo can point to a temporary file.

------------------------------------------------------------------------
r3750 | dbera | 2007-05-19 19:36:47 -0400 (Sat, 19 May 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Filter.cs

Close the streams early, when Finished() or Error() is called. It is illegal to read from the streams or add text or property after calling Finished()/Error().
Also, don't use a static stringbuilder anymore, more than one filter can co-exist.

------------------------------------------------------------------------
r3749 | dbera | 2007-05-19 19:33:28 -0400 (Sat, 19 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Indexable.cs

Set the source of child indexables. Previously this was set by the daemon in AddIndexable.

------------------------------------------------------------------------
r3748 | dbera | 2007-05-18 22:49:39 -0400 (Fri, 18 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterArchive.cs

Oops.. accidental commit.

------------------------------------------------------------------------
r3747 | dbera | 2007-05-18 22:47:03 -0400 (Fri, 18 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterArchive.cs
   M /trunk/beagrep/Filters/FilterIgnore.cs

Add mimetype for .db files to FilterIgnore.

------------------------------------------------------------------------
r3746 | dbera | 2007-05-18 21:14:24 -0400 (Fri, 18 May 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FileSystemQueryable/DirectoryModel.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/DirectoryState.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs

Based on historical evidences, PossiblyClean was introduced to handle forceful Recrawl*(); in all of those cases, the state is explicitly set to PossiblyClean, and Compare() does the right thing for such directories. Drop the usage of PossiblyClean in all other cases, namely when a directory is asked to be marked as clean, _always_ mark it as clean (in other words, in DoneCrawlingOneDirectory(dir), the dir should _always_ be marked as clean). This is prevent any kind of recrawls.

In short, fix the ever looping of the directories if inotify limit is reached!

------------------------------------------------------------------------
r3745 | dbera | 2007-05-18 19:55:42 -0400 (Fri, 18 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileCrawlTask.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/TreeCrawlTask.cs

Remove an unnecessary call to GetNextDirectoryToCrawl() since the crawl tasks themselves know what directory they are crawling at that time.

------------------------------------------------------------------------
r3744 | dbera | 2007-05-18 17:58:54 -0400 (Fri, 18 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneQueryable.cs

Add a comment about why ignoring null receipt in LuceneQueryable.Flush() is a very bad idea.

------------------------------------------------------------------------
r3743 | dbera | 2007-05-18 15:35:40 -0400 (Fri, 18 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterArchive.cs

Close the stream when done. Since archives do not contain any data, there is no need to keep the stream open.

------------------------------------------------------------------------
r3742 | joeshaw | 2007-05-18 15:17:46 -0400 (Fri, 18 May 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/IndexHelper/IndexHelper.cs

Add heap-shot support to the helper process
------------------------------------------------------------------------
r3741 | dbera | 2007-05-18 14:50:01 -0400 (Fri, 18 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Filter.cs
   M /trunk/beagrep/beagrepd/LuceneIndexingDriver.cs

Since generated indexables are now responsibility of the filter, explicitly delete them during cleanup (when shutdown is requested).

------------------------------------------------------------------------
r3740 | dbera | 2007-05-17 17:58:04 -0400 (Thu, 17 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterDocbook.cs
   M /trunk/beagrep/Filters/FilterText.cs

Ignore legal.xml files in docbook filter.

------------------------------------------------------------------------
r3739 | dbera | 2007-05-17 17:23:12 -0400 (Thu, 17 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/IndexerReceipts.cs
   M /trunk/beagrep/beagrepd/LuceneIndexingDriver.cs
   M /trunk/beagrep/beagrepd/MasterDelete.cs

Send the number of documents deleted in the indexerremovedreceipt and use this number to report success or failure in master-delete.

------------------------------------------------------------------------
r3738 | dbera | 2007-05-17 16:26:35 -0400 (Thu, 17 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FilterFactory.cs

Always print an error message if filtering fails, otherwise users have no clue whats going on.

------------------------------------------------------------------------
r3737 | dbera | 2007-05-17 16:18:11 -0400 (Thu, 17 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterDocbook.cs

Print an error when filtering docbook fails.

------------------------------------------------------------------------
r3736 | dbera | 2007-05-17 14:35:13 -0400 (Thu, 17 May 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/Util/PathFinder.cs
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/FileAttributesStore.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/FilterFactory.cs
   M /trunk/beagrep/beagrepd/IndexerRequest.cs

Avoid crash in IndexerRequest.

Implement mozilla style filterver.dat to store last_mtime of filters. This would prevent unnecessary trying to filter if filters has not changed since last run and the file was not filtered before.

------------------------------------------------------------------------
r3735 | dbera | 2007-05-17 10:18:02 -0400 (Thu, 17 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FilterFactory.cs
   M /trunk/beagrep/beagrepd/IndexHelper/RemoteIndexerExecutor.cs

Remove dead code from pre-better-lucene time.

------------------------------------------------------------------------
r3734 | dbera | 2007-05-16 13:36:10 -0400 (Wed, 16 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/IndexHelper/IndexHelper.cs

Change the message a bit for SIGUSR2.

------------------------------------------------------------------------
r3733 | dbera | 2007-05-16 12:39:59 -0400 (Wed, 16 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneIndexingDriver.cs

Oops. Send a PausedReceipt after indexing some of the indexer generated indexables, there could be more to index.

------------------------------------------------------------------------
r3732 | jfriedl | 2007-05-16 08:27:22 -0400 (Wed, 16 May 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/cs.po

2007-05-16  Jakub Friedl  <jfriedl@suse.cz>

  * cs.po: Updated Czech translation.


------------------------------------------------------------------------
r3731 | dbera | 2007-05-15 18:15:56 -0400 (Tue, 15 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Indexable.cs
   M /trunk/beagrep/beagrepd/ExtractContent.cs
   M /trunk/beagrep/beagrepd/Filter.cs
   M /trunk/beagrep/beagrepd/IndexerReceipts.cs
   M /trunk/beagrep/beagrepd/LuceneCommon.cs
   M /trunk/beagrep/beagrepd/LuceneIndexingDriver.cs

Minor copyright updates that I previously missed.

------------------------------------------------------------------------
r3730 | dbera | 2007-05-15 18:10:52 -0400 (Tue, 15 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/ExtractContent.cs

Updated extract-content to work with the new child indexables.

------------------------------------------------------------------------
r3729 | dbera | 2007-05-15 16:15:46 -0400 (Tue, 15 May 2007) | 11 lines
Changed paths:
   M /trunk/beagrep/BeagrepClient/Indexable.cs
   M /trunk/beagrep/Filters/FilterDocbook.cs
   M /trunk/beagrep/Filters/FilterMail.cs
   M /trunk/beagrep/Filters/FilterMonodoc.cs
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/ExtractContent.cs
   M /trunk/beagrep/beagrepd/Filter.cs
   M /trunk/beagrep/beagrepd/IndexHelper/RemoteIndexerExecutor.cs
   M /trunk/beagrep/beagrepd/IndexerReceipts.cs
   M /trunk/beagrep/beagrepd/IndexerRequest.cs
   M /trunk/beagrep/beagrepd/LuceneIndexingDriver.cs
   M /trunk/beagrep/beagrepd/LuceneQueryable.cs

Mega commit! Child indexables are handled entirely at the indexhelper, only scheduled by the daemon and infrastructure for filters to generate child indexables on demand (hint: zero-copy archive indexing).

- todo - child-indexable generating filters need to take advantage of the streaming child indexables

Things broken - 
* ExtractContent wrt child indexables! (And some other places marked by "FIXME FIXME FIXME")
* count of number of items indexed is _possibly_ broken due to the short-circuits happening in luceneindexingdriver
* verify that no tmpfiles are left behind even in extreme conditions.

Also, revert r3673 (IndexableType.Ignore patch, since child indexables are not passed by the source backend anymore).

------------------------------------------------------------------------
r3728 | dbera | 2007-05-14 17:49:25 -0400 (Mon, 14 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/COPYING

Remove taglib-sharp license since we do not source include it anymore.

------------------------------------------------------------------------
r3727 | dbera | 2007-05-14 17:40:13 -0400 (Mon, 14 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/Makefile.am
   D /trunk/beagrep/Filters/TagLib
   M /trunk/beagrep/configure.in

Remove in house copy of Taglib-sharp since taglib-sharp is being packaged. Fixes #437999.

------------------------------------------------------------------------
r3726 | aihana | 2007-05-12 00:20:07 -0400 (Sat, 12 May 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/ja.po

2007-05-12  Takeshi AIHANA <takeshi.aihana@gmail.com>

        * ja.po: Updated Japanese translation.

------------------------------------------------------------------------
r3725 | joeshaw | 2007-05-11 18:11:06 -0400 (Fri, 11 May 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/beagrepd/MasterDelete.cs

The return of the master delete button!


------------------------------------------------------------------------
r3724 | joeshaw | 2007-05-11 17:57:34 -0400 (Fri, 11 May 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/SnippetTest.cs

Ok, and now fix the snippet test program
------------------------------------------------------------------------
r3723 | joeshaw | 2007-05-11 17:54:03 -0400 (Fri, 11 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/SnippetFu.cs

Revert r3270, we don't want to break the loop on an empty string.  I'll
have to change the snippet test program
------------------------------------------------------------------------
r3722 | joeshaw | 2007-05-11 17:50:51 -0400 (Fri, 11 May 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am
   D /trunk/beagrep/beagrepd/SanityCheckTool.cs

Remove the obsolete (and unbuilt!) fs sanity check tool.


------------------------------------------------------------------------
r3721 | joeshaw | 2007-05-11 17:45:03 -0400 (Fri, 11 May 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am
   D /trunk/beagrep/beagrepd/TermStatsTool.cs

Remove the beagrep-term-stats tool, another obsolete and unused tool
------------------------------------------------------------------------
r3720 | joeshaw | 2007-05-11 17:42:48 -0400 (Fri, 11 May 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/SnippetFu.cs

Small fix in SnippetFu to make the snippet test program work again
------------------------------------------------------------------------
r3719 | joeshaw | 2007-05-11 17:18:53 -0400 (Fri, 11 May 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am
   D /trunk/beagrep/beagrepd/NameIndexTool.cs

Remove the beagrep-name-index tool.  It was one big #if false clause,
is completely obsolete, and doesn't have any interesting history.

------------------------------------------------------------------------
r3718 | joeshaw | 2007-05-11 16:39:04 -0400 (Fri, 11 May 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LifereaQueryable/LifereaQueryable.cs

Add support for the ~/.liferea_1.2 directory to the Liferea backend.
bgo #426573.

------------------------------------------------------------------------
r3717 | joeshaw | 2007-05-10 17:12:33 -0400 (Thu, 10 May 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/beagrepd/ExtractContent.cs

Don't show properties with an empty string for a value in
beagrep-extract-content, since those are just stripped out and not
indexed by the daemon.

------------------------------------------------------------------------
r3716 | joeshaw | 2007-05-10 17:00:52 -0400 (Thu, 10 May 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterMusic.cs

Don't store properties for track number, track count, disc number, disc
count, or year if any of them is zero.


------------------------------------------------------------------------
r3715 | joeshaw | 2007-05-10 15:03:08 -0400 (Thu, 10 May 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/search/Tiles/Audio.cs

Check for both dc:title and fixme:title in the Audio tile.  The former
is used with the new taglib-sharp and the latter with the older
entagged-sharp.

------------------------------------------------------------------------
r3713 | dbera | 2007-05-10 13:20:08 -0400 (Thu, 10 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterMusic.cs

Bump version of FilterMusic; re-index all music files.

------------------------------------------------------------------------
r3712 | dbera | 2007-05-10 12:33:18 -0400 (Thu, 10 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Filter.cs

Fix a crash if null str or strHot is passed.

------------------------------------------------------------------------
r3711 | joeshaw | 2007-05-10 12:12:42 -0400 (Thu, 10 May 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/beagrepd.in

Fix mdb command-line arguments.  Beagrep part of bxc #81556
------------------------------------------------------------------------
r3710 | dbera | 2007-05-10 10:56:21 -0400 (Thu, 10 May 2007) | 2 lines
Changed paths:
   D /trunk/beagrep/Filters/entagged-sharp

Remove entagged-sharp. Thanks entagged!

------------------------------------------------------------------------
r3709 | dbera | 2007-05-10 10:55:45 -0400 (Thu, 10 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/TagLib/README

Sync TagLib with upstream r77132.

------------------------------------------------------------------------
r3708 | dbera | 2007-05-10 10:53:00 -0400 (Thu, 10 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterMusic.cs
   M /trunk/beagrep/Filters/TagLib/Asf/File.cs
   M /trunk/beagrep/Filters/TagLib/File.cs
   M /trunk/beagrep/Filters/TagLib/Flac/File.cs
   M /trunk/beagrep/Filters/TagLib/Mpc/File.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg/AudioFile.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg/File.cs
   M /trunk/beagrep/Filters/TagLib/Mpeg4/File.cs
   M /trunk/beagrep/Filters/TagLib/NonContainer/File.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/File.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/Flac/File.cs
   M /trunk/beagrep/Filters/TagLib/Ogg/Vorbis/File.cs
   M /trunk/beagrep/Filters/TagLib/Riff/File.cs
   M /trunk/beagrep/Filters/TagLib/WavPack/File.cs
   D /trunk/beagrep/Filters/TagLib/upstream_changes

Thanks to a smart IFileAbtraction by Brian Nickel, we do not need to patch taglib anymore. Remove upstream-changes too.

------------------------------------------------------------------------
r3707 | dbera | 2007-05-10 10:32:46 -0400 (Thu, 10 May 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/IndexerRequest.cs
   M /trunk/beagrep/beagrepd/Makefile.am

Dictionary.Item[i] does not return null unlike Hashtable :(. Take that into account.


------------------------------------------------------------------------
r3706 | dbera | 2007-05-10 00:01:50 -0400 (Thu, 10 May 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/COPYING
   M /trunk/beagrep/Filters/FilterMusic.cs
   M /trunk/beagrep/Filters/Makefile.am

Use taglib-sharp instead of entagged-sharp.
Give this a few tests and then entagged-sharp will be removed completely.

------------------------------------------------------------------------
r3705 | dbera | 2007-05-09 23:59:34 -0400 (Wed, 09 May 2007) | 3 lines
Changed paths:
   A /trunk/beagrep/Filters/TagLib
   A /trunk/beagrep/Filters/TagLib/Ape
   A /trunk/beagrep/Filters/TagLib/Ape/Footer.cs
   A /trunk/beagrep/Filters/TagLib/Ape/Item.cs
   A /trunk/beagrep/Filters/TagLib/Ape/Tag.cs
   A /trunk/beagrep/Filters/TagLib/Asf
   A /trunk/beagrep/Filters/TagLib/Asf/ContentDescriptionObject.cs
   A /trunk/beagrep/Filters/TagLib/Asf/ContentDescriptor.cs
   A /trunk/beagrep/Filters/TagLib/Asf/ExtendedContentDescriptionObject.cs
   A /trunk/beagrep/Filters/TagLib/Asf/File.cs
   A /trunk/beagrep/Filters/TagLib/Asf/FilePropertiesObject.cs
   A /trunk/beagrep/Filters/TagLib/Asf/Guid.cs
   A /trunk/beagrep/Filters/TagLib/Asf/HeaderObject.cs
   A /trunk/beagrep/Filters/TagLib/Asf/Object.cs
   A /trunk/beagrep/Filters/TagLib/Asf/PaddingObject.cs
   A /trunk/beagrep/Filters/TagLib/Asf/Properties.cs
   A /trunk/beagrep/Filters/TagLib/Asf/StreamPropertiesObject.cs
   A /trunk/beagrep/Filters/TagLib/Asf/Tag.cs
   A /trunk/beagrep/Filters/TagLib/Asf/UnknownObject.cs
   A /trunk/beagrep/Filters/TagLib/ByteVector.cs
   A /trunk/beagrep/Filters/TagLib/ByteVectorList.cs
   A /trunk/beagrep/Filters/TagLib/CombinedTag.cs
   A /trunk/beagrep/Filters/TagLib/CorruptFileException.cs
   A /trunk/beagrep/Filters/TagLib/Debugger.cs
   A /trunk/beagrep/Filters/TagLib/File.cs
   A /trunk/beagrep/Filters/TagLib/File.cs.orig
   A /trunk/beagrep/Filters/TagLib/FileTypes.cs
   A /trunk/beagrep/Filters/TagLib/Flac
   A /trunk/beagrep/Filters/TagLib/Flac/Block.cs
   A /trunk/beagrep/Filters/TagLib/Flac/BlockHeader.cs
   A /trunk/beagrep/Filters/TagLib/Flac/File.cs
   A /trunk/beagrep/Filters/TagLib/Flac/Picture.cs
   A /trunk/beagrep/Filters/TagLib/Flac/StreamHeader.cs
   A /trunk/beagrep/Filters/TagLib/Genres.cs
   A /trunk/beagrep/Filters/TagLib/ICodec.cs
   A /trunk/beagrep/Filters/TagLib/Id3v1
   A /trunk/beagrep/Filters/TagLib/Id3v1/StringHandler.cs
   A /trunk/beagrep/Filters/TagLib/Id3v1/Tag.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2
   A /trunk/beagrep/Filters/TagLib/Id3v2/ExtendedHeader.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/Footer.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/Frame.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/FrameFactory.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/FrameHeader.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/Frames
   A /trunk/beagrep/Filters/TagLib/Id3v2/Frames/AttachedPictureFrame.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/Frames/CommentsFrame.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/Frames/GeneralEncapsulatedObjectFrame.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/Frames/PrivateFrame.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/Frames/RelativeVolumeFrame.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/Frames/TextIdentificationFrame.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/Frames/UniqueFileIdentifierFrame.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/Frames/UnknownFrame.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/Frames/UnsynchronisedLyricsFrame.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/Header.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/SynchData.cs
   A /trunk/beagrep/Filters/TagLib/Id3v2/Tag.cs
   A /trunk/beagrep/Filters/TagLib/IntList.cs
   A /trunk/beagrep/Filters/TagLib/ListBase.cs
   A /trunk/beagrep/Filters/TagLib/Mpc
   A /trunk/beagrep/Filters/TagLib/Mpc/File.cs
   A /trunk/beagrep/Filters/TagLib/Mpc/StreamHeader.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg
   A /trunk/beagrep/Filters/TagLib/Mpeg/AudioFile.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg/AudioHeader.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg/File.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg/Packets
   A /trunk/beagrep/Filters/TagLib/Mpeg/Properties.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg/VideoHeader.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg/XingHeader.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4
   A /trunk/beagrep/Filters/TagLib/Mpeg4/AppleTag.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Box.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/BoxFactory.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/BoxHeader.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/BoxList.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/BoxTypes.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/AppleAdditionalInfoBox.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/AppleAnnotationBox.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/AppleDataBox.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/AppleElementaryStreamDescriptor.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/AppleItemListBox.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/FullBox.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoAudioSampleEntry.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoChunkLargeOffsetBox.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoChunkOffsetBox.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoFreeSpaceBox.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoHandlerBox.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoMetaBox.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoMovieHeaderBox.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoSampleDescriptionBox.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoSampleEntry.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoSampleTableBox.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoUserDataBox.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/IsoVisualSampleEntry.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Boxes/UnknownBox.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/File.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/FileParser.cs
   A /trunk/beagrep/Filters/TagLib/Mpeg4/Properties.cs
   A /trunk/beagrep/Filters/TagLib/NonContainer
   A /trunk/beagrep/Filters/TagLib/NonContainer/EndTag.cs
   A /trunk/beagrep/Filters/TagLib/NonContainer/File.cs
   A /trunk/beagrep/Filters/TagLib/NonContainer/StartTag.cs
   A /trunk/beagrep/Filters/TagLib/NonContainer/Tag.cs
   A /trunk/beagrep/Filters/TagLib/Ogg
   A /trunk/beagrep/Filters/TagLib/Ogg/Bitstream.cs
   A /trunk/beagrep/Filters/TagLib/Ogg/Codec.cs
   A /trunk/beagrep/Filters/TagLib/Ogg/Codecs
   A /trunk/beagrep/Filters/TagLib/Ogg/Codecs/Theora.cs
   A /trunk/beagrep/Filters/TagLib/Ogg/Codecs/Vorbis.cs
   A /trunk/beagrep/Filters/TagLib/Ogg/File.cs
   A /trunk/beagrep/Filters/TagLib/Ogg/Flac
   A /trunk/beagrep/Filters/TagLib/Ogg/Flac/File.cs
   A /trunk/beagrep/Filters/TagLib/Ogg/GroupedComment.cs
   A /trunk/beagrep/Filters/TagLib/Ogg/Page.cs
   A /trunk/beagrep/Filters/TagLib/Ogg/PageHeader.cs
   A /trunk/beagrep/Filters/TagLib/Ogg/Paginator.cs
   A /trunk/beagrep/Filters/TagLib/Ogg/Properties.cs
   A /trunk/beagrep/Filters/TagLib/Ogg/Vorbis
   A /trunk/beagrep/Filters/TagLib/Ogg/Vorbis/File.cs
   A /trunk/beagrep/Filters/TagLib/Ogg/XiphComment.cs
   A /trunk/beagrep/Filters/TagLib/Picture.cs
   A /trunk/beagrep/Filters/TagLib/Properties.cs
   A /trunk/beagrep/Filters/TagLib/README
   A /trunk/beagrep/Filters/TagLib/Riff
   A /trunk/beagrep/Filters/TagLib/Riff/AviHeaderList.cs
   A /trunk/beagrep/Filters/TagLib/Riff/AviStream.cs
   A /trunk/beagrep/Filters/TagLib/Riff/BitmapInfoHeader.cs
   A /trunk/beagrep/Filters/TagLib/Riff/DivXTag.cs
   A /trunk/beagrep/Filters/TagLib/Riff/File.cs
   A /trunk/beagrep/Filters/TagLib/Riff/InfoTag.cs
   A /trunk/beagrep/Filters/TagLib/Riff/List.cs
   A /trunk/beagrep/Filters/TagLib/Riff/ListTag.cs
   A /trunk/beagrep/Filters/TagLib/Riff/MovieIdTag.cs
   A /trunk/beagrep/Filters/TagLib/Riff/WaveFormatEx.cs
   A /trunk/beagrep/Filters/TagLib/StringList.cs
   A /trunk/beagrep/Filters/TagLib/SupportedMimeType.cs
   A /trunk/beagrep/Filters/TagLib/Tag.cs
   A /trunk/beagrep/Filters/TagLib/TagLib.sources
   A /trunk/beagrep/Filters/TagLib/UnsupportedFormatException.cs
   A /trunk/beagrep/Filters/TagLib/WavPack
   A /trunk/beagrep/Filters/TagLib/WavPack/File.cs
   A /trunk/beagrep/Filters/TagLib/WavPack/StreamHeader.cs
   A /trunk/beagrep/Filters/TagLib/upstream_changes
   A /trunk/beagrep/Filters/TagLib/upstream_changes/01_Read_from_stream.diff

Import taglib-sharp r77104!


------------------------------------------------------------------------
r3704 | dbera | 2007-05-09 20:56:41 -0400 (Wed, 09 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/IndexerRequest.cs
   M /trunk/beagrep/beagrepd/LuceneIndexingDriver.cs
   M /trunk/beagrep/beagrepd/LuceneQueryable.cs

Using a global id and a local array with indexes as that of the id is incorrect; diffrent threads might separately increment the id which will mess with the array index. Instead, use a dictionary to store the indexables.

------------------------------------------------------------------------
r3703 | dnylande | 2007-05-09 06:31:14 -0400 (Wed, 09 May 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/sv.po

sv.po: Updated Swedish translation
------------------------------------------------------------------------
r3701 | joeshaw | 2007-05-08 15:16:26 -0400 (Tue, 08 May 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/ChangeLog
   M /trunk/beagrep/NEWS
   M /trunk/beagrep/Util/Scheduler.cs

Merge in changes to ChangeLog and NEWS from the branch back to the trunk
(r3698-3700)
------------------------------------------------------------------------
------------------------------------------------------------------------
r3697 | joeshaw | 2007-05-08 15:09:07 -0400 (Tue, 08 May 2007) | 1 line
Changed paths:
   M /branches/beagrep-0.2.16/configure.in

Bump version number to 0.2.17
------------------------------------------------------------------------
r3696 | joeshaw | 2007-05-08 14:51:19 -0400 (Tue, 08 May 2007) | 2 lines
Changed paths:
   M /branches/beagrep-0.2.16/po/ar.po
   M /branches/beagrep-0.2.16/po/ca.po
   M /branches/beagrep-0.2.16/po/cs.po
   M /branches/beagrep-0.2.16/po/de.po
   M /branches/beagrep-0.2.16/po/dz.po
   M /branches/beagrep-0.2.16/po/en_GB.po
   M /branches/beagrep-0.2.16/po/es.po
   M /branches/beagrep-0.2.16/po/fi.po
   M /branches/beagrep-0.2.16/po/fr.po
   M /branches/beagrep-0.2.16/po/gl.po
   M /branches/beagrep-0.2.16/po/hu.po
   M /branches/beagrep-0.2.16/po/it.po
   M /branches/beagrep-0.2.16/po/ja.po
   M /branches/beagrep-0.2.16/po/mk.po
   M /branches/beagrep-0.2.16/po/nb.po
   M /branches/beagrep-0.2.16/po/pa.po
   M /branches/beagrep-0.2.16/po/pl.po
   M /branches/beagrep-0.2.16/po/pt_BR.po
   M /branches/beagrep-0.2.16/po/ru.po
   M /branches/beagrep-0.2.16/po/sv.po
   M /branches/beagrep-0.2.16/po/zh_CN.po
   M /branches/beagrep-0.2.16/po/zh_TW.po

Move the upstream po files back onto the branch, and update
them from the trunk
------------------------------------------------------------------------
r3695 | dbera | 2007-05-08 13:27:36 -0400 (Tue, 08 May 2007) | 2 lines
Changed paths:
   M /branches/beagrep-0.2.16/beagrepd/LuceneIndexingDriver.cs

Merge from trunk: r3694: Set IndexReader to null to ensure faster collection.

------------------------------------------------------------------------
r3693 | dbera | 2007-05-08 12:58:18 -0400 (Tue, 08 May 2007) | 24 lines
Changed paths:
   M /branches/beagrep-0.2.16/beagrepd/BeagrepDaemon.cs
   M /branches/beagrep-0.2.16/beagrepd/BuildIndex.cs
   M /branches/beagrep-0.2.16/beagrepd/EvolutionMailQueryable/EvolutionSummaryTracker.cs
   M /branches/beagrep-0.2.16/beagrepd/KMailQueryable/KMailIndexableGenerator.cs
   M /branches/beagrep-0.2.16/beagrepd/KMailQueryable/KMailIndexer.cs
   M /branches/beagrep-0.2.16/beagrepd/Lucene.Net/Store/FSDirectory.cs
   A /branches/beagrep-0.2.16/beagrepd/Lucene.Net/upstream-changes/27_lockfile_delete_use_syscall.patch (from /trunk/beagrep/beagrepd/Lucene.Net/upstream-changes/27_lockfile_delete_use_syscall.patch:3685)
   M /branches/beagrep-0.2.16/beagrepd/LuceneCommon.cs
   M /branches/beagrep-0.2.16/beagrepd/LuceneQueryable.cs
   M /branches/beagrep-0.2.16/beagrepd/QueryResult.cs
   M /branches/beagrep-0.2.16/beagrepd/wrapper.in

Merge from trunk:beagrepd/
(Leaving out the major ones)

r3531: Call SetProcessName() in beagrep-extract-content
r3560: Always use the LuceneQueryingDriver's item count in
LuceneQueryable.GetQueryableStatus().  It refreshes its IndexReader if
it's out of date, so it always has a fresh view of the index, and
doesn't start an index helper process.
r3561: Always use the LuceneQueryingDriver's item count in
LuceneQueryable.GetQueryableStatus().  It refreshes its IndexReader if
it's out of date, so it always has a fresh view of the index, and
doesn't start an index helper process.
r3599: Remove Mono's --debug from the default wrapper in the beagrepd directory, so that things like beagrep-build-index use less memory.  It can still be passed in through the MONO_EXTRA_ARGS environment variable.
r3644: Lower the CPU priority for the main daemon process a little, for cases where it gets a little CPU-hungry
r3638, r3645: Verify the index before purging.
r3648: Print some info out during a beagrep-build-index run
r3660: Handle invalid content in the index version file.
r3667: Fix an exception that could occur when trying to index mails from an
Evolution IMAP folder with a comma.  bgo #432417, lp #108957
r3670: Set Indexable.Crawled to false for new messages to reduce thrasing.
r3672: Remove the separate crawler thread from BuildIndex. Do the crawling and indexing in the same thread, indexing files as and when they are found during crawling.
r3685: Use Mono.Posix native file delete method instead of System.IO.File.Delete.


------------------------------------------------------------------------
r3692 | dbera | 2007-05-08 12:31:11 -0400 (Tue, 08 May 2007) | 11 lines
Changed paths:
   M /branches/beagrep-0.2.16/Util/FileSystem.cs
   M /branches/beagrep-0.2.16/Util/StringFu.cs
   M /branches/beagrep-0.2.16/Util/XmlFu.cs

Merge from trunk:Util/

r3519: When serializing, wrap the buffer first in an UnclosableStream and then in a BufferedStream with an 8k buffer.  This gives us around a 10% speed up when serializing responses.

r3566: Have Beagrep.Util.FileSystem.GetLastWriteTimeUtc() use the same rules as the File and Directory variants.  That is, return 1 Jan 1601 at midnight
UTC if the file doesn't exist rather than throwing an exception.  This
fixes bgo 417601.

r3671: Better GlobMatch routine.


------------------------------------------------------------------------
r3691 | dbera | 2007-05-08 12:23:51 -0400 (Tue, 08 May 2007) | 19 lines
Changed paths:
   M /branches/beagrep-0.2.16/search/Search.cs
   M /branches/beagrep-0.2.16/search/Tiles/File.cs
   M /branches/beagrep-0.2.16/search/Tiles/IMLog.cs
   M /branches/beagrep-0.2.16/search/Tiles/Image.cs
   M /branches/beagrep-0.2.16/search/Tiles/MailAttachment.cs
   M /branches/beagrep-0.2.16/search/Tiles/RSSFeed.cs
   M /branches/beagrep-0.2.16/search/beagrep-search.in

Merge from trunk:search/

r3537:
* search/Tiles/File.cs: Display the first emblem in the file tile; add a FIXME to display multiple emblems.  
* search/Tiles/Image.cs: Fix an uncommon memory leak.

r3600: Booting the --debug from our beagrep-search script as well, saves us about 2 megs resident mem, and it seems to statup faster

r3617: Not all mail attachments have a filename associated with them.  Instead of dropping them on the floor, display them with a fairly generic name.

r3626: Only add the number of matches to the total if it's not -1.

r3659: fixes launchpad Bug #93064, a crash in beagrep-search from empty buddy icons

r3661: Handle invalid pixbufs, sometimes caused by Liferea leaving behind
zero-byte image files.  bgo #428736.



------------------------------------------------------------------------
r3690 | dbera | 2007-05-08 12:07:23 -0400 (Tue, 08 May 2007) | 5 lines
Changed paths:
   M /branches/beagrep-0.2.16/glue/xdgmime/README
   M /branches/beagrep-0.2.16/glue/xdgmime/xdgmimeglob.c
   M /branches/beagrep-0.2.16/tools/beagrep-crawl-system.in
   M /branches/beagrep-0.2.16/tools/wrapper.in

r3680: (Sync with gtk+ svn trunk): Duplicate the mime_type when storing it in a hash node, to avoid leaks. Update all callers.
3554: Redirect wrapper.in echo output to stderr, so that it doesn't affect script processing of stdout.
3619: Exit out of the cronjob if beagrep-build-index doesn't exist.  bgo #370943.


------------------------------------------------------------------------
r3689 | dbera | 2007-05-08 12:00:33 -0400 (Tue, 08 May 2007) | 9 lines
Changed paths:
   M /branches/beagrep-0.2.16/Filters/FilterHtml.cs
   M /branches/beagrep-0.2.16/Filters/FilterKonqHistory.cs
   M /branches/beagrep-0.2.16/Filters/FilterOle.cs
   M /branches/beagrep-0.2.16/Filters/FilterPdf.cs
   M /branches/beagrep-0.2.16/Filters/HtmlAgilityPack/HtmlDocument.cs
   M /branches/beagrep-0.2.16/glue/spawn-glue.c

r3565: Fix Console.WriteLine()s in filters.  Fixes those damn "No OLE2
signature" messages in the IndexHelperConsole log files.
r3602: Incorrectly placed void functions can still add up to the total runtime. Give a speedup to the html filter by using preprocessor directive instead of a variable.
r3603: Typo in the last commit of HtmlDocument.cs
r3621: glue/spawn-glue.c: If RedirectStandardError is false, then SafeProcess is not interested in the standard error, send the stderr to /dev/null in that case.
r3621: Filters/FilterPdf.cs: Fix #425150. Handle pdf files which can cause huge errors with pdfinfo. pdfinfo does not have any '-q' option, so send its stderr to /dev/null.
r3639: Add xhtml mimetype to html filter.
  

------------------------------------------------------------------------
r3612 | joeshaw | 2007-03-29 15:51:48 -0400 (Thu, 29 Mar 2007) | 4 lines
Changed paths:
   M /branches/beagrep-0.2.16/Filters/FilterOpenOffice.cs

Merge in r3611 to the branch: don't go into an infinite loop if the OOo
file doesn't have a depth greater than 2.


------------------------------------------------------------------------
r3593 | joeshaw | 2007-03-21 14:46:54 -0400 (Wed, 21 Mar 2007) | 3 lines
Changed paths:
   M /branches/beagrep-0.2.16/beagrepd/BeagrepDaemon.cs

Fix a typo ("shapshot") and add --no-snapshot as a valid alternative


------------------------------------------------------------------------
r3583 | joeshaw | 2007-03-19 17:49:01 -0400 (Mon, 19 Mar 2007) | 5 lines
Changed paths:
   M /branches/beagrep-0.2.16/Util/Log.cs

Redirect the actual stdout/stderr (rather than Console.Out and
Console.Error) to the main log file, so that we can catch the output
from a crashing Mono and save it somewhere useful.


------------------------------------------------------------------------
r3576 | joeshaw | 2007-03-15 16:16:58 -0400 (Thu, 15 Mar 2007) | 8 lines
Changed paths:
   M /branches/beagrep-0.2.16/beagrepd/beagrepd-autostart.desktop

Merging:

r3575 | joeshaw | 2007-03-15 16:16:26 -0400 (Thu, 15 Mar 2007) | 3 lines

Start beagrepd with the --replace option, to replace any previously
running daemon if there is one.


------------------------------------------------------------------------
r3574 | joeshaw | 2007-03-15 16:14:33 -0400 (Thu, 15 Mar 2007) | 11 lines
Changed paths:
   M /branches/beagrep-0.2.16/glue/screensaver-glue.c

Merge r3573 onto the branch:

r3573 | joeshaw | 2007-03-15 16:13:43 -0400 (Thu, 15 Mar 2007) | 7 lines

Watch the X connection's file descriptor and g_io_add_watch() on it for
the connection being closed.  When it is, synthesize an X event so that
our X connection immediately dies, and the daemon can shut down cleanly.
Fixes an issue where an idle daemon wasn't getting shut down at logout
time.


------------------------------------------------------------------------
r3572 | joeshaw | 2007-03-15 16:11:30 -0400 (Thu, 15 Mar 2007) | 1 line
Changed paths:
   M /branches/beagrep-0.2.16/configure.in

Bump version to 0.2.16.3 for another bug fix tarball
------------------------------------------------------------------------
r3571 | joeshaw | 2007-03-15 16:09:50 -0400 (Thu, 15 Mar 2007) | 8 lines
Changed paths:
   M /branches/beagrep-0.2.16/beagrepd/FileSystemQueryable/InotifyBackend.cs

Merge r3542:

r3542 | joeshaw | 2007-03-09 16:27:50 -0500 (Fri, 09 Mar 2007) | 5 lines
Create a single inotify callback and reuse it, rather than the implicit
recreation each time.  Saves a bunch of unnecessary allocations (which
are never cleaned up) when watching directories.


------------------------------------------------------------------------
r3570 | joeshaw | 2007-03-15 16:09:05 -0400 (Thu, 15 Mar 2007) | 6 lines
Changed paths:
   M /branches/beagrep-0.2.16/beagrepd/ExtractContent.cs

Merge in r3531

r3531 | joeshaw | 2007-03-05 15:04:24 -0500 (Mon, 05 Mar 2007) | 1 line
Call SetProcessName() in beagrep-extract-content


------------------------------------------------------------------------
r3569 | joeshaw | 2007-03-15 16:08:03 -0400 (Thu, 15 Mar 2007) | 44 lines
Changed paths:
   M /branches/beagrep-0.2.16/Filters/FilterArchive.cs
   M /branches/beagrep-0.2.16/Util/FileSystem.cs

Merge in a lot of archive filter fixes.

r3496 | joeshaw | 2007-02-23 13:43:41 -0500 (Fri, 23 Feb 2007) | 6 lines
Uri.ToString() doesn't print out escaped versions of the URI, so don't
pass in the "escaped" flag to the Uri constructor in the archive filter.
This fixes serialization exceptions for non-ASCII files in archives.

r3498 | joeshaw | 2007-02-23 16:11:40 -0500 (Fri, 23 Feb 2007) | 5 lines
Cut-and-paste Path.GetTempFileName() from System.IO but have it take an
extension argument so that we can do extension-based MIME sniffing on
our temporary files correctly.  (Mainly needed for things like Word
documents inside archives.)

r3502 | dbera | 2007-02-24 15:31:21 -0500 (Sat, 24 Feb 2007) | 3 lines
FilterArchive.cs: Add a comment explaining a potential problem in
constructing correct Uri for embedded files.

r3529 | dbera | 2007-03-04 13:11:48 -0500 (Sun, 04 Mar 2007) | 2 lines
Fix a crash when a bz2 or gzip archive contains a large file.

r3539 | dbera | 2007-03-07 10:29:02 -0500 (Wed, 07 Mar 2007) | 3 lines
* FilterArchive.cs: Check if the included file was actually extracted
before determining its mimetype.

r3540 | dbera | 2007-03-07 10:36:01 -0500 (Wed, 07 Mar 2007) | 2 lines
Addendum to r3539.

r3543 | dbera | 2007-03-09 21:31:06 -0500 (Fri, 09 Mar 2007) | 2 lines
* FilterArchive.cs: Catch GetNextEntry*() exceptions. Fixes #415056.
Most SharpZLib methods are broken and can throw exceptions even for
valid files. Anyone listening ???

r3555 | joeshaw | 2007-03-12 16:29:59 -0400 (Mon, 12 Mar 2007) | 6 lines
When writing out temp files with an extension, add special cases for
.tar.gz and .tar.bz2 so that we don't add an extra layer of processing
(first the compression, then the tar file) and instead handle both at
the same time.

r3557 | joeshaw | 2007-03-12 16:52:28 -0400 (Mon, 12 Mar 2007) | 4 lines
Remove anonymous delegates and move exception handling into a single
method; log errors we hit when trying to extract files.



------------------------------------------------------------------------
r3568 | joeshaw | 2007-03-15 15:50:12 -0400 (Thu, 15 Mar 2007) | 8 lines
Changed paths:
   M /branches/beagrep-0.2.16/beagrepd/LuceneCommon.cs

Merge r3535:
r3535 | joeshaw | 2007-03-05 18:49:41 -0500 (Mon, 05 Mar 2007) | 4 lines

Prohibited date queries weren't working at all.  Fix them in most cases,
and add a FIXME about the case in which they don't work: with sub-date
accuracy.


------------------------------------------------------------------------
r3567 | joeshaw | 2007-03-15 15:47:24 -0400 (Thu, 15 Mar 2007) | 6 lines
Changed paths:
   M /branches/beagrep-0.2.16/Filters/FilterArchive.cs

Merge r3529 from the trunk:
r3529 | dbera | 2007-03-04 13:11:48 -0500 (Sun, 04 Mar 2007) | 2 lines

Fix a crash when a bz2 or gzip archive contains a large file.


------------------------------------------------------------------------
r3532 | joeshaw | 2007-03-05 16:01:37 -0500 (Mon, 05 Mar 2007) | 3 lines
Changed paths:
   M /branches/beagrep-0.2.16/Filters/FilterArchive.cs

Wrap reading from the archive streams in a try-catch, so that
we can move past files that cause SharpZipLib to throw an
exception
------------------------------------------------------------------------
r3523 | joeshaw | 2007-03-01 15:41:44 -0500 (Thu, 01 Mar 2007) | 15 lines
Changed paths:
   M /branches/beagrep-0.2.16/Util/ImLog.cs
   M /branches/beagrep-0.2.16/beagrepd/KonversationQueryable/KonversationQueryable.cs
   M /branches/beagrep-0.2.16/search/Tiles/IMLog.cs

Merge r3504, 3511, and 3517 onto the trunk.

r3504:
Use parent-uri in IMLog tiles for konversation hits. ParentUri contains
the proper path of the file. Fixes #408101

r3511:
Konversation log files are in CurrentCulture. Do not use
InvariantCulture.

r3517:
Use system encoding and system culture when dealing with konversation
log files.  Some things I missed before.


------------------------------------------------------------------------
r3514 | joeshaw | 2007-02-27 12:56:02 -0500 (Tue, 27 Feb 2007) | 1 line
Changed paths:
   M /branches/beagrep-0.2.16/po/ca.po

Updated Catalan translation from the Novell l10n team
------------------------------------------------------------------------
r3494 | joeshaw | 2007-02-23 11:06:39 -0500 (Fri, 23 Feb 2007) | 2 lines
Changed paths:
   M /branches/beagrep-0.2.16/po/de.po
   M /branches/beagrep-0.2.16/po/es.po
   M /branches/beagrep-0.2.16/po/fr.po
   M /branches/beagrep-0.2.16/po/it.po
   M /branches/beagrep-0.2.16/po/ja.po
   M /branches/beagrep-0.2.16/po/pt_BR.po
   M /branches/beagrep-0.2.16/po/ru.po
   M /branches/beagrep-0.2.16/po/sv.po
   M /branches/beagrep-0.2.16/po/zh_TW.po

Check in updated translations from the Novell language team

------------------------------------------------------------------------
r3492 | joeshaw | 2007-02-22 13:04:54 -0500 (Thu, 22 Feb 2007) | 1 line
Changed paths:
   M /branches/beagrep-0.2.16/configure.in

Commit 0.2.16.2 for another bug fix release
------------------------------------------------------------------------
r3491 | joeshaw | 2007-02-22 12:53:17 -0500 (Thu, 22 Feb 2007) | 8 lines
Changed paths:
   M /branches/beagrep-0.2.16/beagrepd/BuildIndex.cs
   M /branches/beagrep-0.2.16/tools/beagrep-crawl-system.in
   M /branches/beagrep-0.2.16/tools/crawl-rules/crawl-documentation

Merge r3455 onto the branch:

Add a --disable-on-battery option to beagrep-build-index, add support for
it to beagrep-crawl-system (through a CRAWL_DISABLE_ON_BATTERY var), and
turn it on by default in the documentation crawler, since it can be
pretty slow.  Fixes bgo #383789.


------------------------------------------------------------------------
r3490 | joeshaw | 2007-02-22 12:52:11 -0500 (Thu, 22 Feb 2007) | 5 lines
Changed paths:
   M /branches/beagrep-0.2.16/Filters/FilterPdf.cs

Merge r3454 onto the branch:

Limit PDF tools to 100 megs memory.  Fixes bgo #335461


------------------------------------------------------------------------
r3489 | joeshaw | 2007-02-22 12:47:38 -0500 (Thu, 22 Feb 2007) | 5 lines
Changed paths:
   M /branches/beagrep-0.2.16/Filters/FilterChm.cs

Merge r3467 onto branch:

Adapt Chm filter to the changed html filter. Fixes #408047.


------------------------------------------------------------------------
r3461 | joeshaw | 2007-02-15 16:24:40 -0500 (Thu, 15 Feb 2007) | 1 line
Changed paths:
   M /branches/beagrep-0.2.16/configure.in

Oops, forgot to commit version number bump on the branch
------------------------------------------------------------------------
r3460 | joeshaw | 2007-02-15 16:23:45 -0500 (Thu, 15 Feb 2007) | 4 lines
Changed paths:
   M /branches/beagrep-0.2.16/Filters/FilterArchive.cs

Put some limits on the sizes of files extracted from archives, to
prevent /tmp from filling up.  Fixes bnc #244490 and brc #228718.


------------------------------------------------------------------------
r3450 | joeshaw | 2007-02-13 15:54:55 -0500 (Tue, 13 Feb 2007) | 4 lines
Changed paths:
   M /branches/beagrep-0.2.16/Filters/FilterDocbook.cs

Add more well-known locations for docbook files, since
xdgmime/shared-mime-info can't figure out what they are beyond
application/xml.

------------------------------------------------------------------------
r3448 | joeshaw | 2007-02-13 15:39:08 -0500 (Tue, 13 Feb 2007) | 12 lines
Changed paths:
   M /branches/beagrep-0.2.16/beagrepd/LuceneCommon.cs

Handle the situation where you do a search for something like "no dice"
(no quotes) and you don't get any results back.  Because "no" is a stop
word, we were expanding queries to this:

(Text:dice OR PropertyText:dice OR PropertyKeyword:dice) AND
(PropertyKeyword:no)

Since stop words get filtered out, and the user may be expecting to
match "no" from the Text and "dice" from a keyword, we can drop the
second clause from the query entirely.


------------------------------------------------------------------------
r3446 | joeshaw | 2007-02-13 14:27:51 -0500 (Tue, 13 Feb 2007) | 33 lines
Changed paths:
   M /branches/beagrep-0.2.16/BeagrepClient/QueryPart.cs
   M /branches/beagrep-0.2.16/BeagrepClient/Versioned.cs
   M /branches/beagrep-0.2.16/Util/DateTimeUtil.cs
   M /branches/beagrep-0.2.16/Util/StringFu.cs
   M /branches/beagrep-0.2.16/libbeagrep/beagrep/beagrep-timestamp.c
   M /branches/beagrep-0.2.16/search/Tiles/IMLog.cs
   M /branches/beagrep-0.2.16/search/Tiles/MailMessage.cs
   M /branches/beagrep-0.2.16/search/Tiles/Utils.cs

Merge r3417, r3418, r3424 and r3429 onto the branch.

r3417:
Directly parse BeagrepTimeStamp instead of calling DateTime.ParseExact.
Remove some duplicate code from beagrep-search.

r3418:
FAQ 1. My application uses datetimes from different sources. I also have
to store it on disk.
*      Always convert any datetime to UTC and use it in that form for
*      internal usage. UTC is a good general framework.
FAQ 2. My application is a client server app that needs to send and
receive datetimes.
*      XmlSerializer assumes localtime by default when deserialing.
*      Hence, either change time to localtime before serializing or send
*      a string representation of the UTC time and re-construct the
*      correct time at the other end. The timezone part of the
*      serialized timestamp does not mean anything useful and should be
*      ignored completely.

Beagrep does 1. Beagrep should have done 2 but everytime the datetime
serialization problems were avoided using other fixes. This patch sends
the datetime in its string representation. Also instead of printing the
timezone in the output of beagrep-query, print the datetime kind. As I
said, the timezone does not say anything useful.

r3424:
Remove a debugging line I accidentally committed.

r3429:
Fixing a buildbreaker


------------------------------------------------------------------------
r3445 | joeshaw | 2007-02-13 14:18:12 -0500 (Tue, 13 Feb 2007) | 6 lines
Changed paths:
   M /branches/beagrep-0.2.16/Filters/FilterSvg.cs

Merge r3432 onto the branch.

Remove the non-fatal block in the SVG filter; we fixed the main symptom
of SVG files that have an undeclared xlink namespace, and the check doesn't
seem to work for certain files.  Fixes #407564

------------------------------------------------------------------------
r3444 | joeshaw | 2007-02-13 14:16:48 -0500 (Tue, 13 Feb 2007) | 13 lines
Changed paths:
   M /branches/beagrep-0.2.16/beagrepd/BuildIndex.cs
   M /branches/beagrep-0.2.16/beagrepd/FileAttributesStore.cs

Merge r3428 onto the branch.

Revert r3354. r3354 checked if an attr had valid filter info when
checking if it is uptodate. This would fail a lot of backends, mostly
LuceneFileQueryable ones. LuceneFileQueryable does not write filter
information if mulitple indexables were created from a single file. So
for all those backends, restarting beagrepd would re-index all the files
(KMail backend, due to a side effect, only re-indexes the mails with
attachments). The changes in r3354 were really necessary for file system
indexing (files backend and BuildIndex); files backend does its own
check and doesnt use IsUpToDate(), so revert the change and create
another function IsUpToDateAndFiltered() for BuildIndex to use.

------------------------------------------------------------------------
r3443 | joeshaw | 2007-02-13 14:15:28 -0500 (Tue, 13 Feb 2007) | 4 lines
Changed paths:
   M /branches/beagrep-0.2.16/beagrepd/TomboyQueryable/TomboyQueryable.cs

Merge r3425 onto the branch.

Use TOMBOY_PATH if available. Fixes #332102.

------------------------------------------------------------------------
r3442 | joeshaw | 2007-02-13 14:14:26 -0500 (Tue, 13 Feb 2007) | 7 lines
Changed paths:
   M /branches/beagrep-0.2.16/beagrepd/IndexHelper/RemoteIndexerExecutor.cs
   M /branches/beagrep-0.2.16/beagrepd/LuceneIndexingDriver.cs

Merge r3421 onto the branch.

While processing large flush requests, check regularly if shutdown has
been requested and stop processing further in that case. This will allow
faster shutdown when beagrep is in the middle of large indexing,
especially when it involves archives.

------------------------------------------------------------------------
r3441 | joeshaw | 2007-02-13 14:12:22 -0500 (Tue, 13 Feb 2007) | 4 lines
Changed paths:
   M /branches/beagrep-0.2.16/beagrepd/LuceneQueryingDriver.cs

Merge r3415 onto the branch.

Fixes #405317. Adjust the count if HitFilter rejects any hit.

------------------------------------------------------------------------
r3440 | joeshaw | 2007-02-13 14:11:33 -0500 (Tue, 13 Feb 2007) | 4 lines
Changed paths:
   M /branches/beagrep-0.2.16/Util/F-Spot/Exif.cs
   A /branches/beagrep-0.2.16/Util/F-Spot/beagrep-changes/08-exif-timestamp-local.diff (from /trunk/beagrep/Util/F-Spot/beagrep-changes/08-exif-timestamp-local.diff:3414)

merge 3414 onto the branch.

Assume local time for exif timestamps.

------------------------------------------------------------------------
r3439 | joeshaw | 2007-02-13 14:10:49 -0500 (Tue, 13 Feb 2007) | 11 lines
Changed paths:
   M /branches/beagrep-0.2.16/beagrepd/BeagrepDaemon.cs
   M /branches/beagrep-0.2.16/beagrepd/IndexHelper/IndexHelper.cs
   M /branches/beagrep-0.2.16/beagrepd/IndexHelper/RemoteIndexerExecutor.cs
   M /branches/beagrep-0.2.16/beagrepd/LuceneIndexingDriver.cs
   M /branches/beagrep-0.2.16/beagrepd/RemoteIndexer.cs
   M /branches/beagrep-0.2.16/beagrepd/SnippetFu.cs

Merge r3413 and 3433-3434 onto the branch.

Add option --disable-textcache to beagrepd. This disallows caching data
for snippet purposes during this run. To prevent inconsistency, this
also deletes existing textcache for any document indexed in this
session. Usage of this option is highly discouraged and should be only
used on space-strapped machines.

Change --disable-textcache to --disable-text-cache to maintain
consistency with beagrep-build-index's --enable-text-cache

------------------------------------------------------------------------
r3438 | joeshaw | 2007-02-13 14:08:33 -0500 (Tue, 13 Feb 2007) | 6 lines
Changed paths:
   M /branches/beagrep-0.2.16/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /branches/beagrep-0.2.16/beagrepd/TextCache.cs

Merge r3412 onto the branch.

* TextCache.cs: Deleting items from textcache was broken; files were
deleted but the entries remained in the database. Fix that. Update FSQ
code accordingly.

------------------------------------------------------------------------
r3437 | joeshaw | 2007-02-13 14:07:49 -0500 (Tue, 13 Feb 2007) | 11 lines
Changed paths:
   M /branches/beagrep-0.2.16/beagrepd/KMailQueryable/KMailQueryable.cs

Merge r3410:3411 onto the branch.

r3410:
I still do not understand how to best decide if a directory is a valid
kmail directory. If the directory is listed in config, then do not
check. Also, give ~/.kde/... location higher preference over the other
locations.

r3411:
3410 was incorrect, this one is the correct patch.

------------------------------------------------------------------------
r3436 | joeshaw | 2007-02-13 14:05:55 -0500 (Tue, 13 Feb 2007) | 8 lines
Changed paths:
   M /branches/beagrep-0.2.16/Util/PullingReader.cs
   M /branches/beagrep-0.2.16/beagrepd/Filter.cs
   M /branches/beagrep-0.2.16/beagrepd/LuceneCommon.cs
   M /branches/beagrep-0.2.16/beagrepd/TextCache.cs

Merge r3409 onto 0.2.16 branch.

Fix a fd leak for large files when lucene would stop asking for more
data. Now Filter.Pull() does not call Close(), but instead Close() is
called by lucene. This also fixes some invalid textcache.gz files.
Buffer the reader and writer streams to and from textcache to reduce the
time spent in inflating/deflating.

------------------------------------------------------------------------
r3435 | joeshaw | 2007-02-13 14:04:51 -0500 (Tue, 13 Feb 2007) | 1 line
Changed paths:
   M /branches/beagrep-0.2.16/Util/F-Spot/JpegHeader.cs

Merge r3408 into 0.2.16 branch: Avoid infinite loop on some truncated jpeg files.  bgo #405372
------------------------------------------------------------------------
r3401 | joeshaw | 2007-02-07 14:04:00 -0500 (Wed, 07 Feb 2007) | 1 line
Changed paths:
   M /branches/beagrep-0.2.16/Filters/FilterOpenOffice.cs

Merge in OOo syntax error fix (r3399) from the trunk
------------------------------------------------------------------------
r3398 | joeshaw | 2007-02-07 11:36:30 -0500 (Wed, 07 Feb 2007) | 3 lines
Changed paths:
   A /branches/beagrep-0.2.16 (from /tags/BEAGREP_0_2_16:3397)

Create a maintenance bug fix branch for 0.2.16, which is what will be in
SLED 10 SP1 and Ubuntu Feisty.

------------------------------------------------------------------------
r3396 | joeshaw | 2007-02-07 11:35:00 -0500 (Wed, 07 Feb 2007) | 2 lines
Changed paths:
   A /tags/BEAGREP_0_2_16 (from /trunk/beagrep:3395)

Tag 0.2.16 release

------------------------------------------------------------------------
r3395 | joeshaw | 2007-02-07 11:30:31 -0500 (Wed, 07 Feb 2007) | 1 line
Changed paths:
   M /trunk/beagrep/ChangeLog

Update changelog for 0.2.16
------------------------------------------------------------------------
r3394 | joeshaw | 2007-02-07 11:28:58 -0500 (Wed, 07 Feb 2007) | 1 line
Changed paths:
   M /trunk/beagrep/NEWS
   M /trunk/beagrep/configure.in

Update for 0.2.16 release
------------------------------------------------------------------------
------------------------------------------------------------------------
r3394 | joeshaw | 2007-02-07 11:28:58 -0500 (Wed, 07 Feb 2007) | 1 line

Update for 0.2.16 release
------------------------------------------------------------------------
r3393 | joeshaw | 2007-02-07 11:24:36 -0500 (Wed, 07 Feb 2007) | 1 line

Temporarily back out the opera backend for the 0.2.16 release
------------------------------------------------------------------------
r3392 | joeshaw | 2007-02-07 11:16:43 -0500 (Wed, 07 Feb 2007) | 1 line

Bump version number on SVG filter
------------------------------------------------------------------------
r3391 | kkubasik | 2007-02-06 23:23:46 -0500 (Tue, 06 Feb 2007) | 3 lines

 r195@kjk38-laptop:  kjk38 | 2007-02-06 23:24:16 -0500
 Initial import of the opera history backend

------------------------------------------------------------------------
r3390 | leonardof | 2007-02-06 21:38:58 -0500 (Tue, 06 Feb 2007) | 6 lines

2007-02-07  Leonardo Ferreira Fontenelle  <leonardof@svn.gnome.org>

	* pt_BR.po: Updated Brazilian Portuguese translation by Igor Pires
	Soares <igor@projetofedora.org>.


------------------------------------------------------------------------
r3389 | dbera | 2007-02-06 19:27:30 -0500 (Tue, 06 Feb 2007) | 2 lines

Batik svg files do not declare xlink namespace. Handle that explicitly.

------------------------------------------------------------------------
r3388 | joeshaw | 2007-02-06 18:19:13 -0500 (Tue, 06 Feb 2007) | 1 line

Updated SVG filter, from Alex Macdonald
------------------------------------------------------------------------
r3387 | joeshaw | 2007-02-06 18:17:52 -0500 (Tue, 06 Feb 2007) | 2 lines

Use indexable.MimeType rather than filter.MimeType, which isn't canonical and
shouldn't really be used outside of the filter itself
------------------------------------------------------------------------
r3386 | joeshaw | 2007-02-06 15:31:43 -0500 (Tue, 06 Feb 2007) | 1 line

Roll back our mono requirement to 1.1.13.5
------------------------------------------------------------------------
r3385 | joeshaw | 2007-02-06 11:38:13 -0500 (Tue, 06 Feb 2007) | 5 lines

Only set the mime type in the indexable.ContentUri.IsFile block if it
hasn't already been set by a backend.  Fixes the problem where
Thunderbird mails were being stored as text/plain.


------------------------------------------------------------------------
r3384 | dbera | 2007-02-06 11:24:12 -0500 (Tue, 06 Feb 2007) | 2 lines

beagrep-hit.c: "(null)" does not deserialize to null Uri. Watch for null ParentUri when serializing.

------------------------------------------------------------------------
r3383 | pgeyleg | 2007-02-06 00:26:45 -0500 (Tue, 06 Feb 2007) | 1 line

dzongkha translation added
------------------------------------------------------------------------
r3382 | dbera | 2007-02-05 17:10:20 -0500 (Mon, 05 Feb 2007) | 2 lines

Remove debug messages from Semweb.

------------------------------------------------------------------------
r3381 | jmas | 2007-02-05 16:55:18 -0500 (Mon, 05 Feb 2007) | 5 lines

2007-02-05  Jordi Mas <jmas@softcatala.org>

	* ca.po: Updated Catalan translation.


------------------------------------------------------------------------
r3380 | dbera | 2007-02-05 16:06:43 -0500 (Mon, 05 Feb 2007) | 2 lines

Remove some debug messages while parsing image files.

------------------------------------------------------------------------
r3379 | joeshaw | 2007-02-05 15:57:03 -0500 (Mon, 05 Feb 2007) | 1 line

Don't set IsIndexing if a folder is being recrawled due to an inotify event
------------------------------------------------------------------------
r3378 | joeshaw | 2007-02-05 15:36:43 -0500 (Mon, 05 Feb 2007) | 1 line

Remove some unused code I accidentally committed
------------------------------------------------------------------------
r3377 | joeshaw | 2007-02-05 14:58:03 -0500 (Mon, 05 Feb 2007) | 21 lines

Rework the way we do reporting of whether or not we're indexing to make
it a more active task for backends, rather than passive.  This fixes
problems trying to deal with this sanely in the file system backend.

* Remove some dead code from QueryDriver.cs.

* No longer declare IsIndexing_get as virtual, and replace it with a
private instance variable.  It's now the backends' responsibility to
set IsIndexing as the status changes, rather than waiting for the
getter to be called and reporting the current state of things.

* Update the file system backend to the new scheme.  Should fix problems
where the "currently indexing" info box stays on in beagrep-search even
after the initial crawl has finished.

* Also update Evolution mail, EDS, Gaim, and Konversation backends to
the new scheme.

* Improve the status message when indexing files inside a directory.


------------------------------------------------------------------------
r3376 | dbera | 2007-02-05 13:12:15 -0500 (Mon, 05 Feb 2007) | 2 lines

* libbeagrep/beagrep/beagrep-hit.c: Add ParentUri to snippet_request->hit. This is needed by some backends that check for parent uri while generating snippets.

------------------------------------------------------------------------
r3375 | dbera | 2007-02-05 12:11:20 -0500 (Mon, 05 Feb 2007) | 4 lines

* Konversation backend: Add server and channel name as properties. Somehow missed this before.
* LuceneIndexingDriver: Back out a change from yesterday. Its incorrect.


------------------------------------------------------------------------
r3374 | aihana | 2007-02-05 07:30:59 -0500 (Mon, 05 Feb 2007) | 4 lines

2007-02-05  Takeshi AIHANA <takeshi.aihana@gmail.com>

        * ja.po: Updated Japanese translation.

------------------------------------------------------------------------
r3373 | dbera | 2007-02-04 17:23:12 -0500 (Sun, 04 Feb 2007) | 4 lines

Correctly handle filter versions while indexing.
* FileSystemQueryable.cs, FileAttributesStore.cs: If filter information is not present for a file, resubmit it for indexing. Ideally, we would like to resubmit whenever a new filter version is present, but that is becoming too costly.
* FileAttributes.cs: Valid filter can have version 0+. Fix the version checking.

------------------------------------------------------------------------
r3372 | dbera | 2007-02-04 12:21:51 -0500 (Sun, 04 Feb 2007) | 2 lines

Konversation backend: Better protection against old log files. Also, fix a bug where one log file would be indexed twice.

------------------------------------------------------------------------
r3369 | dbera | 2007-02-03 18:20:51 -0500 (Sat, 03 Feb 2007) | 2 lines

Filter.cs: Explicitly warn Filters if they try to register a type in constructor.

------------------------------------------------------------------------
r3368 | dnylande | 2007-02-02 18:45:45 -0500 (Fri, 02 Feb 2007) | 1 line

sv.po: Swedish translation updated
------------------------------------------------------------------------
r3367 | dbera | 2007-02-02 18:06:38 -0500 (Fri, 02 Feb 2007) | 2 lines

KMailQueryable.cs: Fix checking whether a directory is a valid kmail directory. Fixes #401767 and #391647.

------------------------------------------------------------------------
r3366 | dbera | 2007-02-02 16:10:32 -0500 (Fri, 02 Feb 2007) | 2 lines

Konversation backend: return true for IsIndexing when performing initial indexing.

------------------------------------------------------------------------
r3365 | dbera | 2007-02-02 15:13:17 -0500 (Fri, 02 Feb 2007) | 2 lines

Really old konversation logfiles have bad timestamp strings. Ignore those lines completely, preventing crash if you have these old files.

------------------------------------------------------------------------
r3364 | joeshaw | 2007-02-02 13:54:11 -0500 (Fri, 02 Feb 2007) | 6 lines

Mono doesn't handle JITted code running in a child process after a
fork() very well, and can often hang.  Change our process limiting code
to execute in C after the fork, rather than in C# in the runtime.  It's
a little less flexible in theory, but has higher reliability.


------------------------------------------------------------------------
r3363 | icq | 2007-02-02 09:12:23 -0500 (Fri, 02 Feb 2007) | 2 lines

Updated Galician Translation

------------------------------------------------------------------------
r3362 | joeshaw | 2007-02-01 16:07:35 -0500 (Thu, 01 Feb 2007) | 1 line

Also run pdftotext -q (for quiet) again
------------------------------------------------------------------------
r3361 | joeshaw | 2007-02-01 16:05:29 -0500 (Thu, 01 Feb 2007) | 2 lines

Bleh, r3360 didn't work and just inverted the deadlock.  Just ignore and
don't redirect stderr for now
------------------------------------------------------------------------
r3360 | joeshaw | 2007-02-01 15:50:24 -0500 (Thu, 01 Feb 2007) | 7 lines

pdftotext completely spams stderr on some documents, which causes a
deadlock between beagrepd-helper and pdftotext: pdftotext is blocking on
additional buffer space to write out more warnings while beagrepd-helper
is blocking on data from stdout.  Fix this by processing data from
stderr before processing stdout in DoPull(), rather than deferring it
all until DoClose().  Fixes Jan's part of bnc #402065

------------------------------------------------------------------------
r3357 | joeshaw | 2007-01-31 18:44:13 -0500 (Wed, 31 Jan 2007) | 2 lines

Don't include a pre-configured beagrep-crawl-system in the tarball.  Fixes
bgo #401504
------------------------------------------------------------------------
r3356 | joeshaw | 2007-01-31 16:07:31 -0500 (Wed, 31 Jan 2007) | 1 line

Change a couple of chatty Warns to Debugs in the KMail backend
------------------------------------------------------------------------
r3355 | joeshaw | 2007-01-31 15:08:29 -0500 (Wed, 31 Jan 2007) | 4 lines

Add --no-snapshot to beagrepd to keep it from automatically snapshotting
when --heap-shot is provided.


------------------------------------------------------------------------
r3354 | joeshaw | 2007-01-31 14:56:27 -0500 (Wed, 31 Jan 2007) | 17 lines

Put the looping bug out to pasture once and for all.

In FSQ.DoneCrawlingOneDirectory(), in the event that we get a null file
attribute back -- which should no longer happen -- complain loudly but 
still mark the directory as clean.  This will prevent the daemon from
looping on that one directory.

Fix our sqlite schema for our fallback FileAttributesStore.  We were
declaring our columns as STRING -- which isn't valid -- instead of TEXT.
This meant that fields were defaulting to being integer-like.  Filenames
like "0009" became "9" in the database.  Bump up the schema version and
fix that.  Also make our file_path index unique, so we don't have to
deal with potential multiple entries in the database.

Add debugging output to the FileAttributesStore.


------------------------------------------------------------------------
r3353 | joeshaw | 2007-01-30 17:32:00 -0500 (Tue, 30 Jan 2007) | 2 lines

Use a better GenericName in the beagrep-settings .desktop file, lose the
redundant comment
------------------------------------------------------------------------
r3352 | joeshaw | 2007-01-30 16:34:22 -0500 (Tue, 30 Jan 2007) | 10 lines

Only do the position check hack in the archive filter for gzip archives;
looks like the position is pretty much worthless for bzip2 archives and
it triggers this code path.

Fix a bug where we were leaking a tempfile when decompressing archives
of more than 30 files.

Improve debug output when storing streams in Indexable.cs.


------------------------------------------------------------------------
r3351 | joeshaw | 2007-01-30 16:07:16 -0500 (Tue, 30 Jan 2007) | 6 lines

Workaround archive files that cause infinite loops.  When reading from
an archive stream, if we are extracting the maximum amount of data and
our position in the stream isn't moving, break out of the loop and flag
the file as bad.  Don't create child indexables for such entries.


------------------------------------------------------------------------
r3350 | joeshaw | 2007-01-30 15:37:11 -0500 (Tue, 30 Jan 2007) | 1 line

Add more info to the ExceptionHandlingThread name
------------------------------------------------------------------------
r3349 | joeshaw | 2007-01-30 15:11:13 -0500 (Tue, 30 Jan 2007) | 4 lines

Always dispose of the SqliteCommand, even if we get an exception.  Log
the SQL that caused an exception inside of DoNonQuery()


------------------------------------------------------------------------
r3348 | joeshaw | 2007-01-30 15:01:05 -0500 (Tue, 30 Jan 2007) | 20 lines

GetLastWriteTimeUtc() no longer throws an IOException if the file isn't
there in 2.0.  It returns a silly date from 1601.  Fix various places
(mostly in the file system backend) where we were depending on that
behavior.

Slightly reorder the flow in FilterFactory.FilterIndexable so that we
avoid unnecessary work, and also check in here if the file has
disappeared out from underneath us.

Fix a DateTime UTC conversion problem that was still hanging around in
FileAttributesStore.

Fix our ParseExact() in StringFu.  We want to AssumeUniversal AND
AdjustToUniversal so that dates we get back are right.  Mono is broken
with these options right now -- see
http://bugzilla.ximian.com/show_bug.cgi?id=80677 -- but things work well
enough now with the broken behavior, and the AdjustToUniversal is
necessary for when it's fixed.


------------------------------------------------------------------------
r3347 | dbera | 2007-01-30 12:14:11 -0500 (Tue, 30 Jan 2007) | 3 lines

* F-Spot code: More protection against bad jpegs.
* XdgMime.cs: Catch other valid exceptions when detecting mimetype.

------------------------------------------------------------------------
r3346 | joeshaw | 2007-01-29 15:52:35 -0500 (Mon, 29 Jan 2007) | 3 lines

Always return false instead of true from KonversationQueryable.IsIndexing,
because otherwise the 'your data is being indexed' info box is always
present.
------------------------------------------------------------------------
r3345 | joeshaw | 2007-01-29 14:17:01 -0500 (Mon, 29 Jan 2007) | 1 line

Workaround a mono bug (bxc #80320) when dealing with dates around MinValue
------------------------------------------------------------------------
r3344 | dbera | 2007-01-28 22:14:18 -0500 (Sun, 28 Jan 2007) | 2 lines

Fix crash when parsing extremely small files with no head or body.

------------------------------------------------------------------------
r3343 | dbera | 2007-01-28 11:30:59 -0500 (Sun, 28 Jan 2007) | 2 lines

Ignore Bim entries with marker PHUT. F-Spot Bim parser does not recognise them.

------------------------------------------------------------------------
r3342 | dbera | 2007-01-28 11:13:07 -0500 (Sun, 28 Jan 2007) | 2 lines

Handle javascript comments properly, namely the comments can contain quote characters which should be ignored and not assumed part of a quote. Error in original HtmlAgilityPack. There is still scope of error in script and style elements. They will be reported as "System.Exception: Load() was not paused previously" and need to be fixed on demand.

------------------------------------------------------------------------
r3341 | dbera | 2007-01-27 13:39:27 -0500 (Sat, 27 Jan 2007) | 2 lines

Add the changes.

------------------------------------------------------------------------
r3340 | dbera | 2007-01-27 13:35:34 -0500 (Sat, 27 Jan 2007) | 2 lines

Check iptc entry for null before trying to parse it. Close memorystream after use.

------------------------------------------------------------------------
r3339 | dbera | 2007-01-26 19:57:06 -0500 (Fri, 26 Jan 2007) | 2 lines

Fix a bug in extraction of JFIF comments from Jpeg files.

------------------------------------------------------------------------
r3338 | joeshaw | 2007-01-26 16:16:26 -0500 (Fri, 26 Jan 2007) | 4 lines

Update some assembly requirements in configure.in, and remove some
unnecessary ones from beagrepd/Makefile.am


------------------------------------------------------------------------
r3336 | joeshaw | 2007-01-25 18:40:53 -0500 (Thu, 25 Jan 2007) | 1 line

0.2.15.1, brown paper bag release
------------------------------------------------------------------------
r3335 | joeshaw | 2007-01-25 18:35:51 -0500 (Thu, 25 Jan 2007) | 2 lines

We need to bundle the thunderbird files in any case, regardless of whether or
not it's enabled.
------------------------------------------------------------------------
r3332 | joeshaw | 2007-01-25 17:36:12 -0500 (Thu, 25 Jan 2007) | 1 line

Update changelog for 0.2.15
------------------------------------------------------------------------
r3331 | joeshaw | 2007-01-25 17:35:40 -0500 (Thu, 25 Jan 2007) | 1 line
Changed paths:
   M /trunk/beagrep/NEWS
   M /trunk/beagrep/configure.in

Update for 0.2.15 release
------------------------------------------------------------------------
r3330 | joeshaw | 2007-01-25 17:32:33 -0500 (Thu, 25 Jan 2007) | 1 line
Changed paths:
   M /trunk/beagrep/gnome-autogen.sh

Support automake 1.10 in our included gnome-autogen.sh
------------------------------------------------------------------------
r3329 | dbera | 2007-01-24 18:07:50 -0500 (Wed, 24 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/glue/xdgmime/README
   M /trunk/beagrep/glue/xdgmime/xdgmimecache.c

Update xdgmime with patches from fd.o bugzilla fixing fd.o #9560, #9544.

------------------------------------------------------------------------
r3328 | dbera | 2007-01-24 15:15:44 -0500 (Wed, 24 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Filter.cs

Actually, no need to check for word limit in DoPull() because lucene would never ask for data via DoPull() if word limit has been reached. AllowMoreWords() is only useful for Filters which extract all data in one shot of DoPull() and thus need check if word limit has been reached.

------------------------------------------------------------------------
r3327 | dbera | 2007-01-24 13:02:18 -0500 (Wed, 24 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/HtmlAgilityPack/AssemblyInfo.cs
   M /trunk/beagrep/Filters/HtmlAgilityPack/Header.cs
   M /trunk/beagrep/Filters/HtmlAgilityPack/HtmlAttribute.cs
   M /trunk/beagrep/Filters/HtmlAgilityPack/HtmlEntity.cs
   M /trunk/beagrep/Filters/HtmlAgilityPack/HtmlNode.cs
   M /trunk/beagrep/Filters/HtmlAgilityPack/HtmlNodeNavigator.cs
   M /trunk/beagrep/Filters/HtmlAgilityPack/HtmlWeb.cs
   M /trunk/beagrep/Filters/HtmlAgilityPack/MixedCodeDocument.cs
   M /trunk/beagrep/Filters/HtmlAgilityPack/tools.cs

Change line endings of some more files.

------------------------------------------------------------------------
r3326 | dbera | 2007-01-24 12:57:22 -0500 (Wed, 24 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/HtmlAgilityPack/crc32.cs

Change line endings.

------------------------------------------------------------------------
r3325 | dbera | 2007-01-24 12:04:14 -0500 (Wed, 24 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterDOC.cs
   M /trunk/beagrep/Filters/FilterHtml.cs
   M /trunk/beagrep/Filters/FilterPdf.cs
   M /trunk/beagrep/Filters/FilterText.cs
   M /trunk/beagrep/beagrepd/Filter.cs

Check if more words are allowed before calling DoPull(), removing AllowMoreWords() calls from text, pdf, doc and one place in html filter. This will also benefit other filters who repeatedly send extracted text in DoPull().

------------------------------------------------------------------------
r3324 | dbera | 2007-01-24 11:51:46 -0500 (Wed, 24 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterRTF.cs

* FilterRTF.cs: Keep a single copy of textmap table. Its expensive to create.

------------------------------------------------------------------------
r3323 | dbera | 2007-01-24 11:43:17 -0500 (Wed, 24 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterHtml.cs
   M /trunk/beagrep/Filters/FilterPdf.cs
   M /trunk/beagrep/Filters/FilterText.cs

Read multiple lines in each call of DoPull() in FilterPdf. Remove warnings from HtmlFilter. Stop if we reach lucene word limit in text and pdf filter.

------------------------------------------------------------------------
r3322 | kmaraas | 2007-01-24 09:29:31 -0500 (Wed, 24 Jan 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/nb.po

2007-01-24  Kjartan Maraas  <kmaraas@gnome.org>

	* nb.po: Updated Norwegian bokmål translation.
------------------------------------------------------------------------
r3321 | maticz | 2007-01-23 19:21:47 -0500 (Tue, 23 Jan 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/configure.in
   M /trunk/beagrep/po/ChangeLog
   A /trunk/beagrep/po/sl.po

2007-01-24  Matic Zgur <mr.zgur@gmail.com>

        * configure.in: Added 'sl' to ALL_LINGUAS
        * po/sl.po: Added Slovenian translation.

------------------------------------------------------------------------
r3320 | joeshaw | 2007-01-23 16:34:47 -0500 (Tue, 23 Jan 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/Util/Scheduler.cs

Util/Scheduler.cs: When "Waiting for next task", display the time it 
will be executed.


------------------------------------------------------------------------
r3319 | dlodge | 2007-01-23 16:33:42 -0500 (Tue, 23 Jan 2007) | 1 line
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/en_GB.po

Updated (British) English translation
------------------------------------------------------------------------
r3318 | joeshaw | 2007-01-23 16:22:40 -0500 (Tue, 23 Jan 2007) | 37 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FileAttributesStore_Mixed.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/DirectoryModel.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileCrawlTask.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrep/beagrepd/FileSystemQueryable/TreeCrawlTask.cs
   M /trunk/beagrep/beagrepd/IndexHelper/IndexHelper.cs
   M /trunk/beagrep/beagrepd/LuceneQueryable.cs

Fix some bugs that will hopefully kill off the dreaded looping problem.
And if it doesn't, provide more information to make it easier to debug.

* LuceneQueryable.cs: Always flush the pending request queue when we
break out of the loop inside an IIndexableGenerator Add task.  Before
things would be held up until the queue was full, meaning documents
could be delayed from being indexing for quite some time.

* FileAttributesStore_Mixed.cs: If we successfully save file attributes
to xattr, drop any matching attributes from the sqlite DB.  (Found by
Brian J. Murrell)

* FileSystemQueryable/FileSystemQueryable.cs: Set the FSQ's "Debug"
attribute if the BEAGREP_DEBUG_FSQ environment variable is set.

* FileSystemQueryable/FileCrawlTask.cs: Log if it appears that we're
recrawling a directory we've seen before.  (Which should only happen if
setting up an inotify watch fails.)

* FileSystemQueryable/TreeCrawlTask.cs: Dial down the verbose logging
unless FSQ.Debug is set.

* FileSystemQueryable/DirectoryModel.cs: If FSQ.Debug is set, print out
the state that we set the directory to, implement ToString (), and fix a
bug in the DirectoryModel.CompareTo() function, which was
unconditionally preferring depth over last crawl time.  This would cause
a certain directory that was at a higher depth than other directories to
continously loop.  Change the method to only do that if the directory
state is not clean (ie, Unknown or Dirty).  Also, consider all
directories with a depth greater than 3 to be the same, since generally
the order of indexing those doesn't matter as much as higher-level
directories.

* IndexHelper/IndexHelper.cs: Print out version/runtime info like we do
for the daemon.


------------------------------------------------------------------------
r3317 | dbera | 2007-01-23 12:21:15 -0500 (Tue, 23 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/beagrepd.in

Typo in beagrepd.in

------------------------------------------------------------------------
r3316 | joeshaw | 2007-01-22 17:30:16 -0500 (Mon, 22 Jan 2007) | 1 line
Changed paths:
   M /trunk/beagrep/search/Search.cs

Pluralize another string.  bgo #356243 again
------------------------------------------------------------------------
r3314 | joeshaw | 2007-01-22 15:02:03 -0500 (Mon, 22 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/SnippetExecutor.cs

Clean up invalid XML characters in the snippet before send it back over the
wire.  bgo #371091
------------------------------------------------------------------------
r3313 | joeshaw | 2007-01-22 14:55:39 -0500 (Mon, 22 Jan 2007) | 1 line
Changed paths:
   M /trunk/beagrep/Filters/FilterMPlayerVideo.cs

sigh, compile before I commit
------------------------------------------------------------------------
r3312 | joeshaw | 2007-01-22 14:22:30 -0500 (Mon, 22 Jan 2007) | 1 line
Changed paths:
   M /trunk/beagrep/Filters/FilterDOC.cs
   M /trunk/beagrep/Filters/FilterMPlayerVideo.cs

Limit mplayer's address space size to 100 megs.  Should fix bgo #357754
------------------------------------------------------------------------
r3311 | joeshaw | 2007-01-22 14:02:59 -0500 (Mon, 22 Jan 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/Util/StringFu.cs
   M /trunk/beagrep/search/Search.cs

Fix a few problems where Catalog.GetPluralString() should have been used
instead of Catalog.GetString().  bgo #356243.


------------------------------------------------------------------------
r3310 | dbera | 2007-01-22 13:53:43 -0500 (Mon, 22 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/HACKING

Add another tip to HACKING. Actually test the new cia rule to display svn link.

------------------------------------------------------------------------
r3309 | joeshaw | 2007-01-22 13:53:31 -0500 (Mon, 22 Jan 2007) | 7 lines
Changed paths:
   M /trunk/beagrep/beagrepd/EvolutionMailQueryable/EvolutionMailQueryable.cs

Set the "don't escape" flag on the Uri constructor when building email
URIs for the Evo mail backend.  This fixes a problem where hostnames
were being lowercased internally by the class libs, but evolution
depended on exact string matching to properly open the messages.
bgo #372914


------------------------------------------------------------------------
r3308 | joeshaw | 2007-01-22 13:46:47 -0500 (Mon, 22 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterMail.cs

Bump up the filter version of mail to 3, because we index standard file
properties of attachments now
------------------------------------------------------------------------
r3307 | joeshaw | 2007-01-22 13:40:44 -0500 (Mon, 22 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterMail.cs

Add the standard file properties to email attachments.  Based on a patch from
Kevin Kubasik.  bgo #383730
------------------------------------------------------------------------
r3306 | joeshaw | 2007-01-22 13:20:31 -0500 (Mon, 22 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/search/Search.cs
   M /trunk/beagrep/search/Tray/TrayIcon.cs

Add a tooltip to the notification icon.  Based on a patch from Ed Catmur.
bgo #389427
------------------------------------------------------------------------
r3305 | dbera | 2007-01-22 12:19:03 -0500 (Mon, 22 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/configure.in

Thunderbird backend: disable by default. Too many issues and bugs.

------------------------------------------------------------------------
r3304 | dbera | 2007-01-22 11:47:16 -0500 (Mon, 22 Jan 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterHtml.cs
   M /trunk/beagrep/Filters/HtmlAgilityPack/HtmlDocument.cs
   M /trunk/beagrep/beagrepd/ExtractContent.cs
   M /trunk/beagrep/beagrepd/Filter.cs

* ExtractContent.cs: Handle --tokenize properly for DisplayContent since now it takes a block of characters instead of a line.
* Filter.cs: Add whitespace after a word in hotpool.
* HtmlDocument.cs: Enable pausing and resuming of html parsing. A long way from DOM style parser to event-driven parser to now effectively stream parsing.
* FilterHtml.cs: Instead of extracting all the text in DoOpen(), extract all information in <head> in DoPullProperties() and then extract all text in DoPull(). Use the pause and resume features of HtmlDocument to send only some text in each call of DoPull(). Remove the stack based hotness and ignore-state detection - use just a counter now. Use AppendWord instead of AppendText wherever for appending href-s and img alt-s since they won't contain newlines.

------------------------------------------------------------------------
r3303 | dbera | 2007-01-22 11:36:45 -0500 (Mon, 22 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/HtmlAgilityPack/HtmlDocument.cs

Change line endings of HtmlDocument.cs and also set svn:eol-style property

------------------------------------------------------------------------
r3302 | dnylande | 2007-01-21 16:13:10 -0500 (Sun, 21 Jan 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/POTFILES.in
   M /trunk/beagrep/po/sv.po

	* sv.po: Updated Swedish translation.
	* POTFILES.in: Added missing files.


------------------------------------------------------------------------
r3297 | dbera | 2007-01-20 19:24:51 -0500 (Sat, 20 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/LineReader.cs
   M /trunk/beagrep/beagrepd/KonversationQueryable/KonversationQueryable.cs

* KonversationQueryable.cs: Add Snippet support for konversation backend. Change the initial indexing to nested indexable generators to reduce system load; instead of creating one indexable generator for one log file create only one generator which goes through the files and for each file, returns a session.

------------------------------------------------------------------------
r3296 | dbera | 2007-01-20 15:30:15 -0500 (Sat, 20 Jan 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterAbiword.cs
   M /trunk/beagrep/Filters/FilterArchive.cs
   M /trunk/beagrep/Filters/FilterBmp.cs
   M /trunk/beagrep/Filters/FilterBoo.cs
   M /trunk/beagrep/Filters/FilterC.cs
   M /trunk/beagrep/Filters/FilterCSharp.cs
   M /trunk/beagrep/Filters/FilterChm.cs
   M /trunk/beagrep/Filters/FilterCpp.cs
   M /trunk/beagrep/Filters/FilterDOC.cs
   M /trunk/beagrep/Filters/FilterDeb.cs
   M /trunk/beagrep/Filters/FilterDesktop.cs
   M /trunk/beagrep/Filters/FilterDirectory.cs
   M /trunk/beagrep/Filters/FilterDocbook.cs
   M /trunk/beagrep/Filters/FilterEbuild.cs
   M /trunk/beagrep/Filters/FilterExternal.cs
   M /trunk/beagrep/Filters/FilterFortran.cs
   M /trunk/beagrep/Filters/FilterGif.cs
   M /trunk/beagrep/Filters/FilterHtml.cs
   M /trunk/beagrep/Filters/FilterImLog.cs
   M /trunk/beagrep/Filters/FilterImage.cs
   M /trunk/beagrep/Filters/FilterJava.cs
   M /trunk/beagrep/Filters/FilterJpeg.cs
   M /trunk/beagrep/Filters/FilterJs.cs
   M /trunk/beagrep/Filters/FilterKAddressBook.cs
   M /trunk/beagrep/Filters/FilterKNotes.cs
   M /trunk/beagrep/Filters/FilterKOrganizer.cs
   M /trunk/beagrep/Filters/FilterKonqHistory.cs
   M /trunk/beagrep/Filters/FilterLabyrinth.cs
   M /trunk/beagrep/Filters/FilterLisp.cs
   M /trunk/beagrep/Filters/FilterMPlayerVideo.cs
   M /trunk/beagrep/Filters/FilterMail.cs
   M /trunk/beagrep/Filters/FilterMan.cs
   M /trunk/beagrep/Filters/FilterMatlab.cs
   M /trunk/beagrep/Filters/FilterMonodoc.cs
   M /trunk/beagrep/Filters/FilterMusic.cs
   M /trunk/beagrep/Filters/FilterOpenOffice.cs
   M /trunk/beagrep/Filters/FilterPPT.cs
   M /trunk/beagrep/Filters/FilterPascal.cs
   M /trunk/beagrep/Filters/FilterPdf.cs
   M /trunk/beagrep/Filters/FilterPerl.cs
   M /trunk/beagrep/Filters/FilterPhp.cs
   M /trunk/beagrep/Filters/FilterPng.cs
   M /trunk/beagrep/Filters/FilterPython.cs
   M /trunk/beagrep/Filters/FilterRPM.cs
   M /trunk/beagrep/Filters/FilterRTF.cs
   M /trunk/beagrep/Filters/FilterRuby.cs
   M /trunk/beagrep/Filters/FilterScilab.cs
   M /trunk/beagrep/Filters/FilterScribus.cs
   M /trunk/beagrep/Filters/FilterShellscript.cs
   M /trunk/beagrep/Filters/FilterSpreadsheet.cs
   M /trunk/beagrep/Filters/FilterSvg.cs
   M /trunk/beagrep/Filters/FilterTexi.cs
   M /trunk/beagrep/Filters/FilterText.cs
   M /trunk/beagrep/Filters/FilterTiff.cs
   M /trunk/beagrep/Filters/FilterTotem.cs
   M /trunk/beagrep/Filters/FilterXslt.cs
   M /trunk/beagrep/beagrepd/Filter.cs
   M /trunk/beagrep/beagrepd/FilterFactory.cs
   M /trunk/beagrep/beagrepd/Flavor.cs

Do not create a new FilterFlavor whenever a new Filter is created. Filters now have to override RegisterSupportedTypes to register the flavors they handle.
Move some tables from FilterFactory to FilterFlavor to reduce redundant storage.
KCal filters: Create mapping only if used.
Kill some warnings and a minor change in Texi filter.

------------------------------------------------------------------------
r3295 | joeshaw | 2007-01-20 13:05:12 -0500 (Sat, 20 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/glue/tomboykeybinder.c

Fix copyright/license info for the tomboykeybinder.c file, which was copied
and modified from Tomboy
------------------------------------------------------------------------
r3294 | dbera | 2007-01-20 12:44:45 -0500 (Sat, 20 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Makefile.am

No more google, no more webservices.

------------------------------------------------------------------------
r3293 | dbera | 2007-01-20 12:34:31 -0500 (Sat, 20 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/ImBuddy.cs
   M /trunk/beagrep/Util/ImLog.cs

Ignore zero size kopete files. Reduces some unnecessary exceptions.

------------------------------------------------------------------------
r3292 | dbera | 2007-01-20 12:28:12 -0500 (Sat, 20 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LabyrinthQueryable/LabyrinthQueryable.cs
   M /trunk/beagrep/glue/beagrepd-utils.c
   M /trunk/beagrep/glue/ioprio-glue.c
   M /trunk/beagrep/glue/mono-glue.c
   M /trunk/beagrep/glue/rlimit-glue.c
   M /trunk/beagrep/glue/scheduler-glue.c
   M /trunk/beagrep/glue/screensaver-glue.c
   M /trunk/beagrep/glue/search-entry.c
   M /trunk/beagrep/glue/thread-glue.c
   M /trunk/beagrep/glue/tomboykeybinder.c
   M /trunk/beagrep/glue/ui-glue.c

Add copying information to some source files.

------------------------------------------------------------------------
r3291 | dbera | 2007-01-20 12:05:13 -0500 (Sat, 20 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/COPYING
   M /trunk/beagrep/Filters/FilterDOC.cs
   M /trunk/beagrep/Filters/FilterText.cs

Typo, license informatiom and comments.

------------------------------------------------------------------------
r3290 | joeshaw | 2007-01-19 19:18:26 -0500 (Fri, 19 Jan 2007) | 29 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterDOC.cs
   M /trunk/beagrep/Filters/FilterExternal.cs
   M /trunk/beagrep/Filters/FilterMPlayerVideo.cs
   M /trunk/beagrep/Filters/FilterPdf.cs
   M /trunk/beagrep/Filters/FilterRPM.cs
   M /trunk/beagrep/Filters/FilterSpreadsheet.cs
   M /trunk/beagrep/Filters/FilterTotem.cs
   M /trunk/beagrep/Util/SafeProcess.cs
   M /trunk/beagrep/Util/SystemPriorities.cs
   M /trunk/beagrep/beagrepd/beagrepd-index-helper.in
   M /trunk/beagrep/beagrepd/beagrepd.in
   M /trunk/beagrep/beagrepd/wrapper.in
   M /trunk/beagrep/glue/Makefile.am
   A /trunk/beagrep/glue/rlimit-glue.c
   M /trunk/beagrep/tools
   A /trunk/beagrep/tools/DocExtractor.cs
   M /trunk/beagrep/tools/Makefile.am
   M /trunk/beagrep/tools/wrapper.in

Move MS Word text extraction out-of-process.  libwv1 is far too
unreliable to have it even inside our index helper process.  Crashes can
corrupt the index and some documents cause it to explode with memory.

* Add a new beagrep-doc-extractor tool, which extracts the text from
a Word document and prints it out to stdout.  Ported FilterDOC to
use it.

* Added the ability to run child setup functions with SafeProcess, since
this is a nice feature with g_spawn().  These functions run in the child
process following the fork() but before the exec().  This allows us to
do things like setrlimit(2) on child processes.

* Added glue around setrlimit(2) so we can keep out of process helpers
under a certain amount of CPU and addressable space, killing them if
they exceed it.

* Added CPU time limits to all the filters which call out of process
helpers.  The numbers are best guesses from various files I have on
my system, but will inevitably need some tweaking.

* Added a memory limit to the Word extractor, since I have a file
which causes libwv1 to eat over a gig of memory in about 3 seconds.

* Various tweaks to scripts so that beagrep-doc-extractor works without
running "make install"



------------------------------------------------------------------------
r3289 | dbera | 2007-01-19 18:16:00 -0500 (Fri, 19 Jan 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterBmp.cs
   M /trunk/beagrep/Filters/FilterGif.cs
   M /trunk/beagrep/Filters/FilterImage.cs
   M /trunk/beagrep/Filters/FilterJpeg.cs
   M /trunk/beagrep/Filters/FilterPng.cs
   M /trunk/beagrep/Filters/FilterTiff.cs

* Update image filters from b-c-e branch to work with the new F-Spot code.
* (#379976) dc:title could be also be a BNode.
* (#347518) store the major iptc properties like location, caption (yet another fixme:comment) and keyword


------------------------------------------------------------------------
r3288 | dbera | 2007-01-19 18:03:33 -0500 (Fri, 19 Jan 2007) | 2 lines
Changed paths:
   A /trunk/beagrep/Util/F-Spot (from /trunk/beagrep/Util/FSpot:3287)
   D /trunk/beagrep/Util/FSpot
   M /trunk/beagrep/Util/Makefile.am

Rename FSpot to F-Spot. Joe's to blame.

------------------------------------------------------------------------
r3287 | dbera | 2007-01-19 17:53:42 -0500 (Fri, 19 Jan 2007) | 2 lines
Changed paths:
   A /trunk/beagrep/Util/FSpot/Bim.cs
   A /trunk/beagrep/Util/FSpot/BitConverter.cs
   D /trunk/beagrep/Util/FSpot/EndianConverter.cs
   M /trunk/beagrep/Util/FSpot/Exif.cs
   A /trunk/beagrep/Util/FSpot/IptcFile.cs
   M /trunk/beagrep/Util/FSpot/JpegHeader.cs
   M /trunk/beagrep/Util/FSpot/MetadataStore.cs
   A /trunk/beagrep/Util/FSpot/PixbufUtils.cs
   M /trunk/beagrep/Util/FSpot/PngFile.cs
   M /trunk/beagrep/Util/FSpot/Tiff.cs
   M /trunk/beagrep/Util/FSpot/XmpFile.cs
   A /trunk/beagrep/Util/FSpot/beagrep-changes
   A /trunk/beagrep/Util/FSpot/beagrep-changes/01-fspot-0.3.0.diff
   A /trunk/beagrep/Util/FSpot/beagrep-changes/02-iptc.diff
   M /trunk/beagrep/Util/Makefile.am
   A /trunk/beagrep/Util/SemWeb/Algos.cs
   A /trunk/beagrep/Util/SemWeb/AssemblyInfo.cs
   D /trunk/beagrep/Util/SemWeb/ForwardLogic.cs
   A /trunk/beagrep/Util/SemWeb/Inference.cs
   D /trunk/beagrep/Util/SemWeb/KnowledgeModel.cs
   A /trunk/beagrep/Util/SemWeb/LiteralFilters.cs
   M /trunk/beagrep/Util/SemWeb/MemoryStore.cs
   D /trunk/beagrep/Util/SemWeb/N3Parser.cs
   A /trunk/beagrep/Util/SemWeb/N3Reader.cs
   M /trunk/beagrep/Util/SemWeb/N3Writer.cs
   M /trunk/beagrep/Util/SemWeb/Query.cs
   A /trunk/beagrep/Util/SemWeb/RDFS.cs
   M /trunk/beagrep/Util/SemWeb/RSquary.cs
   D /trunk/beagrep/Util/SemWeb/RSquaryFilters.cs
   D /trunk/beagrep/Util/SemWeb/RdfParser.cs
   A /trunk/beagrep/Util/SemWeb/RdfReader.cs
   M /trunk/beagrep/Util/SemWeb/RdfWriter.cs
   A /trunk/beagrep/Util/SemWeb/RdfXmlReader.cs
   A /trunk/beagrep/Util/SemWeb/RdfXmlWriter.cs
   D /trunk/beagrep/Util/SemWeb/Reasoning.cs
   A /trunk/beagrep/Util/SemWeb/Remote.cs
   M /trunk/beagrep/Util/SemWeb/Resource.cs
   M /trunk/beagrep/Util/SemWeb/SQLStore.cs
   D /trunk/beagrep/Util/SemWeb/Sparql.cs
   M /trunk/beagrep/Util/SemWeb/Statement.cs
   M /trunk/beagrep/Util/SemWeb/Store.cs
   M /trunk/beagrep/Util/SemWeb/Util.cs
   M /trunk/beagrep/Util/SemWeb/XPathSemWebNavigator.cs
   D /trunk/beagrep/Util/SemWeb/XmlParser.cs
   D /trunk/beagrep/Util/SemWeb/XmlWriter.cs

Update F-Spot code from b-c-e branch. Give enough time to users to try it before releasing.

------------------------------------------------------------------------
r3286 | dbera | 2007-01-19 17:30:19 -0500 (Fri, 19 Jan 2007) | 2 lines
Changed paths:
   D /trunk/beagrep/Util/EndianConverter.cs
   D /trunk/beagrep/Util/ExifData.cs
   A /trunk/beagrep/Util/FSpot
   A /trunk/beagrep/Util/FSpot/EndianConverter.cs (from /trunk/beagrep/Util/EndianConverter.cs:3280)
   A /trunk/beagrep/Util/FSpot/Exif.cs (from /trunk/beagrep/Util/ExifData.cs:3280)
   A /trunk/beagrep/Util/FSpot/JpegHeader.cs (from /trunk/beagrep/Util/JpegHeader.cs:3280)
   A /trunk/beagrep/Util/FSpot/MetadataStore.cs (from /trunk/beagrep/Util/MetadataStore.cs:3280)
   A /trunk/beagrep/Util/FSpot/PngFile.cs (from /trunk/beagrep/Util/PngHeader.cs:3280)
   A /trunk/beagrep/Util/FSpot/Tiff.cs (from /trunk/beagrep/Util/Tiff.cs:3280)
   A /trunk/beagrep/Util/FSpot/XmpFile.cs (from /trunk/beagrep/Util/XmpFile.cs:3280)
   D /trunk/beagrep/Util/JpegHeader.cs
   M /trunk/beagrep/Util/Makefile.am
   D /trunk/beagrep/Util/MetadataStore.cs
   D /trunk/beagrep/Util/PngHeader.cs
   D /trunk/beagrep/Util/Tiff.cs
   D /trunk/beagrep/Util/XmpFile.cs

Organize files from FSpot into its separate directory. Get ready for merging from branch.

------------------------------------------------------------------------
r3284 | dbera | 2007-01-19 11:45:52 -0500 (Fri, 19 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/HtmlAgilityPack/HtmlDocument.cs

Fix a potential error (uncatched by mcs 1.2.2 but should be caught).

------------------------------------------------------------------------
r3281 | joeshaw | 2007-01-18 16:55:09 -0500 (Thu, 18 Jan 2007) | 7 lines
Changed paths:
   M /trunk/beagrep/Util/SystemPriorities.cs
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/IndexHelper/IndexHelper.cs
   M /trunk/beagrep/tools/beagrep-crawl-system.in

Move the renice code out of IndexHelper.cs and into SystemPriorities.cs.

Nice +19 ourselves inside BuildIndex.cs instead of doing it from the
beagrep-crawl-system cron script, since we still want things like the
mono GC thread to run at normal priority.


------------------------------------------------------------------------
r3280 | joeshaw | 2007-01-18 16:44:51 -0500 (Thu, 18 Jan 2007) | 12 lines
Changed paths:
   D /trunk/beagrep/Util/IoPriority.cs
   M /trunk/beagrep/Util/Makefile.am
   A /trunk/beagrep/Util/SystemPriorities.cs (from /trunk/beagrep/Util/IoPriority.cs:3268)
   M /trunk/beagrep/beagrepd/BuildIndex.cs
   M /trunk/beagrep/beagrepd/IndexHelper/IndexHelper.cs
   M /trunk/beagrep/beagrepd/ManageIndex.cs
   M /trunk/beagrep/glue/Makefile.am
   A /trunk/beagrep/glue/scheduler-glue.c

Add support for Linux's relatively new SCHED_BATCH scheduler policy.

Add glue to set SCHED_BATCH or the default SCHED_OTHER, and hook it
into SystemPriorities.cs (which was renamed from IoPriority.cs).

In the index helper, set our nice level before we start the server,
since we want the server thread to inherit our lower priority.  In
there, try to set the scheduler policy to SCHED_BATCH.  If that
succeeds, set our nice to +12, otherwise to +17.  (The reason
for the difference is because SCHED_BATCH + 12 will equal +17.)


------------------------------------------------------------------------
r3275 | mwiehle | 2007-01-18 08:02:18 -0500 (Thu, 18 Jan 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Makefile.am

Adding $(DUMP_INDEX_WRAPPER) to ALL_TARGETS. It was missing and caused make install to fail on a fresh svn build.
This should solve bgo #394481.
The other solution would be to remove D_I_W from SBIN_W. But we want to install it (see comment on r3212)

------------------------------------------------------------------------
r3274 | dbera | 2007-01-17 20:28:18 -0500 (Wed, 17 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterText.cs

Instead of getting one line each time, get as much as possible without overflowing PullingReader buffer. This makes the text filter faster - about 20% faster on a 6345 line, 245 KB file.

------------------------------------------------------------------------
r3273 | dbera | 2007-01-17 20:15:27 -0500 (Wed, 17 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/ExtractContent.cs

Change ExtractContent to work more like lucene would work: calling Read(char[]) repeatedly. Filters generally do not add newlines to the extracted text, so calling ReadLine() is really bad. Furthermore, now heap-buddy string allocations will be more meaningful.

------------------------------------------------------------------------
r3272 | dbera | 2007-01-17 19:31:22 -0500 (Wed, 17 Jan 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/ImLogViewer/ImLogWindow.cs
   M /trunk/beagrep/Util/ImLog.cs
   M /trunk/beagrep/beagrepd/KonversationQueryable/KonversationQueryable.cs

Fixes bgo 331609.
* Konversation backend: Create a new session if day changes.
* ImLog.cs: Move the line parsing code here.
* ImLogWindow.cs: Add Konversation support to ImLogViewer.

------------------------------------------------------------------------
r3268 | joeshaw | 2007-01-16 12:17:47 -0500 (Tue, 16 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/configure.in

Allow the user to disable gsf-sharp at configure time, rather than only
autodetecting it.  Patch from 'ph'
------------------------------------------------------------------------
r3266 | dbera | 2007-01-15 19:33:20 -0500 (Mon, 15 Jan 2007) | 2 lines
Changed paths:
   A /trunk/beagrep/beagrepd/KonversationQueryable
   A /trunk/beagrep/beagrepd/KonversationQueryable/KonversationQueryable.cs

Konv backend files.

------------------------------------------------------------------------
r3265 | dbera | 2007-01-15 19:03:23 -0500 (Mon, 15 Jan 2007) | 2 lines
Changed paths:
   A /trunk/beagrep/Util/LineReader.cs

Add LineReader.cs.

------------------------------------------------------------------------
r3264 | dbera | 2007-01-15 18:06:51 -0500 (Mon, 15 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/Makefile.am
   M /trunk/beagrep/beagrepd/AssemblyInfo.cs
   M /trunk/beagrep/beagrepd/Makefile.am

Add konversation backend. Also add LineReader from b-c-e branch.

------------------------------------------------------------------------
r3263 | dbera | 2007-01-15 18:03:04 -0500 (Mon, 15 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/AUTHORS

Add Stephan's name in AUTHORS and remove Google from "thanks" :(

------------------------------------------------------------------------
r3260 | dbera | 2007-01-15 11:14:20 -0500 (Mon, 15 Jan 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/KOrganizerQueryable/KOrganizerQueryable.cs

Change the PRODID check to accomodate SLED10 (KDE 3.5.1).
Patch from Stephan Binner.

------------------------------------------------------------------------
r3259 | dbera | 2007-01-14 19:06:04 -0500 (Sun, 14 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/AssemblyInfo.cs
   M /trunk/beagrep/Filters/FilterKCal.cs
   A /trunk/beagrep/Filters/FilterKOrganizer.cs
   M /trunk/beagrep/Filters/Makefile.am
   M /trunk/beagrep/beagrepd/AssemblyInfo.cs
   A /trunk/beagrep/beagrepd/KOrganizerQueryable
   A /trunk/beagrep/beagrepd/KOrganizerQueryable/KOrganizerQueryable.cs
   M /trunk/beagrep/beagrepd/Makefile.am

KOrganizer (events and TODOs) backend from Stephan Binner <binner@kde.org>.

------------------------------------------------------------------------
r3258 | dbera | 2007-01-14 18:58:59 -0500 (Sun, 14 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/ICalParser.cs

Change eol-style and add korganizer mimetypes.

------------------------------------------------------------------------
r3256 | dbera | 2007-01-13 16:00:39 -0500 (Sat, 13 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Mono.Data.SqliteClient/SqliteCommand.cs

* MDS/SqliteCommand.cs: Be a little verbose what kind of applicationexception was throwed.

------------------------------------------------------------------------
r3255 | dbera | 2007-01-13 14:56:45 -0500 (Sat, 13 Jan 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/beagrepd/FileAttributesStore.cs

Do not actually write an attribute when asked to ReadOrCreate. To me its against the semantics of the method, I would expect to give me the attr if present or return me a default attr that I can do some modification and write back. Moreover, ReadOrCreate was writing attributes with default values for mtime and attr_time. There is a possibility that the attr returned by ReadOrCreate will not written back (in FSQ), in which case an attribute will be present in the system which it should not be.

This should not break anything; I left the line commented to remind myself to evaluate the situation.

------------------------------------------------------------------------
r3254 | aihana | 2007-01-13 05:26:27 -0500 (Sat, 13 Jan 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/ja.po

2007-01-13  Takeshi AIHANA <takeshi.aihana@gmail.com>

	* ja.po: Updated Japanese translation.

------------------------------------------------------------------------
r3253 | dbera | 2007-01-12 23:28:32 -0500 (Fri, 12 Jan 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterBoo.cs
   M /trunk/beagrep/Filters/FilterC.cs
   M /trunk/beagrep/Filters/FilterCSharp.cs
   M /trunk/beagrep/Filters/FilterCpp.cs
   M /trunk/beagrep/Filters/FilterFortran.cs
   M /trunk/beagrep/Filters/FilterJava.cs
   M /trunk/beagrep/Filters/FilterJs.cs
   M /trunk/beagrep/Filters/FilterLisp.cs
   M /trunk/beagrep/Filters/FilterMatlab.cs
   M /trunk/beagrep/Filters/FilterPascal.cs
   M /trunk/beagrep/Filters/FilterPerl.cs
   M /trunk/beagrep/Filters/FilterPhp.cs
   M /trunk/beagrep/Filters/FilterPython.cs
   M /trunk/beagrep/Filters/FilterRuby.cs
   M /trunk/beagrep/Filters/FilterScilab.cs
   M /trunk/beagrep/Filters/FilterShellscript.cs
   M /trunk/beagrep/Filters/FilterSource.cs

FilterSource and related filter optimizations:
* Replace hashtable by Dictionary<string, bool>
* Instead of storing a static array, store a static Dictionary instead.
Tested with heap-buddy that this saves quite some allocations.

------------------------------------------------------------------------
r3252 | dbera | 2007-01-12 20:05:03 -0500 (Fri, 12 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterRTF.cs

Increase version due to the recent changes that extract an awful lot more text.

------------------------------------------------------------------------
r3251 | joeshaw | 2007-01-12 12:03:03 -0500 (Fri, 12 Jan 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/configure.in

Some distros ship gmcs separately from mono, so make the AC_PATH_PROG()
checks for mono and gmcs more strict.


------------------------------------------------------------------------
r3250 | joeshaw | 2007-01-12 11:27:59 -0500 (Fri, 12 Jan 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/tools/beagrep-settings.desktop.in.in

Set the icon in the beagrep-settings.desktop file to the same one we're
using for beagrep-search.


------------------------------------------------------------------------
r3249 | dbera | 2007-01-11 20:02:47 -0500 (Thu, 11 Jan 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterPdf.cs
   M /trunk/beagrep/beagrepd/Filter.cs

* Filter.cs: In our filter model, first data is extracted by repeated calls to PullText() (which in turn calls Pull() that calls DoPull() ending with DoClose()). Then hotdata is extracted by repeated calls to PullHotText() - which should only return data from the hotPool; since DoClose() has already been called on the filter, DoPull() should not be called again. Maybe its time to think of killing HotText altogether - its a burden that is not being used.

* FilterPdf.cs: AppendText() stores the data in a buffer. Returning the whole data in a single call of DoPull() will cause allocation of a huge buffer. Append only small data per call of DoPull().

------------------------------------------------------------------------
r3248 | dbera | 2007-01-11 18:09:59 -0500 (Thu, 11 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/Filter.cs

* Filter.cs: Add methods AppendWord() and AppendLine() for filters to directly use them when adding a word or a line, respectively. Do some cleanup of the Filter.cs code in general.

------------------------------------------------------------------------
r3247 | dbera | 2007-01-11 15:54:11 -0500 (Thu, 11 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/Makefile.am
   D /trunk/beagrep/Filters/external-filters.xml
   A /trunk/beagrep/Filters/external-filters.xml.sample (from /trunk/beagrep/Filters/external-filters.xml:3228)

Install the sample external-filters.xml file as external-filters.xml.sample; this will not overwrite any existing external-filters.xml that the user might have created. Fixes one part of #393262.

------------------------------------------------------------------------
r3244 | dbera | 2007-01-09 20:27:10 -0500 (Tue, 09 Jan 2007) | 5 lines
Changed paths:
   A /trunk/beagrep/Filters/HACKING
   M /trunk/beagrep/HACKING
   M /trunk/beagrep/Util/PullingReader.cs
   M /trunk/beagrep/beagrepd/Filter.cs

* PullingReader.cs,Filter.cs: Remove unused code.
* Filter.cs: Do not reset Stream after call DoPullProperties. Filters will do them it on their own if they need it. Some filters would like to continue where it left off when DoPull is called.
* HACKING: Add notes about handling looooooong lines.
* Filters/HACKING: Some useful tips for filter authors. Anyone writing a new filter will obviously look here and find it. The tutorial is available on the wiki.

------------------------------------------------------------------------
r3243 | dbera | 2007-01-09 20:26:03 -0500 (Tue, 09 Jan 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterRTF.cs
   M /trunk/beagrep/Filters/Makefile.am
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF (from /branches/beagrep-cutting-edge-branch/Filters/System.Windows.Forms.RTF:3242)

Add modified RTF filter from branch. This one is based on Mono's System.Windows.Forms.RTF class.
Keep a local copy since SWF.RTF isnt exposed to the public. SWF.RTF is based on the legendary RTF parser of Paul DuBois. This filter is significantly better than the previous one - in terms of speed, memory and working.

(svn merge does not merge commit messages - any clue how to achieve that ?)

------------------------------------------------------------------------
r3239 | joeshaw | 2007-01-09 17:16:31 -0500 (Tue, 09 Jan 2007) | 13 lines
Changed paths:
   M /trunk/beagrep/Util/ExceptionHandlingThread.cs
   M /trunk/beagrep/beagrepd/QueryExecutor.cs
   M /trunk/beagrep/beagrepd/Server.cs

Reset some variables back to null to make the GC's job easier and
profiling more straightforward.

In Util/ExceptionHandlingThread.cs, reset the method and thread
variables.

In beagrepd/Server.cs, reset the thread variable.  This may fix a leak,
since thread is the thread-static CurrentThread value.

In beagrepd/QueryExecutor.cs, reset the QueryResult (result) and Query
(query) variables.


------------------------------------------------------------------------
r3238 | joeshaw | 2007-01-09 17:14:20 -0500 (Tue, 09 Jan 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/beagrepd/LuceneIndexingDriver.cs

Fix a bug in the LuceneIndexingDriver constructors in which would pass 0
as the minor version number when it should be -1.  This would cause
index purges for minor versions != 0.


------------------------------------------------------------------------
r3237 | kkubasik | 2007-01-08 23:44:38 -0500 (Mon, 08 Jan 2007) | 3 lines
Changed paths:
   M /trunk
   M /trunk/beagrep/Makefile.am

 r66@kjk38-laptop:  kjk38 | 2007-01-08 23:45:18 -0500
 completely reverting rev 3236

------------------------------------------------------------------------
r3236 | kkubasik | 2007-01-08 23:28:54 -0500 (Mon, 08 Jan 2007) | 3 lines
Changed paths:
   M /trunk
   M /trunk/beagrep/beagrepd/Makefile.am

 r64@kjk38-laptop:  kjk38 | 2007-01-08 23:29:28 -0500
 revert some makefile changes

------------------------------------------------------------------------
r3234 | kkubasik | 2007-01-08 20:37:32 -0500 (Mon, 08 Jan 2007) | 3 lines
Changed paths:
   M /trunk
   M /trunk/beagrep/Makefile.am
   M /trunk/beagrep/beagrepd/Makefile.am

 r62@kjk38-laptop:  kjk38 | 2007-01-08 20:35:08 -0500
 Fix bug# 394481, 2 errors in our Makefiles which were causing fresh SVN checkouts to not build (at least for me). If this breaks anyones build, please revert and comment on bug.

------------------------------------------------------------------------
r3233 | joeshaw | 2007-01-08 14:25:25 -0500 (Mon, 08 Jan 2007) | 1 line
Changed paths:
   M /trunk/beagrep/Util/Scheduler.cs

Make a few more messages logged as Always
------------------------------------------------------------------------
r3232 | joeshaw | 2007-01-08 14:25:04 -0500 (Mon, 08 Jan 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/IndexHelper/IndexHelper.cs

Make a few more messages logged as Always
------------------------------------------------------------------------
r3231 | joeshaw | 2007-01-08 13:56:29 -0500 (Mon, 08 Jan 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/Util/Log.cs
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/Shutdown.cs

Add a new debugging level: Always, and have certain startup/shutdown
informational messages use it.


------------------------------------------------------------------------
r3230 | joeshaw | 2007-01-08 13:19:38 -0500 (Mon, 08 Jan 2007) | 1 line
Changed paths:
   M /trunk/beagrep/search/TileCategory.cs

Remove an errant comment from the old TileCategory layout code
------------------------------------------------------------------------
r3229 | joeshaw | 2007-01-08 13:18:27 -0500 (Mon, 08 Jan 2007) | 15 lines
Changed paths:
   M /trunk/beagrep/search/ConversationCategory.cs
   M /trunk/beagrep/search/TileCategory.cs
   M /trunk/beagrep/search/Tiles/DetailsPane.cs
   M /trunk/beagrep/search/Tiles/Image.cs

Some rendering fixes for beagrep-search.

- Tiles/Image: Display the tags and comments on the image, if any, in
  the details pane.

- Right-align the left column of labels, and top-align all the labels
  and the icon.  This looks a lot better for most documents, but
  especially ones that have smaller images.  Separate the snippet a
  little better, and get rid of the odd indentation.

- Don't indent the categories in the content view anymore.  This just
  seems like a waste of space.  Make the layout code in both the
  categories more clear with some comments.


------------------------------------------------------------------------
r3228 | joeshaw | 2007-01-08 11:06:45 -0500 (Mon, 08 Jan 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs

* beagrepd/BeagrepDaemon.cs: Print out the sqlite major version we're
using at startup.


------------------------------------------------------------------------
r3227 | dbera | 2007-01-06 21:03:43 -0500 (Sat, 06 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterRTF.cs
   M /trunk/beagrep/Filters/Makefile.am
   D /trunk/beagrep/Filters/System.Windows.Forms.RTF

Oho. Committed the rtf filter stuff in wrong branch. Move it away from trunk.

------------------------------------------------------------------------
r3225 | joeshaw | 2007-01-05 18:56:44 -0500 (Fri, 05 Jan 2007) | 1 line
Changed paths:
   M /trunk/beagrep/search/Tiles/Contact.cs

grr, another build breaker in Tiles/Contact.  Not my day
------------------------------------------------------------------------
r3224 | dbera | 2007-01-05 16:21:33 -0500 (Fri, 05 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/KMailQueryable/KMailQueryable.cs

KMailQueryable: Do not check if .index files exist for 0-size mbox files. Fixes #391647.

------------------------------------------------------------------------
r3223 | joeshaw | 2007-01-05 16:04:20 -0500 (Fri, 05 Jan 2007) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/EvolutionDataServerQueryable/BookContainer.cs

Fix a typo which broke the build in EvolutionDataServerQueryable/BookContainer.cs
------------------------------------------------------------------------
r3222 | dbera | 2007-01-05 00:38:52 -0500 (Fri, 05 Jan 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterRTF.cs
   M /trunk/beagrep/Filters/Makefile.am
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/Charcode.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/Charset.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/CharsetFlags.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/CharsetType.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/ClassDelegate.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/Color.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/DestinationDelegate.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/Font.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/KeyStruct.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/KeysInit.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/Major.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/Minor.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/README
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/RTF.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/RTFException.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/StandardCharCode.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/StandardCharName.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/Style.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/StyleElement.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/StyleType.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/TextMap.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/TokenClass.cs
   A /trunk/beagrep/Filters/System.Windows.Forms.RTF/test.cs

Import RTF Parser from System.Windows.Forms.RTF. Use a local copy (*sigh*) since SWF.RTF is not exposed as a public API.
The modified RTF Filter will follow next. And trust me, it is far less buggy and 4 times faster even on a 10 line rtf file.

------------------------------------------------------------------------
r3221 | dbera | 2007-01-04 23:38:49 -0500 (Thu, 04 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Filters/FilterRTF.cs

Fix a file descriptor leak in RTF filter. BTW, the RTF filter needs a major overhaul.

------------------------------------------------------------------------
r3220 | dbera | 2007-01-04 23:29:34 -0500 (Thu, 04 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/KAddressBookQueryable/KabcQueryable.cs

Add fixme:client property to KAddressBook indexables.

------------------------------------------------------------------------
r3219 | joeshaw | 2007-01-04 18:24:15 -0500 (Thu, 04 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/beagrepd/ExtractContent.cs

Print how long it takes to get a filter and extract the text in
beagrep-extract-content
------------------------------------------------------------------------
r3218 | joeshaw | 2007-01-04 14:46:19 -0500 (Thu, 04 Jan 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/search/Tiles/Contact.cs

KAddressbook doesn't set fixme:client for contacts either, so don't
unconditionally try to open null clients in evolution.  Check the URI
scheme first, and if nothing is supported, print an error about it.
------------------------------------------------------------------------
r3217 | joeshaw | 2007-01-04 14:28:42 -0500 (Thu, 04 Jan 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/beagrepd/EvolutionDataServerQueryable/BookContainer.cs
   M /trunk/beagrep/search/Tiles/Contact.cs

Back out kkubasik's last commit, and interpret fixme:client being null as
an evolution contact.  Add fixme:client in the EDS addressbook backend.
Fixes bgo #392718
------------------------------------------------------------------------
r3216 | kkubasik | 2007-01-04 10:34:55 -0500 (Thu, 04 Jan 2007) | 1 line
Changed paths:
   M /trunk/beagrep/search/Tiles/Contact.cs

Fix a small and odd crasher in the contacts tile, however its odd nature should probably be looked into
------------------------------------------------------------------------
r3215 | lkanter | 2007-01-04 07:39:44 -0500 (Thu, 04 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/ru.po

Updated Russian translation

------------------------------------------------------------------------
r3214 | dbera | 2007-01-03 22:31:00 -0500 (Wed, 03 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/SystemInformation.cs
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrep/beagrepd/IndexHelper/IndexHelper.cs

Cleanup the last commit. Initialize xss only from BeagrepDaemon.

------------------------------------------------------------------------
r3213 | dbera | 2007-01-03 22:14:08 -0500 (Wed, 03 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/Util/SystemInformation.cs
   M /trunk/beagrep/beagrepd/BeagrepDaemon.cs

BeagrepDaemon monitors screensaver but IndexHelper does not. Missed this in rev 2720.

------------------------------------------------------------------------
r3212 | joeshaw | 2007-01-03 18:24:42 -0500 (Wed, 03 Jan 2007) | 7 lines
Changed paths:
   M /trunk/beagrep/beagrepd/DumpIndex.cs
   M /trunk/beagrep/beagrepd/LuceneCommon.cs
   M /trunk/beagrep/beagrepd/Makefile.am

Make IndexName a public property in LuceneCommon; add a new
GetHitsForUris() method to LuceneCommon.

Do a bunch of big changes to beagrep-dump-index, and now install it by
default.  We'll use it as a diagnostic tool in future releases.  It
makes use of the new GetHitsForUris() method.

------------------------------------------------------------------------
r3209 | kkubasik | 2007-01-03 13:13:08 -0500 (Wed, 03 Jan 2007) | 3 lines
Changed paths:
   M /trunk/beagrep
   M /trunk/beagrep/Filters/FilterMan.cs

 r86@kjk38-laptop:  kjk38 | 2007-01-03 13:07:28 -0500
 Strip out some specific and more common troff macros in the troff filter

------------------------------------------------------------------------
r3208 | kkubasik | 2007-01-03 09:30:30 -0500 (Wed, 03 Jan 2007) | 3 lines
Changed paths:
   M /trunk/beagrep
   M /trunk/beagrep/Filters/external-filters.xml

 r31@kjk38-laptop:  kjk38 | 2007-01-03 09:30:21 -0500
 Added more sample filters from the wiki. Should make it easier to reference the file as a resource.

------------------------------------------------------------------------
r3207 | jfriedl | 2007-01-03 05:33:21 -0500 (Wed, 03 Jan 2007) | 5 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/cs.po

2006-01-03  Jakub Friedl  <jfriedl@suse.cz>

  * cs.po: Updated Czech Translation.


------------------------------------------------------------------------
r3206 | dbera | 2007-01-02 21:03:40 -0500 (Tue, 02 Jan 2007) | 2 lines
Changed paths:
   A /trunk/beagrep/screenshots/2007-01-02-beagrep-web-page-evolves.png

Update with the latest screenshot :-). Good nite.

------------------------------------------------------------------------
r3205 | dbera | 2007-01-02 20:51:07 -0500 (Tue, 02 Jan 2007) | 4 lines
Changed paths:
   D /trunk/attic/GoogleBackend
   A /trunk/attic/beagrepd
   A /trunk/attic/beagrepd/GoogleBackend (from /trunk/attic/GoogleBackend:3204)
   A /trunk/attic/beagrepd/LauncherQueryable (from /trunk/beagrep/beagrepd/LauncherQueryable:3204)
   A /trunk/attic/beagrepd/MonodocQueryable (from /trunk/beagrep/beagrepd/MonodocQueryable:3204)
   A /trunk/attic/beagrepd/MozillaQueryable (from /trunk/beagrep/beagrepd/MozillaQueryable:3204)
   A /trunk/attic/beagrepd/MozillaQueryable/Mozilla.cs (from /trunk/beagrep/Util/Mozilla.cs:3204)
   M /trunk/beagrep/Util/Makefile.am
   D /trunk/beagrep/Util/Mozilla.cs
   D /trunk/beagrep/beagrepd/LauncherQueryable
   D /trunk/beagrep/beagrepd/MonodocQueryable
   D /trunk/beagrep/beagrepd/MozillaQueryable

Move some unused backend files to attic:
* MozillaQueryable - unfinished implementation, ThunderbirdQueryable to be used now
* MonodocQueryable, LauncherQueryable - unused, deprecated in favour of system wide indexes

------------------------------------------------------------------------
r3202 | dbera | 2007-01-02 18:44:34 -0500 (Tue, 02 Jan 2007) | 2 lines
Changed paths:
   M /trunk/beagrep/AUTHORS
   M /trunk/beagrep/beagrepd/Filter.cs

SVN seems to be stable now. Let me begin by adding Pierre's name to the author list and some obligatory .net-2.0 improvements.

------------------------------------------------------------------------
r3201 | joeshaw | 2007-01-02 18:06:38 -0500 (Tue, 02 Jan 2007) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/POTFILES.in
   M /trunk/beagrep/po/POTFILES.skip

2007-01-02  Joe Shaw  <joeshaw@novell.com>

	* POTFILES.in, POTFILES.skip: Remove files that are no longer
	a part of the tree.
------------------------------------------------------------------------
r3195 | joeshaw | 2007-01-02 15:08:54 -0500 (Tue, 02 Jan 2007) | 7 lines
Changed paths:
   M /trunk/beagrep/Util/Inotify.cs
   M /trunk/beagrep/glue/inotify-glue.c

Rework both sides of the inotify glue a little bit.  No longer print
anything out from the C side, since those messages don't make it into
the Beagrep logs, and that's incredibly useful information.  Instead
return the negative errno.  On the managed side, handle the errno and
display useful messages.


------------------------------------------------------------------------
r3194 | joeshaw | 2007-01-02 14:24:19 -0500 (Tue, 02 Jan 2007) | 1 line
Changed paths:
   M /trunk/beagrep/Util/SystemInformation.cs

I will compile before I commit
------------------------------------------------------------------------
r3192 | joeshaw | 2007-01-02 11:52:41 -0500 (Tue, 02 Jan 2007) | 3 lines
Changed paths:
   M /trunk/beagrep/Util/SystemInformation.cs

Add /proc/acpi/ac_adapter/ACAD/state to the list of checked AC state
filenames in SystemInformation.cs.  bgo #391218

------------------------------------------------------------------------
r3190 | joeshaw | 2006-12-31 14:24:06 -0500 (Sun, 31 Dec 2006) | 1 line
Changed paths:
   M /trunk/attic/WebServices/ExternalAccessFilter.cs
   M /trunk/attic/WebServices/NetBeagrepQueryable.cs
   M /trunk/attic/WebServices/WebServer/InitialWorkerRequest.cs
   M /trunk/attic/WebServices/search.asmx
   M /trunk/attic/WebServices/search.aspx
   M /trunk/beagrep/Filters/FilterScilab.cs
   M /trunk/beagrep/Util/ICalParser.cs
   M /trunk/beagrep/images/emblem-blog.png
   M /trunk/beagrep/images/icon-blog.png
   M /trunk/beagrep/mozilla-extension/content/jslib/debug/debug.js
   M /trunk/beagrep/mozilla-extension/content/jslib/install/uninstall.css
   M /trunk/beagrep/mozilla-extension/content/jslib/install/uninstall.js
   M /trunk/beagrep/mozilla-extension/content/jslib/install/uninstall.xul
   M /trunk/beagrep/mozilla-extension/content/jslib/io/dir.js
   M /trunk/beagrep/mozilla-extension/content/jslib/io/dirUtils.js
   M /trunk/beagrep/mozilla-extension/content/jslib/io/file.js
   M /trunk/beagrep/mozilla-extension/content/jslib/io/fileUtils.js
   M /trunk/beagrep/mozilla-extension/content/jslib/io/filesystem.js
   M /trunk/beagrep/mozilla-extension/content/jslib/jslib.js
   M /trunk/beagrep/mozilla-extension/content/jslib/modules.js
   M /trunk/beagrep/mozilla-extension/content/jslib/xul/commonWindow.js
   M /trunk/beagrep/search/beagrep-search.in

Remove executable bit from non-executable files
------------------------------------------------------------------------
r3189 | joeshaw | 2006-12-30 16:10:24 -0500 (Sat, 30 Dec 2006) | 7 lines
Changed paths:
   A /trunk/attic/GoogleBackend
   A /trunk/attic/GoogleBackend/GoogleDriver.cs (from /trunk/beagrep/beagrepd/GoogleDriver.cs:3188)
   A /trunk/attic/GoogleBackend/GoogleSearch.wsdl (from /trunk/beagrep/Util/GoogleSearch.wsdl:3188)
   D /trunk/beagrep/Util/GoogleSearch.wsdl
   M /trunk/beagrep/Util/Makefile.am
   D /trunk/beagrep/beagrepd/GoogleDriver.cs
   M /trunk/beagrep/beagrepd/Makefile.am
   M /trunk/beagrep/configure.in

Move the Google backend into the attic, since Google has deprecated the
API and is no longer handing out keys.

Make the requisite changes to the build system (configure.in,
Util/Makefile.am, beagrepd/Makefile.am) to remove support for it.


------------------------------------------------------------------------
r3188 | joeshaw | 2006-12-30 13:24:13 -0500 (Sat, 30 Dec 2006) | 1 line
Changed paths:
   R /trunk/beagrep/ChangeLog
   A /trunk/beagrep/ChangeLog.cvs (from /trunk/beagrep/ChangeLog:3185)
   M /trunk/beagrep/HACKING

Move the old ChangeLog out of the way, generate the new one from svn log
------------------------------------------------------------------------
r3187 | joeshaw | 2006-12-30 12:53:54 -0500 (Sat, 30 Dec 2006) | 1 line
Changed paths:
   M /trunk/beagrep/beagrepd/EvolutionBackendsAssemblyInfo.cs
   D /trunk/beagrep/beagrepd/EvolutionMailQueryable/EvolutionMailDriver.cs
   M /trunk/beagrep/beagrepd/EvolutionMailQueryable/EvolutionMailIndexableGenerator.cs
   A /trunk/beagrep/beagrepd/EvolutionMailQueryable/EvolutionMailQueryable.cs (from /trunk/beagrep/beagrepd/EvolutionMailQueryable/EvolutionMailDriver.cs:3186)
   M /trunk/beagrep/beagrepd/EvolutionMailQueryable/EvolutionSummaryTracker.cs
   M /trunk/beagrep/beagrepd/EvolutionMailQueryable/GConfThreadHelper.cs
   M /trunk/beagrep/beagrepd/EvolutionMailQueryable/MailCrawler.cs
   M /trunk/beagrep/beagrepd/Makefile.am

Rename EvolutionMailDriver to EvolutionMailQueryable in the Makefiles and code
------------------------------------------------------------------------
r3186 | joeshaw | 2006-12-30 12:49:14 -0500 (Sat, 30 Dec 2006) | 1 line
Changed paths:
   D /trunk/beagrep/beagrepd/EvolutionMailDriver
   A /trunk/beagrep/beagrepd/EvolutionMailQueryable (from /trunk/beagrep/beagrepd/EvolutionMailDriver:3185)

Rename EvolutionMailDriver to EvolutionMailQueryable, a badly needed change
------------------------------------------------------------------------
r3184 | joeshaw | 2006-12-30 12:44:34 -0500 (Sat, 30 Dec 2006) | 1 line
Changed paths:
   M /trunk/beagrep/README

Update README
------------------------------------------------------------------------
r3183 | zygis | 2006-12-30 12:24:15 -0500 (Sat, 30 Dec 2006) | 4 lines
Changed paths:
   M /trunk/beagrep/po/ChangeLog
   M /trunk/beagrep/po/lt.po

2006-12-30  Žygimantas Beručka  <zygis@gnome.org>

        * lt.po: Updated Lithuanian translation.

------------------------------------------------------------------------
r3182 | joeshaw | 2006-12-30 11:49:35 -0500 (Sat, 30 Dec 2006) | 1 line
Changed paths:
   A /trunk/attic/WebServices/NetworkHit.cs (from /trunk/beagrep/BeagrepClient/NetworkHit.cs:3181)
   D /trunk/beagrep/BeagrepClient/NetworkHit.cs

Move more webservices code into the attic
------------------------------------------------------------------------
r3181 | joeshaw | 2006-12-30 11:48:31 -0500 (Sat, 30 Dec 2006) | 1 line
Changed paths:
   A /trunk/attic/WebServices (from /trunk/beagrep/beagrepd/WebServices:3180)
   D /trunk/beagrep/beagrepd/WebServices

Move unused WebServices directory into the attic
------------------------------------------------------------------------
r3180 | joeshaw | 2006-12-30 11:40:38 -0500 (Sat, 30 Dec 2006) | 1 line
Changed paths:
   M /trunk/beagrep/ContactViewer
   M /trunk/beagrep/beagrepd
   M /trunk/beagrep/po
   M /trunk/beagrep/search
   M /trunk/beagrep/tools
   M /trunk/beagrep/wrappers/python

stfu svn
------------------------------------------------------------------------
r3179 | joeshaw | 2006-12-30 11:22:45 -0500 (Sat, 30 Dec 2006) | 1 line
Changed paths:
   D /trunk/beagrep/indexer

Remove empty indexer directory
------------------------------------------------------------------------
r3178 | joeshaw | 2006-12-30 11:18:49 -0500 (Sat, 30 Dec 2006) | 1 line
Changed paths:
   A /trunk/attic/templates (from /trunk/beagrep/templates:3177)
   D /trunk/beagrep/templates

Move unused templates directory into the attic
------------------------------------------------------------------------
r3177 | joeshaw | 2006-12-30 11:18:02 -0500 (Sat, 30 Dec 2006) | 1 line
Changed paths:
   A /trunk/attic/searchomatic (from /trunk/beagrep/searchomatic:3176)
   D /trunk/beagrep/searchomatic

Move unused searchomatic directory into the attic
------------------------------------------------------------------------
r3176 | joeshaw | 2006-12-30 11:15:52 -0500 (Sat, 30 Dec 2006) | 1 line
Changed paths:
   A /trunk/attic/chooser-fu (from /trunk/beagrep/chooser-fu:3175)
   D /trunk/beagrep/chooser-fu

Move unused chooser-fu directory into the attic
------------------------------------------------------------------------
r3175 | joeshaw | 2006-12-30 11:15:09 -0500 (Sat, 30 Dec 2006) | 1 line
Changed paths:
   A /trunk/attic/Tiles (from /trunk/beagrep/Tiles:3174)
   D /trunk/beagrep/Tiles

Move unused Tiles directory into the attic
------------------------------------------------------------------------
r3174 | joeshaw | 2006-12-30 11:14:15 -0500 (Sat, 30 Dec 2006) | 1 line
Changed paths:
   A /trunk/attic/Renderers (from /trunk/beagrep/Renderers:3173)
   D /trunk/beagrep/Renderers

Move unused Renderers directory into the attic (boy, i wish i could do all of these in one shot...
------------------------------------------------------------------------
r3173 | joeshaw | 2006-12-30 11:11:25 -0500 (Sat, 30 Dec 2006) | 3 lines
Changed paths:
   A /trunk/attic/Best (from /trunk/beagrep/Best:3172)
   D /trunk/beagrep/Best

Move the unused Best directory into the attic


------------------------------------------------------------------------
r3172 | joeshaw | 2006-12-30 11:08:20 -0500 (Sat, 30 Dec 2006) | 1 line
Changed paths:
   D /trunk/beagrep/.cvsignore
   D /trunk/beagrep/BeagrepClient/.cvsignore
   D /trunk/beagrep/Best/.cvsignore
   D /trunk/beagrep/Best/TrayIcon/.cvsignore
   D /trunk/beagrep/Best/TrayIcon/libtrayicon/.cvsignore
   D /trunk/beagrep/ContactViewer/.cvsignore
   D /trunk/beagrep/Filters/.cvsignore
   D /trunk/beagrep/ImLogViewer/.cvsignore
   D /trunk/beagrep/Renderers/.cvsignore
   D /trunk/beagrep/Tiles/.cvsignore
   D /trunk/beagrep/Util/.cvsignore
   D /trunk/beagrep/beagrepd/.cvsignore
   D /trunk/beagrep/beagrepd/Lucene.Net/.cvsignore
   D /trunk/beagrep/beagrepd/ThunderbirdQueryable/.cvsignore
   D /trunk/beagrep/beagrepd/WebServices/.cvsignore
   D /trunk/beagrep/beagrepd/WebServices/WebServer/.cvsignore
   D /trunk/beagrep/bludgeon/.cvsignore
   D /trunk/beagrep/chooser-fu/.cvsignore
   D /trunk/beagrep/epiphany-extension/.cvsignore
   D /trunk/beagrep/glue/.cvsignore
   D /trunk/beagrep/images/.cvsignore
   D /trunk/beagrep/indexer/.cvsignore
   D /trunk/beagrep/libbeagrep/.cvsignore
   D /trunk/beagrep/libbeagrep/beagrep/.cvsignore
   D /trunk/beagrep/libbeagrep/docs/.cvsignore
   D /trunk/beagrep/libbeagrep/docs/reference/.cvsignore
   D /trunk/beagrep/libbeagrep/examples/.cvsignore
   D /trunk/beagrep/mozilla-extension/.cvsignore
   D /trunk/beagrep/po/.cvsignore
   D /trunk/beagrep/search/.cvsignore
   D /trunk/beagrep/searchomatic/.cvsignore
   D /trunk/beagrep/templates/.cvsignore
   D /trunk/beagrep/tools/.cvsignore
   D /trunk/beagrep/wrappers/.cvsignore
   D /trunk/beagrep/wrappers/python/.cvsignore

Remove .cvsignore files
------------------------------------------------------------------------
r3170 | joeshaw | 2006-12-30 11:03:51 -0500 (Sat, 30 Dec 2006) | 4 lines
Changed paths:
   D /temp
   A /trunk/beagrep (from /temp:3169)

Move the code back in as trunk/beagrep, since we'll be moving dead code
into trunk/attic


------------------------------------------------------------------------
r3168 | joeshaw | 2006-12-30 11:02:09 -0500 (Sat, 30 Dec 2006) | 2 lines
Changed paths:
   A /temp (from /trunk:3167)
   D /trunk

Temporarily move the trunk

------------------------------------------------------------------------
r3167 | dnylande | 2006-12-28 01:51:25 -0500 (Thu, 28 Dec 2006) | 4 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/sv.po

2006-12-28  Daniel Nylander <po@danielnylander.se>

	* sv.po: Updated Swedish translation.

------------------------------------------------------------------------
r3166 | adamw | 2006-12-27 15:10:58 -0500 (Wed, 27 Dec 2006) | 5 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/en_CA.po


2006-12-27  Adam Weinberger  <adamw@gnome.org>

	* en_CA.po: Updated Canadian English translation.

------------------------------------------------------------------------
r3165 | kmaraas | 2006-12-27 07:54:24 -0500 (Wed, 27 Dec 2006) | 5 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/POTFILES.in
   M /trunk/po/nb.po

2006-12-27  Kjartan Maraas  <kmaraas@gnome.org>

	* POTFILES.in: Add missing files.
	* nb.po: Updated Norwegian bokmÃ¥l translation.

------------------------------------------------------------------------
r3164 | danilo | 2006-12-26 11:02:35 -0500 (Tue, 26 Dec 2006) | 2 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/sr.po
   M /trunk/po/sr@Latn.po

Updated Serbian translation.

------------------------------------------------------------------------
r3162 | jmas | 2006-12-21 18:04:14 -0500 (Thu, 21 Dec 2006) | 4 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/ca.po

2006-12-21  Jordi Mas <jmas@softcatala.org>

	* ca.po: Updated Catalan translation.

------------------------------------------------------------------------
r3157 | joeshaw | 2006-12-20 14:48:31 -0500 (Wed, 20 Dec 2006) | 5 lines
Changed paths:
   M /trunk/beagrepd/EvolutionDataServerQueryable/EvolutionDataServerQueryable.cs
   M /trunk/beagrepd/EvolutionMailDriver/EvolutionSummaryTracker.cs

Fix a problem of incompatible evolution-sharp libraries at runtime, by calling
into the glue library and checking for DllNotFoundExceptions.  Also remove
some dead, warning-generating code in other parts of the evo backends.
Mostly a fix for bgo #386746

------------------------------------------------------------------------
r3156 | joeshaw | 2006-12-20 11:19:31 -0500 (Wed, 20 Dec 2006) | 2 lines
Changed paths:
   M /trunk/HACKING

Add a best practice about String.IsNullOrEmpty(), since we're on .NET 2.0 now

------------------------------------------------------------------------
r3155 | joeshaw | 2006-12-19 18:20:30 -0500 (Tue, 19 Dec 2006) | 2 lines
Changed paths:
   M /trunk/configure.in

Bump required mono version to 1.1.18

------------------------------------------------------------------------
r3154 | joeshaw | 2006-12-19 18:18:56 -0500 (Tue, 19 Dec 2006) | 2 lines
Changed paths:
   M /trunk/beagrepd/LuceneCommon.cs

Remove some debug logging

------------------------------------------------------------------------
r3153 | joeshaw | 2006-12-19 18:15:43 -0500 (Tue, 19 Dec 2006) | 7 lines
Changed paths:
   M /trunk/BeagrepClient/Versioned.cs
   M /trunk/Util/DateTimeUtil.cs
   M /trunk/Util/Makefile.am
   M /trunk/Util/StringFu.cs
   M /trunk/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrepd/BuildIndex.cs
   M /trunk/beagrepd/LuceneCommon.cs
   M /trunk/beagrepd/LuceneIndexingDriver.cs
   M /trunk/beagrepd/LuceneQueryingDriver.cs
   M /trunk/beagrepd/Makefile.am
   M /trunk/beagrepd/RemoteIndexer.cs
   M /trunk/bludgeon/Daemon.cs
   M /trunk/configure.in

Beagrep now depends on gmcs and uses the .NET 2.0 profile, hooray!

Fix up the DateTime code so that we can avoid the nasty hacks Bera had to
deal with.  Make explicit the reference to Beagrep.Util.Stopwatch to avoid
ambiguity with the .NET 2.0 class of same name.  Remove a little unused
code.

------------------------------------------------------------------------
r3152 | joeshaw | 2006-12-19 16:48:17 -0500 (Tue, 19 Dec 2006) | 3 lines
Changed paths:
   M /trunk/Util/camel.cs

Oops, fix DateTime issue in camel.cs that I temporarily changed and
accidentally committed

------------------------------------------------------------------------
r3151 | joeshaw | 2006-12-19 16:09:33 -0500 (Tue, 19 Dec 2006) | 2 lines
Changed paths:
   M /trunk/Util/ImBuddy.cs

A little cleanup of the IM buddy code

------------------------------------------------------------------------
r3150 | kelemeng | 2006-12-16 13:02:54 -0500 (Sat, 16 Dec 2006) | 4 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/hu.po

2006-12-16  Gabor Kelemen  <kelemeng@gnome.hu>

	* hu.po: Translation updated.

------------------------------------------------------------------------
r3144 | dbera | 2006-12-15 23:04:39 -0500 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/Filters/entagged-sharp/Tag.cs

Do not add duplicate tags. At least makes sense in beagrep.

------------------------------------------------------------------------
r3143 | dbera | 2006-12-15 20:56:41 -0500 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/Filters/FilterHtml.cs

Catch exception while detecting encoding.

------------------------------------------------------------------------
r3142 | dbera | 2006-12-15 20:24:05 -0500 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/beagrepd/Filter.cs

Cleanup.

------------------------------------------------------------------------
r3141 | dbera | 2006-12-15 20:07:53 -0500 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/Filters/FilterMusic.cs
   M /trunk/Filters/entagged-sharp/AudioFile.cs
   M /trunk/Filters/entagged-sharp/Flac/Util/FlacTagWriter.cs
   M /trunk/Filters/entagged-sharp/Mp3/Util/Id3v24TagReader.cs
   M /trunk/Filters/entagged-sharp/Ogg/Util/VorbisTagWriter.cs
   M /trunk/Filters/entagged-sharp/Tracker/TrackerFileReader.cs
   M /trunk/Filters/entagged-sharp/Util/AudioFileReader.cs
   M /trunk/Filters/entagged-sharp/Util/Utils.cs

Catch exception at source in entagged#. Its not maintained so patch it directly.

------------------------------------------------------------------------
r3140 | dbera | 2006-12-15 19:44:07 -0500 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/Filters/FilterArchive.cs
   M /trunk/Filters/FilterChm.cs
   M /trunk/Filters/FilterDesktop.cs
   M /trunk/Filters/FilterDocbook.cs
   M /trunk/Filters/FilterHtml.cs
   M /trunk/Filters/FilterImLog.cs
   M /trunk/Filters/FilterImage.cs
   M /trunk/Filters/FilterJpeg.cs
   M /trunk/Filters/FilterKAddressBook.cs
   M /trunk/Filters/FilterKCal.cs
   M /trunk/Filters/FilterMPlayerVideo.cs
   M /trunk/Filters/FilterOle.cs
   M /trunk/Filters/FilterOpenOffice.cs
   M /trunk/Filters/FilterRPM.cs
   M /trunk/Filters/FilterRTF.cs
   M /trunk/Filters/FilterScribus.cs
   M /trunk/Filters/FilterSource.cs
   M /trunk/Filters/FilterSvg.cs
   M /trunk/Filters/FilterTexi.cs

Code cleanup. Use more string.empty and remove unnecessary checks.

------------------------------------------------------------------------
r3139 | joeshaw | 2006-12-15 17:38:00 -0500 (Fri, 15 Dec 2006) | 10 lines
Changed paths:
   M /trunk/beagrepd/EvolutionMailDriver/EvolutionMailIndexableGenerator.cs
   A /trunk/beagrepd/EvolutionMailDriver/EvolutionSummaryTracker.cs
   M /trunk/beagrepd/LuceneQueryable.cs
   M /trunk/beagrepd/Makefile.am
   M /trunk/beagrepd/Mono.Data.SqliteClient/SqliteCommand.cs

Rather than serializing a Hashtable to disk to track changes in Evolution
mail summaries, which is incredibly memory inefficient for large numbers
of folders or messages, use a simple sqlite database instead.  This fixes
one of the biggest and longest standing memory hotspots in beagrep.

Also add some code to our SqliteClient fork to rethrow exceptions from
sqlite_step() with the error message from sqlite_finalize().  This helped
me track down a problem in which I wasn't releasing a client and was
getting "database locked" errors.

------------------------------------------------------------------------
r3138 | joeshaw | 2006-12-15 13:15:43 -0500 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/search/Search.cs

Remove the number of subtracted hits from the total number of hits

------------------------------------------------------------------------
r3137 | joeshaw | 2006-12-15 12:46:25 -0500 (Fri, 15 Dec 2006) | 2 lines
Changed paths:
   M /trunk/Filters/FilterMusic.cs

Catch FormatException for the year property and ignore it.  bgo #386070

------------------------------------------------------------------------
r3129 | joeshaw | 2006-12-14 18:39:26 -0500 (Thu, 14 Dec 2006) | 4 lines
Changed paths:
   M /trunk/Util/camel.cs

If we get an EOF trying to read a uint or a time value, throw an exception.
Also fix a warning while we're in here, and print out additional info when
we build standalone

------------------------------------------------------------------------
r3128 | jovanna | 2006-12-14 17:54:02 -0500 (Thu, 14 Dec 2006) | 2 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/mk.po

2006-12-14 Jovan Naumovski <jovanna@cvs.gnome.org> *mk.po: Updated Macedonian translation

------------------------------------------------------------------------
r3127 | joeshaw | 2006-12-14 17:17:30 -0500 (Thu, 14 Dec 2006) | 2 lines
Changed paths:
   M /trunk/search/Tiles/WidgetFu.cs

Make labels in the details pane selectable

------------------------------------------------------------------------
r3126 | joeshaw | 2006-12-14 16:58:23 -0500 (Thu, 14 Dec 2006) | 3 lines
Changed paths:
   M /trunk/search/Tiles/Application.cs

If the command-line lockdown key is set, don't display applications in the
TerminalEmulator group

------------------------------------------------------------------------
r3125 | joeshaw | 2006-12-14 16:02:40 -0500 (Thu, 14 Dec 2006) | 2 lines
Changed paths:
   M /trunk/configure.in

Don't call GTK_DOC_CHECK conditionally, it breaks the --disable-libbeagrep case

------------------------------------------------------------------------
r3123 | joeshaw | 2006-12-14 13:36:19 -0500 (Thu, 14 Dec 2006) | 2 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/configure.in

Update for 0.2.14 release

------------------------------------------------------------------------
r3122 | joeshaw | 2006-12-14 13:30:41 -0500 (Thu, 14 Dec 2006) | 2 lines
Changed paths:
   M /trunk/libbeagrep/beagrep/beagrep-indexing-status-response.h
   M /trunk/wrappers/python/beagrep.defs

Fix a typo in libbeagrep that was causing the python bindings to break

------------------------------------------------------------------------
r3121 | joeshaw | 2006-12-14 11:36:26 -0500 (Thu, 14 Dec 2006) | 3 lines
Changed paths:
   M /trunk/configure.in

Only run GTK_DOC_CHECK() if libbeagrep is enabled.  Print whether they're built
in the configure spew

------------------------------------------------------------------------
r3120 | kkubasik | 2006-12-14 09:34:20 -0500 (Thu, 14 Dec 2006) | 2 lines
Changed paths:
   M /trunk/search/Tiles/WebHistory.cs

Use an escaped Uri for Gnome.Url.Show()

------------------------------------------------------------------------
r3119 | kkubasik | 2006-12-14 03:32:44 -0500 (Thu, 14 Dec 2006) | 2 lines
Changed paths:
   M /trunk/search/Tiles/WebHistory.cs

Simple fix to bgo 383787 , WebHistory tiles were calling OpenFromMime as opposed to the more sensable OpenFromUri, which they now do.

------------------------------------------------------------------------
r3118 | joeshaw | 2006-12-13 16:51:53 -0500 (Wed, 13 Dec 2006) | 3 lines
Changed paths:
   M /trunk/tools/Settings.cs

Don't set Hidden=true when disabling autostart, because gnome-session skips
over the file entirely.  This is a gnome-session bug

------------------------------------------------------------------------
r3117 | joeshaw | 2006-12-13 16:17:22 -0500 (Wed, 13 Dec 2006) | 6 lines
Changed paths:
   M /trunk/Util/StringFu.cs
   M /trunk/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrepd/IndexHelper/IndexHelper.cs
   M /trunk/beagrepd/IndexHelper/RemoteIndexerExecutor.cs
   M /trunk/beagrepd/LuceneIndexingDriver.cs
   M /trunk/beagrepd/Makefile.am
   M /trunk/beagrepd/RemoteIndexer.cs

One problem we have with runaway helper processes is that we can't
identify what file has caused the problem and how long it's been going.
This checkin fixes that, by tracking what file is being filtered, by
which filter, and for how long.  That way, users can send SIGUSR2 to
the daemon or helper process and see which file is causing the problem.

------------------------------------------------------------------------
r3116 | kkubasik | 2006-12-13 10:56:19 -0500 (Wed, 13 Dec 2006) | 2 lines
Changed paths:
   M /trunk/search/Tiles/Image.cs

Backing out some unneeded GetFirstProperties

------------------------------------------------------------------------
r3115 | kkubasik | 2006-12-13 10:14:12 -0500 (Wed, 13 Dec 2006) | 2 lines
Changed paths:
   M /trunk/search/Tiles/Image.cs

Fix a couple of crashers in our Image tile.

------------------------------------------------------------------------
r3114 | joeshaw | 2006-12-12 17:29:14 -0500 (Tue, 12 Dec 2006) | 3 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/autogen.sh

Require automake 1.8, since automake 1.7 seems to get SUBDIRS order wrong.
Thanks Max for helping track this down

------------------------------------------------------------------------
r3113 | joeshaw | 2006-12-12 17:09:31 -0500 (Tue, 12 Dec 2006) | 2 lines
Changed paths:
   M /trunk/beagrepd/FileSystemQueryable/FileSystemQueryable.cs

Set DisplayUris for file moves and removals

------------------------------------------------------------------------
r3112 | joeshaw | 2006-12-12 16:55:16 -0500 (Tue, 12 Dec 2006) | 5 lines
Changed paths:
   M /trunk/beagrepd/BuildIndex.cs
   M /trunk/beagrepd/FileAttributesStore.cs

Back out changes to BuildIndex.cs; they were just treating a symptom rather
than the real problem.  Fix the IsUpToDate() check in FileAttributesStore to
do the DateTime to-UTC conversion.  Fixes the reindexing issue on just
about every LuceneFileQueryable

------------------------------------------------------------------------
r3111 | joeshaw | 2006-12-12 15:13:47 -0500 (Tue, 12 Dec 2006) | 3 lines
Changed paths:
   M /trunk/Util/Log.cs

Change the log date format slightly; I've always found it really difficult to
parse visually

------------------------------------------------------------------------
r3110 | hebra | 2006-12-12 10:16:54 -0500 (Tue, 12 Dec 2006) | 5 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/de.po


2006-12-11  Hendrik Brandt  <heb@gnome-de.org>

        * de.po: Updated German translation.

------------------------------------------------------------------------
r3105 | dbera | 2006-12-12 08:45:20 -0500 (Tue, 12 Dec 2006) | 2 lines
Changed paths:
   M /trunk/beagrepd/FileAttributesStore_Sqlite.cs
   M /trunk/beagrepd/SqliteUtils.cs

Use the return value to figure out if fileattr.db operations succeeded.

------------------------------------------------------------------------
r3102 | dbera | 2006-12-11 19:04:53 -0500 (Mon, 11 Dec 2006) | 2 lines
Changed paths:
   M /trunk/beagrepd/BuildIndex.cs

Dont reindex already indexed files. Yet another bug uncovered by the DateTime fixes.

------------------------------------------------------------------------
r3101 | joeshaw | 2006-12-11 16:57:27 -0500 (Mon, 11 Dec 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/autogen.sh

Require automake 1.7, not 1.6

------------------------------------------------------------------------
r3100 | joeshaw | 2006-12-11 16:07:28 -0500 (Mon, 11 Dec 2006) | 2 lines
Changed paths:
   M /trunk/tools/Makefile.am

Fix an issue with the cron scripts not being included in the tarball

------------------------------------------------------------------------
r3099 | joeshaw | 2006-12-11 13:48:33 -0500 (Mon, 11 Dec 2006) | 7 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/autogen.sh
   M /trunk/bludgeon/TarFileObject.cs
   M /trunk/configure.in
   A /trunk/gnome-autogen.sh

Update the build system a little bit, since it was causing some users
trouble.  Use the system's gnome-autogen.sh if it's there, otherwise use
our own included one.  This way we'll get the right automake requirements,
which was causing problems for people who had only automake 1.4.  Update
to using SharpZipLib 0.84, which has been included in Mono for some time
rather than the older one.  This required some fixups to bludgeon.

------------------------------------------------------------------------
r3098 | joeshaw | 2006-12-11 12:18:42 -0500 (Mon, 11 Dec 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.am

only build the po directory if ENABLE_GUI is set.

------------------------------------------------------------------------
r3097 | joeshaw | 2006-12-11 12:16:19 -0500 (Mon, 11 Dec 2006) | 3 lines
Changed paths:
   M /trunk/tools/beagrep-crawl-system.in

Fix a problem where OPTIONS was overridden if --disable-directories was set.
Found by Pat Double

------------------------------------------------------------------------
r3096 | serrador | 2006-12-11 11:50:13 -0500 (Mon, 11 Dec 2006) | 4 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/es.po

2006-12-11  Francisco Javier F. Serrador  <serrador@openshine.com>

	* es.po: Updated Spanish translation.

------------------------------------------------------------------------
r3095 | jfriedl | 2006-12-11 11:04:42 -0500 (Mon, 11 Dec 2006) | 4 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/cs.po

2006-12-11  Jakub Friedl  <jfriedl@suse.cz>

  * cs.po: Updated Czech Translation.

------------------------------------------------------------------------
r3094 | icq | 2006-12-10 14:06:54 -0500 (Sun, 10 Dec 2006) | 2 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/gl.po

*** empty log message ***

------------------------------------------------------------------------
r3093 | dnylande | 2006-12-10 13:19:13 -0500 (Sun, 10 Dec 2006) | 4 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/sv.po

2006-12-10  Daniel Nylander <po@danielnylander.se>

	* sv.po: Updated Swedish translation.

------------------------------------------------------------------------
r3092 | joeshaw | 2006-12-09 23:16:29 -0500 (Sat, 09 Dec 2006) | 2 lines
Changed paths:
   M /trunk/po/POTFILES.in

Add the archived file tile to POTFILES.in

------------------------------------------------------------------------
r3091 | serrador | 2006-12-09 15:27:54 -0500 (Sat, 09 Dec 2006) | 4 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/es.po

2006-12-09  Francisco Javier F. Serrador  <serrador@openshine.com>

	* es.po: Updated Spanish translation.

------------------------------------------------------------------------
r3090 | dbera | 2006-12-09 10:32:45 -0500 (Sat, 09 Dec 2006) | 3 lines
Changed paths:
   M /trunk/beagrepd/LuceneQueryable.cs

What isnt surprising is the fact the URI comparison sucks; but that the effect was only visible while indexing without extended attributes, seemed like info was vanishing from the sqlite db and had all the flavours of a timing bug.
Now correctly (!) compare URIs to figure out parents for child indexables, fixing an occassional looping problem.

------------------------------------------------------------------------
r3089 | joeshaw | 2006-12-08 18:22:35 -0500 (Fri, 08 Dec 2006) | 16 lines
Changed paths:
   M /trunk/beagrepd/EvolutionMailDriver/EvolutionMailIndexableGenerator.cs
   M /trunk/beagrepd/ExtractContent.cs
   M /trunk/beagrepd/IndexerRequest.cs
   M /trunk/beagrepd/LuceneFileQueryable.cs
   M /trunk/beagrepd/LuceneIndexingDriver.cs

Add a count to the number of child indexables found with
beagrep-extract-content.

Update the code in IndexerRequest a little; it was wrong in places, and
make it a little more judicious in its memory usage.

Fix a mem leak of URIs in LuceneFileQueryable.

Make LuceneIndexingDriver be a little smarter about getting indexables
from the IndexerRequest because of my changes to that class.

Don't store the list of accounts in the Evo mail's IMAP indexable
generator, because it's never used outside of one block of code.  Just
make it local to that function, saving a good bit of memory for every
IMAP folder.

------------------------------------------------------------------------
r3088 | serrador | 2006-12-08 14:35:09 -0500 (Fri, 08 Dec 2006) | 4 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/es.po

2006-12-08  Francisco Javier F. Serrador  <serrador@openshine.com>

	* es.po: Updated Spanish translation.

------------------------------------------------------------------------
r3087 | jmas | 2006-12-07 07:25:50 -0500 (Thu, 07 Dec 2006) | 2 lines
Changed paths:
   M /trunk/po/ca.po

Small fixes to Catalan translation

------------------------------------------------------------------------
r3086 | dbera | 2006-12-06 19:15:00 -0500 (Wed, 06 Dec 2006) | 5 lines
Changed paths:
   M /trunk/BeagrepClient/Hit.cs
   M /trunk/Util/DateTimeUtil.cs
   M /trunk/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/tools/Query.cs

Pretty print date in query output.
Honour DISABLE_XATTR by an entirely faulty method (should we revert this since DISABLE_XATTR is only for debugging ?)
DateTime saga continues: datetime -> toutc -> add-seconds != datetime ->add-seconds->toutc. Why ? Because of daylight savings time. Correctly generate DateTime from unix time for DST and non-DST. The movie will return after a break.
Fix a potential crash while retrieving properties.

------------------------------------------------------------------------
r3085 | joeshaw | 2006-12-06 17:46:23 -0500 (Wed, 06 Dec 2006) | 9 lines
Changed paths:
   M /trunk/search/GroupView.cs
   M /trunk/search/Search.cs
   M /trunk/search/Tiles/Calendar.cs
   M /trunk/search/Tiles/Contact.cs
   M /trunk/search/Tiles/DetailsPane.cs
   M /trunk/search/Tiles/MailMessage.cs

Add a status bar to beagrep-search, and display in it the total number of
matching documents and the number that are currently displayed.

Fix some rendering issues in the details pane, especially when you resize
the pane.  Things were pretty ugly before.

Turn off snippet requests for mail messages, as they're never snippeted
now.

------------------------------------------------------------------------
r3084 | joeshaw | 2006-12-06 15:33:46 -0500 (Wed, 06 Dec 2006) | 3 lines
Changed paths:
   M /trunk/Filters/FilterMan.cs

Add text/troff to the list of mime types supported by the man page filter, and
turn on snippet mode

------------------------------------------------------------------------
r3083 | joeshaw | 2006-12-06 15:32:48 -0500 (Wed, 06 Dec 2006) | 2 lines
Changed paths:
   M /trunk/Filters/AssemblyInfo.cs
   A /trunk/Filters/FilterScribus.cs
   M /trunk/Filters/Makefile.am

Added Scribus filter from Alexander Macdonald

------------------------------------------------------------------------
r3082 | joeshaw | 2006-12-06 15:22:42 -0500 (Wed, 06 Dec 2006) | 3 lines
Changed paths:
   M /trunk/beagrepd/LuceneIndexingDriver.cs

Change the format of the child indexable message in the logs to make it eaiser
to read inside of logs

------------------------------------------------------------------------
r3081 | joeshaw | 2006-12-06 14:53:35 -0500 (Wed, 06 Dec 2006) | 2 lines
Changed paths:
   M /trunk/search/Tiles/RSSFeed.cs

Don't scale up RSS feed icons.  Liferea stores icons mostly as 16x16 or 32x32

------------------------------------------------------------------------
r3080 | joeshaw | 2006-12-06 13:50:24 -0500 (Wed, 06 Dec 2006) | 3 lines
Changed paths:
   M /trunk/tools/Settings.cs

Fix the GNOME autostart key.  Key names are case sensitive and
http://www.gnome.org/start/2.14/notes/en/rndevelopers.html is a damned liar.

------------------------------------------------------------------------
r3079 | joeshaw | 2006-12-06 13:35:53 -0500 (Wed, 06 Dec 2006) | 3 lines
Changed paths:
   M /trunk/beagrepd/EvolutionMailDriver/EvolutionMailDriver.cs

If we aren't indexing any folders in the evo mail backend, return -1 for the
progress percentage

------------------------------------------------------------------------
r3078 | joeshaw | 2006-12-06 00:23:45 -0500 (Wed, 06 Dec 2006) | 14 lines
Changed paths:
   M /trunk/beagrepd/LuceneCommon.cs
   M /trunk/beagrepd/QueryResult.cs

Fix a couple of leaks that heap-shot helped find:

* We were leaking IndexReader instances from our refcounted GetReader()
and ReleaseReader() pairs.  This was causing us pain, particularly with
live queries.

* We leaked QueryWorker instances from the QueryResult by never removing
them from our per_worker_started_time hash table.

* Not really a leak, but change the QueryWorker's uri_hash to store the
URI as the value of the hash rather than the Hit, and remove Hit-resolving
methods.  These were causing us to keep around references on Hit objects
that were never used.

------------------------------------------------------------------------
r3077 | dbera | 2006-12-05 15:32:50 -0500 (Tue, 05 Dec 2006) | 2 lines
Changed paths:
   M /trunk/beagrepd/DumpIndex.cs

Pretty-print.

------------------------------------------------------------------------
r3076 | jmas | 2006-12-05 13:04:29 -0500 (Tue, 05 Dec 2006) | 4 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/ca.po

2006-12-05  Jordi Mas <jmas@softcatala.org>

	* ca.po: Updated Catalan translation.

------------------------------------------------------------------------
r3075 | dbera | 2006-12-05 11:46:04 -0500 (Tue, 05 Dec 2006) | 3 lines
Changed paths:
   M /trunk/BeagrepClient/Property.cs
   M /trunk/Filters/FilterArchive.cs

Mutable properties should always be stored.
Store names of archive entries as text-content.

------------------------------------------------------------------------
r3074 | dbera | 2006-12-05 10:26:53 -0500 (Tue, 05 Dec 2006) | 2 lines
Changed paths:
   M /trunk/Util/StringFu.cs

Back out hacks. They broke many other things. Will wait till .Net-2.0 to fix all of these at once instead of adding incremental hacks.

------------------------------------------------------------------------
r3073 | joeshaw | 2006-12-04 18:26:16 -0500 (Mon, 04 Dec 2006) | 2 lines
Changed paths:
   M /trunk/configure.in
   M /trunk/search/Makefile.am
   M /trunk/search/Tiles/File.cs
   M /trunk/search/Tiles/Tile.cs

Add support for xdg-open to beagrep-search

------------------------------------------------------------------------
r3072 | joeshaw | 2006-12-04 17:40:52 -0500 (Mon, 04 Dec 2006) | 4 lines
Changed paths:
   M /trunk/beagrepd/LuceneCommon.cs

Stop using deprecated calls to create new Field instances, and for most of
our non-text fields set that we don't want norms for those fields.  This
should reduce the index size a little and use a little less memory.

------------------------------------------------------------------------
r3071 | joeshaw | 2006-12-04 14:59:52 -0500 (Mon, 04 Dec 2006) | 12 lines
Changed paths:
   M /trunk/Filters/FilterArchive.cs
   M /trunk/Util/XdgMime.cs
   M /trunk/search/Tiles/ArchivedFile.cs
   M /trunk/search/Tiles/Image.cs

Cache content inside archives, so we can get snippets.

Composite the MIME icon for an archive on top of the thumbnail in the
archived file tile.  Thanks Federico for pointing out to me what was
causing a crash.

Fix similar code in the image tile which could also crash, but it's very
unlikely to do so.

Change the details pane of the archive tile to be a little bit more
relevant for archives.

------------------------------------------------------------------------
r3070 | joeshaw | 2006-12-04 14:41:17 -0500 (Mon, 04 Dec 2006) | 15 lines
Changed paths:
   M /trunk/Util/Conf.cs
   M /trunk/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrepd/Makefile.am
   A /trunk/beagrepd/beagrepd-autostart.desktop
   M /trunk/search/Makefile.am
   M /trunk/search/Search.cs
   A /trunk/search/beagrep-search-autostart.desktop
   M /trunk/tools/Makefile.am
   M /trunk/tools/Settings.cs
   M /trunk/tools/settings.glade
   M /trunk/tools/wrapper.in

Deprecate the old --autostarted flag to beagrepd and beagrep-search.

Now that the autostart mechanism is fairly widely deployed, ship
autostart .desktop files for beagrepd and beagrep-search in the tarball,
and hook up the checkbox in beagrep-settings to write out the autostart
files in ~/.config/autostart.

Remove old webservices code and widgets from beagrep-settings, and fix
up a few accelerators.  Fix a problem in which beagrep-settings wouldn't
run out of the source tree because of a missing reference to the images
assembly.

Fix the text in beagrep-search's notification dialog to not mention
"Beagrep", since it isn't mentioned anywhere else in the search app.

------------------------------------------------------------------------
r3069 | serrador | 2006-12-04 12:02:59 -0500 (Mon, 04 Dec 2006) | 4 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/es.po

2006-12-04  Francisco Javier F. Serrador  <serrador@openshine.com>

	* es.po: Updated Spanish translation.

------------------------------------------------------------------------
r3068 | joeshaw | 2006-12-04 11:30:37 -0500 (Mon, 04 Dec 2006) | 2 lines
Changed paths:
   M /trunk/tools/Query.cs

Only show the number of hits if we're in verbose mode

------------------------------------------------------------------------
r3067 | jfriedl | 2006-12-04 10:31:15 -0500 (Mon, 04 Dec 2006) | 4 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/cs.po

2006-12-04  Jakub Friedl <jfriedl@suse.cz>

  * cs.po: Updated Czech translation.

------------------------------------------------------------------------
r3066 | dbera | 2006-12-03 22:40:27 -0500 (Sun, 03 Dec 2006) | 5 lines
Changed paths:
   M /trunk/beagrepd/IndexingServiceQueryable/IndexingServiceQueryable.cs
   M /trunk/beagrepd/LuceneCommon.cs
   M /trunk/beagrepd/LuceneQueryable.cs
   M /trunk/beagrepd/Server.cs

Bump version number of index due to the IsChild property, should have done that before.
Dont set "source" if already set - allows clients using indexing-service to set own names for their backends.
(With previous commit) Better error reporting for libbeagrep clients.
IndexingService is now usable using direct API calls.

------------------------------------------------------------------------
r3065 | dbera | 2006-12-03 22:34:43 -0500 (Sun, 03 Dec 2006) | 2 lines
Changed paths:
   M /trunk/Util/DateTimeUtil.cs
   M /trunk/Util/StringFu.cs

Soon all this datetime clumsiness will be over.

------------------------------------------------------------------------
r3064 | dbera | 2006-12-03 22:32:25 -0500 (Sun, 03 Dec 2006) | 3 lines
Changed paths:
   M /trunk/BeagrepClient/IndexingService.cs
   M /trunk/BeagrepClient/Message.cs
   M /trunk/libbeagrep/beagrep/beagrep-timestamp.c
   M /trunk/libbeagrep/examples
   M /trunk/libbeagrep/examples/.cvsignore
   M /trunk/libbeagrep/examples/Makefile.am
   A /trunk/libbeagrep/examples/beagrep-search-provider.c

Add example code to use beagrep as a service provider.
Set (correct) timezone info in BeagrepTimestamp struct in libbeagrep.

------------------------------------------------------------------------
r3063 | joeshaw | 2006-12-03 21:39:54 -0500 (Sun, 03 Dec 2006) | 2 lines
Changed paths:
   M /trunk/beagrepd/BeagrepDaemon.cs

Change the GC.GetTotalMemory() threshold to 10%; otherwise there are just too many snapshots

------------------------------------------------------------------------
r3062 | joeshaw | 2006-12-03 16:07:47 -0500 (Sun, 03 Dec 2006) | 2 lines
Changed paths:
   M /trunk/beagrepd/BeagrepDaemon.cs

Remove debug spew

------------------------------------------------------------------------
r3061 | joeshaw | 2006-12-03 16:07:14 -0500 (Sun, 03 Dec 2006) | 2 lines
Changed paths:
   M /trunk/beagrepd/BeagrepDaemon.cs

Oops, fix a scale problem with the RSS size calculation

------------------------------------------------------------------------
r3060 | joeshaw | 2006-12-03 15:59:59 -0500 (Sun, 03 Dec 2006) | 17 lines
Changed paths:
   M /trunk/Filters/FilterArchive.cs
   M /trunk/Util/ArrayFu.cs
   M /trunk/Util/Scheduler.cs
   M /trunk/Util/StringFu.cs
   M /trunk/Util/SystemInformation.cs
   M /trunk/beagrepd/BeagrepDaemon.cs
   M /trunk/beagrepd/IndexHelper/IndexHelper.cs
   M /trunk/beagrepd/LuceneIndexingDriver.cs

Index at most 30 files inside archives.  This is to avoid huge allocations
on very large archives, like the one I have of a backed up home direcotry.

Fix a major issue where we were boxing characters every time we processed
a URI.

Use DateTime.UtcNow when calculating load averages, to avoid unnecessary
allocations related to timezones.

If --heap-buddy or --heap-shot are provided, assume --debug-memory.  If
running with --heap-shot and the RSS increases by more than 5% or 5 megs,
or the size of GC.GetTotalMemory() increases by more than 5%,
automatically send SIGPROF to generate a memory snapshot.

Log the number of child indexables created, and whether we're running
with BEAGREP_EXERCISE_THE_DOG.

------------------------------------------------------------------------
r3059 | aihana | 2006-12-03 01:57:07 -0500 (Sun, 03 Dec 2006) | 4 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/ja.po

2006-12-03  Takeshi AIHANA <takeshi.aihana@gmail.com>

	* ja.po: Updated Japanese translation for v0.2.13.

------------------------------------------------------------------------
r3058 | dbera | 2006-12-02 01:47:45 -0500 (Sat, 02 Dec 2006) | 2 lines
Changed paths:
   M /trunk/BeagrepClient/Indexable.cs
   M /trunk/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrepd/LuceneCommon.cs
   M /trunk/beagrepd/LuceneIndexingDriver.cs
   M /trunk/beagrepd/LuceneQueryable.cs

Some more fixes wrt child-indexables. Namely, fix proper handling of child indexables in indexing     hooks. For property changes, propagate the changes to all its children - this is necessary because    some parent properties might be duplicated in child. Also some cleanup to keep the code managable.    Thanks to Joe for pointing out the crashes. Testing, more stress testing requested. Also, test the mail backends - they might be affected because of all the child indexable changes.

------------------------------------------------------------------------
r3057 | joeshaw | 2006-12-01 18:08:36 -0500 (Fri, 01 Dec 2006) | 12 lines
Changed paths:
   M /trunk/Filters/FilterArchive.cs
   M /trunk/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/search/Makefile.am
   A /trunk/search/Tiles/ArchivedFile.cs
   M /trunk/search/Tiles/AssemblyInfo.cs
   M /trunk/search/Tiles/File.cs
   M /trunk/search/Tiles/MailMessage.cs
   M /trunk/search/Tiles/OpenWithMenu.cs
   M /trunk/search/Tiles/Tile.cs
   M /trunk/search/Tiles/Utils.cs

Add a new archived file tile to beagrep-search.  Still needs a little love.

Fix an issue where ParentUris of files were the internal URIs, not the
real URIs.

Fix a crash when the OpenWith menu has no items.

Mark items as being inside an archive in the archive filter.

Change the "your data is being indexed" text in the notification area to
not mention "Beagrep", since it's not used anywhere else in the UI.

------------------------------------------------------------------------
r3056 | dbera | 2006-12-01 17:08:51 -0500 (Fri, 01 Dec 2006) | 2 lines
Changed paths:
   M /trunk/Filters/HtmlAgilityPack/HtmlDocument.cs

Fix a potential crash in html parsing code. How come it was never reported ?

------------------------------------------------------------------------
r3055 | joeshaw | 2006-12-01 16:43:35 -0500 (Fri, 01 Dec 2006) | 10 lines
Changed paths:
   M /trunk/beagrepd/Server.cs
   M /trunk/libbeagrep/beagrep/Makefile.am
   M /trunk/libbeagrep/beagrep/beagrep-hits-added-response.c
   A /trunk/libbeagrep/beagrep/beagrep-indexing-status-response.c
   A /trunk/libbeagrep/beagrep/beagrep-indexing-status-response.h
   A /trunk/libbeagrep/beagrep/beagrep-informational-messages-request.c
   A /trunk/libbeagrep/beagrep/beagrep-informational-messages-request.h
   M /trunk/libbeagrep/beagrep/beagrep-parser.c
   M /trunk/libbeagrep/beagrep/beagrep-request.c
   M /trunk/libbeagrep/beagrep/beagrep-search-term-response.c
   M /trunk/libbeagrep/beagrep/beagrep.h
   M /trunk/libbeagrep/examples/beagrep-search.c
   M /trunk/wrappers/python/beagrep.defs

Add the informational request message and indexing status response messages
to libbeagrep and the python bindings.  Also add sample usage to the
examples/beagrep-search.c file.

Fix a logic bug in the libbeagrep message parser that was causing problems
if you sent different types of complex messages.  Remove some dead code.

Add printing of the response in libbeagrep apps if ENABLE_XML_DUMP is
defined.

------------------------------------------------------------------------
r3054 | joeshaw | 2006-12-01 14:09:13 -0500 (Fri, 01 Dec 2006) | 2 lines
Changed paths:
   M /trunk/Filters/FilterMail.cs

Add DisplayUri support to the mail filter

------------------------------------------------------------------------
r3053 | joeshaw | 2006-12-01 14:06:48 -0500 (Fri, 01 Dec 2006) | 5 lines
Changed paths:
   M /trunk/BeagrepClient/Indexable.cs
   M /trunk/Filters/FilterArchive.cs
   M /trunk/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrepd/Filter.cs
   M /trunk/beagrepd/FilterFactory.cs
   M /trunk/beagrepd/LuceneQueryable.cs

Make the DisplayUri a real thing rather than just selecting the ContentUri if
the URI scheme is a UID (used in the file backend).  This makes archives
look pretty when they're being indexed.  Also dial down the debug spew a
little bit

------------------------------------------------------------------------
r3052 | joeshaw | 2006-12-01 13:39:30 -0500 (Fri, 01 Dec 2006) | 3 lines
Changed paths:
   M /trunk/BeagrepClient/Indexable.cs
   M /trunk/beagrepd/IndexHelper/RemoteIndexerExecutor.cs

After we store child indexable streams in the helper, close them out since we
don't need to keep them open any longer

------------------------------------------------------------------------
r3051 | joeshaw | 2006-12-01 13:38:55 -0500 (Fri, 01 Dec 2006) | 2 lines
Changed paths:
   M /trunk/Filters/FilterArchive.cs

Clean the archive filter up a lot, add support for non-tarred gzip and bzip files

------------------------------------------------------------------------
r3050 | dbera | 2006-12-01 12:51:37 -0500 (Fri, 01 Dec 2006) | 2 lines
Changed paths:
   M /trunk/beagrepd/ExtractContent.cs

Cleanup child indexables in beagrep-extract-content. Print timestamp with timezone info.

------------------------------------------------------------------------
r3049 | kmaraas | 2006-12-01 06:07:31 -0500 (Fri, 01 Dec 2006) | 4 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/nb.po

2006-12-01  Kjartan Maraas  <kmaraas@gnome.org>

	* nb.po: Updated Norwegian bokmÃ¥l translation.

------------------------------------------------------------------------
r3048 | dbera | 2006-11-30 12:10:50 -0500 (Thu, 30 Nov 2006) | 2 lines
Changed paths:
   M /trunk/Filters/FilterSvg.cs

Fix crash (#380544) and code cleanup in SVG Filter (patch from Alexander Macdonald).

------------------------------------------------------------------------
r3047 | joeshaw | 2006-11-29 16:58:57 -0500 (Wed, 29 Nov 2006) | 2 lines
Changed paths:
   M /trunk/Filters/FilterArchive.cs

Also: no reason for the archive filter to implement IDisposable

------------------------------------------------------------------------
r3046 | joeshaw | 2006-11-29 16:58:11 -0500 (Wed, 29 Nov 2006) | 2 lines
Changed paths:
   M /trunk/Filters/FilterArchive.cs

Get rid of the archive filter's 'ArchiveHandler' class.  It has no point.

------------------------------------------------------------------------
r3045 | joeshaw | 2006-11-29 16:57:20 -0500 (Wed, 29 Nov 2006) | 2 lines
Changed paths:
   M /trunk/beagrepd/ExtractContent.cs

Only show the timestamp in beagrep-extract-content if it's valid

------------------------------------------------------------------------
r3044 | joeshaw | 2006-11-29 15:05:37 -0500 (Wed, 29 Nov 2006) | 3 lines
Changed paths:
   M /trunk/Util/SystemInformation.cs

Work around a problem in Mono 1.2.1 by having IsPathOnBlockDevice() return
true if stat() fails for some reason.

------------------------------------------------------------------------
r3043 | joeshaw | 2006-11-29 14:25:43 -0500 (Wed, 29 Nov 2006) | 2 lines
Changed paths:
   M /trunk/beagrepd/Lucene.Net/Index/SegmentReader.cs
   A /trunk/beagrepd/Lucene.Net/upstream-changes/25_avoid_boxing.patch

Fix some unncessary boxing in Lucene

------------------------------------------------------------------------
r3042 | llipka | 2006-11-29 12:28:32 -0500 (Wed, 29 Nov 2006) | 2 lines
Changed paths:
   M /trunk/search/NotificationArea.cs
   M /trunk/search/Search.cs

Fix some graphical glitches with the NotificationArea like displaying it before adding a message.

------------------------------------------------------------------------
r3041 | kelemeng | 2006-11-28 21:41:36 -0500 (Tue, 28 Nov 2006) | 4 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/hu.po

2006-11-29  Gabor Kelemen  <kelemeng@gnome.hu>

	* hu.po: Translation updated.

------------------------------------------------------------------------
r3040 | joeshaw | 2006-11-28 17:03:57 -0500 (Tue, 28 Nov 2006) | 2 lines
Changed paths:
   M /trunk/beagrepd/FileSystemQueryable/FileSystemQueryable.cs

Fix typo

------------------------------------------------------------------------
r3039 | joeshaw | 2006-11-28 16:55:26 -0500 (Tue, 28 Nov 2006) | 2 lines
Changed paths:
   A /trunk/BeagrepClient/IndexingStatusResponse.cs

Add a file I forgot from the last commit

------------------------------------------------------------------------
r3038 | dbera | 2006-11-28 16:40:13 -0500 (Tue, 28 Nov 2006) | 3 lines
Changed paths:
   M /trunk/Filters/FilterHtml.cs

Use current encoding while decoding URLs. A lot of those nasty html filter exceptions (System.FormatException: Input string was not in the correct format) should be gone now.
If they still show up, make sure you have a recent mono (mono bug #77931).

------------------------------------------------------------------------
r3037 | joeshaw | 2006-11-28 16:36:08 -0500 (Tue, 28 Nov 2006) | 32 lines
Changed paths:
   M /trunk/BeagrepClient/AssemblyInfo.cs
   A /trunk/BeagrepClient/InformationalMessagesRequest.cs
   M /trunk/BeagrepClient/Makefile.am
   M /trunk/BeagrepClient/QueryableStatus.cs
   M /trunk/BeagrepClient/RemoteControl.cs
   M /trunk/Util/Inotify.cs
   M /trunk/Util/Scheduler.cs
   M /trunk/beagrepd/AkregatorQueryable/AkregatorQueryable.cs
   M /trunk/beagrepd/AssemblyInfo.cs
   M /trunk/beagrepd/BlamQueryable/BlamQueryable.cs
   M /trunk/beagrepd/EvolutionDataServerQueryable/EvolutionDataServerQueryable.cs
   M /trunk/beagrepd/EvolutionMailDriver/EvolutionMailDriver.cs
   M /trunk/beagrepd/EvolutionMailDriver/EvolutionMailIndexableGenerator.cs
   M /trunk/beagrepd/FileSystemQueryable/FileCrawlTask.cs
   M /trunk/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrepd/FileSystemQueryable/TreeCrawlTask.cs
   M /trunk/beagrepd/GaimLogQueryable/GaimLogQueryable.cs
   M /trunk/beagrepd/IndexingServiceQueryable/IndexingServiceQueryable.cs
   A /trunk/beagrepd/InformationalMessagesRequestExecutor.cs
   M /trunk/beagrepd/KAddressBookQueryable/KabcQueryable.cs
   M /trunk/beagrepd/KMailQueryable/KMailQueryable.cs
   M /trunk/beagrepd/KonqBookmarkQueryable/KonqBookmarkQueryable.cs
   M /trunk/beagrepd/KonqHistoryQueryable/KonqQueryable.cs
   M /trunk/beagrepd/KopeteQueryable/KopeteQueryable.cs
   M /trunk/beagrepd/LabyrinthQueryable/LabyrinthQueryable.cs
   M /trunk/beagrepd/LifereaQueryable/LifereaQueryable.cs
   M /trunk/beagrepd/LuceneQueryable.cs
   M /trunk/beagrepd/Makefile.am
   M /trunk/beagrepd/QueryDriver.cs
   M /trunk/beagrepd/ThunderbirdQueryable/ThunderbirdQueryable.cs
   M /trunk/libbeagrep/beagrep/beagrep-daemon-information-response.c
   M /trunk/libbeagrep/beagrep/beagrep-queryable-status.c
   M /trunk/libbeagrep/beagrep/beagrep-queryable-status.h
   M /trunk/search/NotificationArea.cs
   M /trunk/search/Search.cs

Add infrastructure to signal clients whether or not we're doing the initial
index:

* Add a new request message, InformationalMessagesRequest, which is an
asynchronous message type for getting out-of-band, general messages from
the daemon.

* Add a new response message, IndexingStatusResponse, which indicates
whether or not the daemon is doing the initial index.

* Remove the use of QueryableState throughout the code; it never worked
well and so it's been deprecated.

* Make it the responsibility of the backend to report its crawl status,
rather than trying to guess it using QueryableState.  This makes things
a lot more reliable as backends can track this better than the
infrastructure.  Add support to determine this to the files, evolution
mail, evolution data server, and gaim log backends.

* Make progress percentages pulled on-demand from the backend rather than
stored as part of the LuceneQueryable.  This feels like a cleaner design.

* Hook the beagrep-search UI up to the new messages, so that it can
detect changes and present the UI to the user.

And also:

* Clean up some usages of the Log class in the various backends, since I
had to touch most of them up anyway, and in the Inotify code.

* Improve some logging in the code, particularly in the FSQ backend.

------------------------------------------------------------------------
r3036 | kkubasik | 2006-11-27 21:09:14 -0500 (Mon, 27 Nov 2006) | 2 lines
Changed paths:
   M /trunk/tools/Settings.cs

Spelling error

------------------------------------------------------------------------
r3035 | joeshaw | 2006-11-27 20:03:32 -0500 (Mon, 27 Nov 2006) | 2 lines
Changed paths:
   M /trunk/search/NotificationArea.cs
   M /trunk/search/Search.cs

Make the notification area  little bit nicer

------------------------------------------------------------------------
r3034 | djihed | 2006-11-27 12:05:39 -0500 (Mon, 27 Nov 2006) | 2 lines
Changed paths:
   M /trunk/po/ChangeLog
   M /trunk/po/ar.po

Updated Arabic Translation.  Translated by Khaled Hosny

------------------------------------------------------------------------
r3033 | dbera | 2006-11-25 19:23:30 -0500 (Sat, 25 Nov 2006) | 2 lines
Changed paths:
   M /trunk/glue/xdgmime/README
   M /trunk/glue/xdgmime/xdgmimealias.c

Minor update to xdgmime to sync with upstream.

------------------------------------------------------------------------
r3032 | dbera | 2006-11-25 18:52:47 -0500 (Sat, 25 Nov 2006) | 2 lines
Changed paths:
   M /trunk/beagrepd/NoiseFilter.cs

Fix a logic error. Pass longer numbers like my India phone number.

------------------------------------------------------------------------
r3031 | dbera | 2006-11-24 21:45:48 -0500 (Fri, 24 Nov 2006) | 2 lines
Changed paths:
   M /trunk/beagrepd/LuceneCommon.cs
   M /trunk/beagrepd/NoiseFilter.cs

Tokenize 001234 as 1234. Include a testing function in NoiseFilter to figure out what/how words are tokenized.

------------------------------------------------------------------------
r3030 | dbera | 2006-11-24 19:01:41 -0500 (Fri, 24 Nov 2006) | 2 lines
Changed paths:
   M /trunk/beagrepd/FileSystemQueryable/FileSystemQueryable.cs

dead code

------------------------------------------------------------------------
r3028 | dbera | 2006-11-24 16:33:15 -0500 (Fri, 24 Nov 2006) | 3 lines
Changed paths:
   M /trunk/beagrepd/FileSystemQueryable/FileSystemQueryable.cs

Handle child indexables for files backend. Phew, At last! Add capability of HitFilter to properly filter child documents and remap their URI correctly. Add relevant patches from dsd's patches in bugzilla.
Oh, forgot to attribute earlier - the archive filter I checked in was written by Varadhan.

------------------------------------------------------------------------
r3027 | dbera | 2006-11-24 16:30:28 -0500 (Fri, 24 Nov 2006) | 2 lines
Changed paths:
   M /trunk/beagrepd/LuceneQueryable.cs

Indexable is not marked _done_ until all the child indexables (including child of child and so on) are indexed. Which means I can crash your beagrepd by sending you an email attaching a zipped bad doc file ;-). This is the initial implementation - it will become better over the next few releases.

------------------------------------------------------------------------
r3026 | dbera | 2006-11-24 16:22:31 -0500 (Fri, 24 Nov 2006) | 2 lines
Changed paths:
   M /trunk/beagrepd/IndexerReceipts.cs
   M /trunk/beagrepd/LuceneCommon.cs

Store in the index whether an indexable is a child indexable. Store both Uri and ParentUri in both indexes for easy removal.

------------------------------------------------------------------------
r3025 | dbera | 2006-11-24 16:14:56 -0500 (Fri, 24 Nov 2006) | 2 lines
Changed paths:
   M /trunk/BeagrepClient/Indexable.cs
   M /trunk/beagrepd/ExtractContent.cs
   M /trunk/beagrepd/FilterFactory.cs

Improved support for child indexables wrt ParentUri (parenturi always points to the toplevel parent) and parent properties (copy properties from all parents, grand*parents as parent:foo). Changes from dsd's patches in bugzilla merged.

------------------------------------------------------------------------
r3024 | dbera | 2006-11-24 16:03:05 -0500 (Fri, 24 Nov 2006) | 3 lines
Changed paths:
   M /trunk/Util/UriFu.cs
   M /trunk/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrepd/FileSystemQueryable/LuceneNameResolver.cs
   M /trunk/beagrepd/LuceneCommon.cs
   M /trunk/beagrepd/LuceneQueryingDriver.cs
   M /trunk/beagrepd/QueryStringParser.cs

Some useful URI functions.
Move method to add standard file properties and common property names to Util so that archive filter (and other files-in-file filters) can use them.

------------------------------------------------------------------------
r3023 | dbera | 2006-11-24 15:48:56 -0500 (Fri, 24 Nov 2006) | 2 lines
Changed paths:
   M /trunk/BeagrepClient/Property.cs
   M /trunk/Filters/AssemblyInfo.cs
   A /trunk/Filters/FilterArchive.cs
   M /trunk/Filters/Makefile.am

Add FilterArchive from bugzilla with some minor modifications. Archive filter needs some work; more interesting properties of the archive file itself needs to be stored (names of archive contents ?) and nested archives are not working.

------------------------------------------------------------------------
r3022 | dbera | 2006-11-24 15:31:56 -0500 (Fri, 24 Nov 2006) | 2 lines
Changed paths:
   A /trunk/Util/DateTimeUtil.cs
   M /trunk/Util/Makefile.am
   M /trunk/Util/Thunderbird.cs
   M /trunk/Util/camel.cs
   M /trunk/beagrepd/FileSystemQueryable/FileSystemQueryable.cs
   M /trunk/beagrepd/KonqBookmarkQueryable/KonqBookmarkQueryable.cs
   M /trunk/beagrepd/KonqHistoryQueryable/KonqQueryable.cs
   M /trunk/beagrepd/LifereaQueryable/LifereaQueryable.cs
   M /trunk/beagrepd/LuceneCommon.cs
   M /trunk/beagrepd/LuceneFileQueryable.cs

Some more DateTime hack - except this one fixes a fatal bug that got uncovered recently. The bug caused already indexed document to be re-indexed upon beagrepd restart. This was due to (1970,1,1) not being parsed as epoch but epoch-timezoneoffset. Move to gmcs is long overdue, need to flush out local changes before that.

------------------------------------------------------------------------
r3020 | llipka | 2006-11-21 14:55:02 -0500 (Tue, 21 Nov 2006) | 2 lines
Changed paths:
   M /trunk/search/NotificationArea.cs
   M /trunk/search/Search.cs

Very lame notification about the fact that we are still in the process of indexing data.

------------------------------------------------------------------------
r3019 | llipka | 2006-11-21 14:17:45 -0500 (Tue, 21 Nov 2006) | 2 lines
Changed paths:
   M /trunk/search/Makefile.am
   A /trunk/search/NotificationArea.cs
   M /trunk/search/Pages/Base.cs
   M /trunk/search/Pages/QuickTips.cs
   M /trunk/search/Search.cs

Base implementation for a notification system in beagrep-search. Now the goodies will follow.

------------------------------------------------------------------------
r3018 | kkubasik | 2006-11-21 03:25:48 -0500 (Tue, 21 Nov 2006) | 2 lines
Changed paths:
   M /trunk/search/Makefile.am

I can't say I know how or why it wasn't there, but it wasn't.....

------------------------------------------------------------------------
r3017 | dbera | 2006-11-20 21:12:58 -0500 (Mon, 20 Nov 2006) | 2 lines
Changed paths:
   M /trunk/configure.in

./configure wasnt happy if gsf is present but no wv. Its happy now. pkg-check-modules requires action-not-found for this. One more autoconf thing I didnt know. Huh!

------------------------------------------------------------------------
r3016 | joeshaw | 2006-11-20 17:43:51 -0500 (Mon, 20 Nov 2006) | 3 lines
Changed paths:
   M /trunk/configure.in

Only check for wv1 if we have gsf-sharp, because we need both for MS Word
filtering

------------------------------------------------------------------------
r3014 | joeshaw | 2006-11-20 15:29:27 -0500 (Mon, 20 Nov 2006) | 2 lines
Changed paths:
   M /trunk/NEWS
   M /trunk/configure.in

Update for 0.2.13 release

------------------------------------------------------------------------
------------------------------------------------------------------------
r3394 | joeshaw | 2007-02-07 11:28:58 -0500 (Wed, 07 Feb 2007) | 1 line

Update for 0.2.16 release
------------------------------------------------------------------------
r3393 | joeshaw | 2007-02-07 11:24:36 -0500 (Wed, 07 Feb 2007) | 1 line

Temporarily back out the opera backend for the 0.2.16 release
------------------------------------------------------------------------
r3392 | joeshaw | 2007-02-07 11:16:43 -0500 (Wed, 07 Feb 2007) | 1 line

Bump version number on SVG filter
------------------------------------------------------------------------
r3391 | kkubasik | 2007-02-06 23:23:46 -0500 (Tue, 06 Feb 2007) | 3 lines

 r195@kjk38-laptop:  kjk38 | 2007-02-06 23:24:16 -0500
 Initial import of the opera history backend

------------------------------------------------------------------------
r3390 | leonardof | 2007-02-06 21:38:58 -0500 (Tue, 06 Feb 2007) | 6 lines

2007-02-07  Leonardo Ferreira Fontenelle  <leonardof@svn.gnome.org>

	* pt_BR.po: Updated Brazilian Portuguese translation by Igor Pires
	Soares <igor@projetofedora.org>.


------------------------------------------------------------------------
r3389 | dbera | 2007-02-06 19:27:30 -0500 (Tue, 06 Feb 2007) | 2 lines

Batik svg files do not declare xlink namespace. Handle that explicitly.

------------------------------------------------------------------------
r3388 | joeshaw | 2007-02-06 18:19:13 -0500 (Tue, 06 Feb 2007) | 1 line

Updated SVG filter, from Alex Macdonald
------------------------------------------------------------------------
r3387 | joeshaw | 2007-02-06 18:17:52 -0500 (Tue, 06 Feb 2007) | 2 lines

Use indexable.MimeType rather than filter.MimeType, which isn't canonical and
shouldn't really be used outside of the filter itself
------------------------------------------------------------------------
r3386 | joeshaw | 2007-02-06 15:31:43 -0500 (Tue, 06 Feb 2007) | 1 line

Roll back our mono requirement to 1.1.13.5
------------------------------------------------------------------------
r3385 | joeshaw | 2007-02-06 11:38:13 -0500 (Tue, 06 Feb 2007) | 5 lines

Only set the mime type in the indexable.ContentUri.IsFile block if it
hasn't already been set by a backend.  Fixes the problem where
Thunderbird mails were being stored as text/plain.


------------------------------------------------------------------------
r3384 | dbera | 2007-02-06 11:24:12 -0500 (Tue, 06 Feb 2007) | 2 lines

beagrep-hit.c: "(null)" does not deserialize to null Uri. Watch for null ParentUri when serializing.

------------------------------------------------------------------------
r3383 | pgeyleg | 2007-02-06 00:26:45 -0500 (Tue, 06 Feb 2007) | 1 line

dzongkha translation added
------------------------------------------------------------------------
r3382 | dbera | 2007-02-05 17:10:20 -0500 (Mon, 05 Feb 2007) | 2 lines

Remove debug messages from Semweb.

------------------------------------------------------------------------
r3381 | jmas | 2007-02-05 16:55:18 -0500 (Mon, 05 Feb 2007) | 5 lines

2007-02-05  Jordi Mas <jmas@softcatala.org>

	* ca.po: Updated Catalan translation.


------------------------------------------------------------------------
r3380 | dbera | 2007-02-05 16:06:43 -0500 (Mon, 05 Feb 2007) | 2 lines

Remove some debug messages while parsing image files.

------------------------------------------------------------------------
r3379 | joeshaw | 2007-02-05 15:57:03 -0500 (Mon, 05 Feb 2007) | 1 line

Don't set IsIndexing if a folder is being recrawled due to an inotify event
------------------------------------------------------------------------
r3378 | joeshaw | 2007-02-05 15:36:43 -0500 (Mon, 05 Feb 2007) | 1 line

Remove some unused code I accidentally committed
------------------------------------------------------------------------
r3377 | joeshaw | 2007-02-05 14:58:03 -0500 (Mon, 05 Feb 2007) | 21 lines

Rework the way we do reporting of whether or not we're indexing to make
it a more active task for backends, rather than passive.  This fixes
problems trying to deal with this sanely in the file system backend.

* Remove some dead code from QueryDriver.cs.

* No longer declare IsIndexing_get as virtual, and replace it with a
private instance variable.  It's now the backends' responsibility to
set IsIndexing as the status changes, rather than waiting for the
getter to be called and reporting the current state of things.

* Update the file system backend to the new scheme.  Should fix problems
where the "currently indexing" info box stays on in beagrep-search even
after the initial crawl has finished.

* Also update Evolution mail, EDS, Gaim, and Konversation backends to
the new scheme.

* Improve the status message when indexing files inside a directory.


------------------------------------------------------------------------
r3376 | dbera | 2007-02-05 13:12:15 -0500 (Mon, 05 Feb 2007) | 2 lines

* libbeagrep/beagrep/beagrep-hit.c: Add ParentUri to snippet_request->hit. This is needed by some backends that check for parent uri while generating snippets.

------------------------------------------------------------------------
r3375 | dbera | 2007-02-05 12:11:20 -0500 (Mon, 05 Feb 2007) | 4 lines

* Konversation backend: Add server and channel name as properties. Somehow missed this before.
* LuceneIndexingDriver: Back out a change from yesterday. Its incorrect.


------------------------------------------------------------------------
r3374 | aihana | 2007-02-05 07:30:59 -0500 (Mon, 05 Feb 2007) | 4 lines

2007-02-05  Takeshi AIHANA <takeshi.aihana@gmail.com>

        * ja.po: Updated Japanese translation.

------------------------------------------------------------------------
r3373 | dbera | 2007-02-04 17:23:12 -0500 (Sun, 04 Feb 2007) | 4 lines

Correctly handle filter versions while indexing.
* FileSystemQueryable.cs, FileAttributesStore.cs: If filter information is not present for a file, resubmit it for indexing. Ideally, we would like to resubmit whenever a new filter version is present, but that is becoming too costly.
* FileAttributes.cs: Valid filter can have version 0+. Fix the version checking.

------------------------------------------------------------------------
r3372 | dbera | 2007-02-04 12:21:51 -0500 (Sun, 04 Feb 2007) | 2 lines

Konversation backend: Better protection against old log files. Also, fix a bug where one log file would be indexed twice.

------------------------------------------------------------------------
r3369 | dbera | 2007-02-03 18:20:51 -0500 (Sat, 03 Feb 2007) | 2 lines

Filter.cs: Explicitly warn Filters if they try to register a type in constructor.

------------------------------------------------------------------------
r3368 | dnylande | 2007-02-02 18:45:45 -0500 (Fri, 02 Feb 2007) | 1 line

sv.po: Swedish translation updated
------------------------------------------------------------------------
r3367 | dbera | 2007-02-02 18:06:38 -0500 (Fri, 02 Feb 2007) | 2 lines

KMailQueryable.cs: Fix checking whether a directory is a valid kmail directory. Fixes #401767 and #391647.

------------------------------------------------------------------------
r3366 | dbera | 2007-02-02 16:10:32 -0500 (Fri, 02 Feb 2007) | 2 lines

Konversation backend: return true for IsIndexing when performing initial indexing.

------------------------------------------------------------------------
r3365 | dbera | 2007-02-02 15:13:17 -0500 (Fri, 02 Feb 2007) | 2 lines

Really old konversation logfiles have bad timestamp strings. Ignore those lines completely, preventing crash if you have these old files.

------------------------------------------------------------------------
r3364 | joeshaw | 2007-02-02 13:54:11 -0500 (Fri, 02 Feb 2007) | 6 lines

Mono doesn't handle JITted code running in a child process after a
fork() very well, and can often hang.  Change our process limiting code
to execute in C after the fork, rather than in C# in the runtime.  It's
a little less flexible in theory, but has higher reliability.


------------------------------------------------------------------------
r3363 | icq | 2007-02-02 09:12:23 -0500 (Fri, 02 Feb 2007) | 2 lines

Updated Galician Translation

------------------------------------------------------------------------
r3362 | joeshaw | 2007-02-01 16:07:35 -0500 (Thu, 01 Feb 2007) | 1 line

Also run pdftotext -q (for quiet) again
------------------------------------------------------------------------
r3361 | joeshaw | 2007-02-01 16:05:29 -0500 (Thu, 01 Feb 2007) | 2 lines

Bleh, r3360 didn't work and just inverted the deadlock.  Just ignore and
don't redirect stderr for now
------------------------------------------------------------------------
r3360 | joeshaw | 2007-02-01 15:50:24 -0500 (Thu, 01 Feb 2007) | 7 lines

pdftotext completely spams stderr on some documents, which causes a
deadlock between beagrepd-helper and pdftotext: pdftotext is blocking on
additional buffer space to write out more warnings while beagrepd-helper
is blocking on data from stdout.  Fix this by processing data from
stderr before processing stdout in DoPull(), rather than deferring it
all until DoClose().  Fixes Jan's part of bnc #402065

------------------------------------------------------------------------
r3357 | joeshaw | 2007-01-31 18:44:13 -0500 (Wed, 31 Jan 2007) | 2 lines

Don't include a pre-configured beagrep-crawl-system in the tarball.  Fixes
bgo #401504
------------------------------------------------------------------------
r3356 | joeshaw | 2007-01-31 16:07:31 -0500 (Wed, 31 Jan 2007) | 1 line

Change a couple of chatty Warns to Debugs in the KMail backend
------------------------------------------------------------------------
r3355 | joeshaw | 2007-01-31 15:08:29 -0500 (Wed, 31 Jan 2007) | 4 lines

Add --no-snapshot to beagrepd to keep it from automatically snapshotting
when --heap-shot is provided.


------------------------------------------------------------------------
r3354 | joeshaw | 2007-01-31 14:56:27 -0500 (Wed, 31 Jan 2007) | 17 lines

Put the looping bug out to pasture once and for all.

In FSQ.DoneCrawlingOneDirectory(), in the event that we get a null file
attribute back -- which should no longer happen -- complain loudly but 
still mark the directory as clean.  This will prevent the daemon from
looping on that one directory.

Fix our sqlite schema for our fallback FileAttributesStore.  We were
declaring our columns as STRING -- which isn't valid -- instead of TEXT.
This meant that fields were defaulting to being integer-like.  Filenames
like "0009" became "9" in the database.  Bump up the schema version and
fix that.  Also make our file_path index unique, so we don't have to
deal with potential multiple entries in the database.

Add debugging output to the FileAttributesStore.


------------------------------------------------------------------------
r3353 | joeshaw | 2007-01-30 17:32:00 -0500 (Tue, 30 Jan 2007) | 2 lines

Use a better GenericName in the beagrep-settings .desktop file, lose the
redundant comment
------------------------------------------------------------------------
r3352 | joeshaw | 2007-01-30 16:34:22 -0500 (Tue, 30 Jan 2007) | 10 lines

Only do the position check hack in the archive filter for gzip archives;
looks like the position is pretty much worthless for bzip2 archives and
it triggers this code path.

Fix a bug where we were leaking a tempfile when decompressing archives
of more than 30 files.

Improve debug output when storing streams in Indexable.cs.


------------------------------------------------------------------------
r3351 | joeshaw | 2007-01-30 16:07:16 -0500 (Tue, 30 Jan 2007) | 6 lines

Workaround archive files that cause infinite loops.  When reading from
an archive stream, if we are extracting the maximum amount of data and
our position in the stream isn't moving, break out of the loop and flag
the file as bad.  Don't create child indexables for such entries.


------------------------------------------------------------------------
r3350 | joeshaw | 2007-01-30 15:37:11 -0500 (Tue, 30 Jan 2007) | 1 line

Add more info to the ExceptionHandlingThread name
------------------------------------------------------------------------
r3349 | joeshaw | 2007-01-30 15:11:13 -0500 (Tue, 30 Jan 2007) | 4 lines

Always dispose of the SqliteCommand, even if we get an exception.  Log
the SQL that caused an exception inside of DoNonQuery()


------------------------------------------------------------------------
r3348 | joeshaw | 2007-01-30 15:01:05 -0500 (Tue, 30 Jan 2007) | 20 lines

GetLastWriteTimeUtc() no longer throws an IOException if the file isn't
there in 2.0.  It returns a silly date from 1601.  Fix various places
(mostly in the file system backend) where we were depending on that
behavior.

Slightly reorder the flow in FilterFactory.FilterIndexable so that we
avoid unnecessary work, and also check in here if the file has
disappeared out from underneath us.

Fix a DateTime UTC conversion problem that was still hanging around in
FileAttributesStore.

Fix our ParseExact() in StringFu.  We want to AssumeUniversal AND
AdjustToUniversal so that dates we get back are right.  Mono is broken
with these options right now -- see
http://bugzilla.ximian.com/show_bug.cgi?id=80677 -- but things work well
enough now with the broken behavior, and the AdjustToUniversal is
necessary for when it's fixed.


------------------------------------------------------------------------
r3347 | dbera | 2007-01-30 12:14:11 -0500 (Tue, 30 Jan 2007) | 3 lines

* F-Spot code: More protection against bad jpegs.
* XdgMime.cs: Catch other valid exceptions when detecting mimetype.

------------------------------------------------------------------------
r3346 | joeshaw | 2007-01-29 15:52:35 -0500 (Mon, 29 Jan 2007) | 3 lines

Always return false instead of true from KonversationQueryable.IsIndexing,
because otherwise the 'your data is being indexed' info box is always
present.
------------------------------------------------------------------------
r3345 | joeshaw | 2007-01-29 14:17:01 -0500 (Mon, 29 Jan 2007) | 1 line

Workaround a mono bug (bxc #80320) when dealing with dates around MinValue
------------------------------------------------------------------------
r3344 | dbera | 2007-01-28 22:14:18 -0500 (Sun, 28 Jan 2007) | 2 lines

Fix crash when parsing extremely small files with no head or body.

------------------------------------------------------------------------
r3343 | dbera | 2007-01-28 11:30:59 -0500 (Sun, 28 Jan 2007) | 2 lines

Ignore Bim entries with marker PHUT. F-Spot Bim parser does not recognise them.

------------------------------------------------------------------------
r3342 | dbera | 2007-01-28 11:13:07 -0500 (Sun, 28 Jan 2007) | 2 lines

Handle javascript comments properly, namely the comments can contain quote characters which should be ignored and not assumed part of a quote. Error in original HtmlAgilityPack. There is still scope of error in script and style elements. They will be reported as "System.Exception: Load() was not paused previously" and need to be fixed on demand.

------------------------------------------------------------------------
r3341 | dbera | 2007-01-27 13:39:27 -0500 (Sat, 27 Jan 2007) | 2 lines

Add the changes.

------------------------------------------------------------------------
r3340 | dbera | 2007-01-27 13:35:34 -0500 (Sat, 27 Jan 2007) | 2 lines

Check iptc entry for null before trying to parse it. Close memorystream after use.

------------------------------------------------------------------------
r3339 | dbera | 2007-01-26 19:57:06 -0500 (Fri, 26 Jan 2007) | 2 lines

Fix a bug in extraction of JFIF comments from Jpeg files.

------------------------------------------------------------------------
r3338 | joeshaw | 2007-01-26 16:16:26 -0500 (Fri, 26 Jan 2007) | 4 lines

Update some assembly requirements in configure.in, and remove some
unnecessary ones from beagrepd/Makefile.am


------------------------------------------------------------------------
r3336 | joeshaw | 2007-01-25 18:40:53 -0500 (Thu, 25 Jan 2007) | 1 line

0.2.15.1, brown paper bag release
------------------------------------------------------------------------
r3335 | joeshaw | 2007-01-25 18:35:51 -0500 (Thu, 25 Jan 2007) | 2 lines

We need to bundle the thunderbird files in any case, regardless of whether or
not it's enabled.
------------------------------------------------------------------------
r3332 | joeshaw | 2007-01-25 17:36:12 -0500 (Thu, 25 Jan 2007) | 1 line

Update changelog for 0.2.15
------------------------------------------------------------------------
